<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cryptography Basics | Marcin Jahn | Technology Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Basic terms used in cryptography">
    <meta property="og:url" content="/technologies/security/cryptography/basic-terms.html">
    <meta property="og:site_name" content="Marcin Jahn | Technology Notebook">
    <meta property="og:title" content="Cryptography Basics">
    <meta property="og:description" content="Basic terms used in cryptography">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Technology Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="white">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.d0479855.css" as="style"><link rel="preload" href="/assets/js/app.98a2521e.js" as="script"><link rel="preload" href="/assets/js/2.a608218f.js" as="script"><link rel="preload" href="/assets/js/123.672e9dc6.js" as="script"><link rel="prefetch" href="/assets/js/10.955e5d43.js"><link rel="prefetch" href="/assets/js/100.c344fd03.js"><link rel="prefetch" href="/assets/js/101.e926ab2f.js"><link rel="prefetch" href="/assets/js/102.33613b7d.js"><link rel="prefetch" href="/assets/js/103.922dcf4c.js"><link rel="prefetch" href="/assets/js/104.6c24378c.js"><link rel="prefetch" href="/assets/js/105.93138e4e.js"><link rel="prefetch" href="/assets/js/106.96bf7371.js"><link rel="prefetch" href="/assets/js/107.0c6bda7b.js"><link rel="prefetch" href="/assets/js/108.af70a697.js"><link rel="prefetch" href="/assets/js/109.d72e9255.js"><link rel="prefetch" href="/assets/js/11.e82950e4.js"><link rel="prefetch" href="/assets/js/110.577bec38.js"><link rel="prefetch" href="/assets/js/111.37462b9d.js"><link rel="prefetch" href="/assets/js/112.8cdef052.js"><link rel="prefetch" href="/assets/js/113.65a4d6bf.js"><link rel="prefetch" href="/assets/js/114.d9b0d8bd.js"><link rel="prefetch" href="/assets/js/115.51a36652.js"><link rel="prefetch" href="/assets/js/116.615da026.js"><link rel="prefetch" href="/assets/js/117.53d0ac08.js"><link rel="prefetch" href="/assets/js/118.fe573942.js"><link rel="prefetch" href="/assets/js/119.bc4399ed.js"><link rel="prefetch" href="/assets/js/12.f0db8451.js"><link rel="prefetch" href="/assets/js/120.d2d702df.js"><link rel="prefetch" href="/assets/js/121.085672d6.js"><link rel="prefetch" href="/assets/js/122.d8ab0e1c.js"><link rel="prefetch" href="/assets/js/124.0b51aaa3.js"><link rel="prefetch" href="/assets/js/125.05a089dc.js"><link rel="prefetch" href="/assets/js/126.7982b6d5.js"><link rel="prefetch" href="/assets/js/13.2d4d2efb.js"><link rel="prefetch" href="/assets/js/14.862d31bf.js"><link rel="prefetch" href="/assets/js/15.9ec0ba77.js"><link rel="prefetch" href="/assets/js/16.bb1a857f.js"><link rel="prefetch" href="/assets/js/17.5dd495e5.js"><link rel="prefetch" href="/assets/js/18.70bcada4.js"><link rel="prefetch" href="/assets/js/19.bcc3273d.js"><link rel="prefetch" href="/assets/js/20.60db3a10.js"><link rel="prefetch" href="/assets/js/21.645b7f8e.js"><link rel="prefetch" href="/assets/js/22.b24eba90.js"><link rel="prefetch" href="/assets/js/23.0ab2dea9.js"><link rel="prefetch" href="/assets/js/24.61a7a272.js"><link rel="prefetch" href="/assets/js/25.70ffc5d2.js"><link rel="prefetch" href="/assets/js/26.d5b48f5b.js"><link rel="prefetch" href="/assets/js/27.e2590d16.js"><link rel="prefetch" href="/assets/js/28.9db5cfb4.js"><link rel="prefetch" href="/assets/js/29.8debde2d.js"><link rel="prefetch" href="/assets/js/3.f58aa2db.js"><link rel="prefetch" href="/assets/js/30.faf769c9.js"><link rel="prefetch" href="/assets/js/31.125000da.js"><link rel="prefetch" href="/assets/js/32.fa41c4aa.js"><link rel="prefetch" href="/assets/js/33.7487efab.js"><link rel="prefetch" href="/assets/js/34.4974810c.js"><link rel="prefetch" href="/assets/js/35.6ec22e4e.js"><link rel="prefetch" href="/assets/js/36.85149ed9.js"><link rel="prefetch" href="/assets/js/37.d97ebc15.js"><link rel="prefetch" href="/assets/js/38.8bea259f.js"><link rel="prefetch" href="/assets/js/39.5b2f295f.js"><link rel="prefetch" href="/assets/js/4.e69d3dfa.js"><link rel="prefetch" href="/assets/js/40.542639da.js"><link rel="prefetch" href="/assets/js/41.a0931265.js"><link rel="prefetch" href="/assets/js/42.855bf39d.js"><link rel="prefetch" href="/assets/js/43.4d91a62b.js"><link rel="prefetch" href="/assets/js/44.b3f2bc5d.js"><link rel="prefetch" href="/assets/js/45.4cae8bc2.js"><link rel="prefetch" href="/assets/js/46.ce3f70ff.js"><link rel="prefetch" href="/assets/js/47.d0ec145f.js"><link rel="prefetch" href="/assets/js/48.d5709f6d.js"><link rel="prefetch" href="/assets/js/49.7d88a1ab.js"><link rel="prefetch" href="/assets/js/5.7bad488c.js"><link rel="prefetch" href="/assets/js/50.57a14f38.js"><link rel="prefetch" href="/assets/js/51.5a116b8b.js"><link rel="prefetch" href="/assets/js/52.a54a59bf.js"><link rel="prefetch" href="/assets/js/53.9075d9af.js"><link rel="prefetch" href="/assets/js/54.34f8aadb.js"><link rel="prefetch" href="/assets/js/55.345d8a8d.js"><link rel="prefetch" href="/assets/js/56.6ff5833e.js"><link rel="prefetch" href="/assets/js/57.644474ca.js"><link rel="prefetch" href="/assets/js/58.9bc00d0c.js"><link rel="prefetch" href="/assets/js/59.e8689e7a.js"><link rel="prefetch" href="/assets/js/6.246c264b.js"><link rel="prefetch" href="/assets/js/60.1158f326.js"><link rel="prefetch" href="/assets/js/61.44b53976.js"><link rel="prefetch" href="/assets/js/62.a49d1031.js"><link rel="prefetch" href="/assets/js/63.bab4d6cf.js"><link rel="prefetch" href="/assets/js/64.82de4224.js"><link rel="prefetch" href="/assets/js/65.2807528e.js"><link rel="prefetch" href="/assets/js/66.8b65a316.js"><link rel="prefetch" href="/assets/js/67.af845a49.js"><link rel="prefetch" href="/assets/js/68.2b737861.js"><link rel="prefetch" href="/assets/js/69.f2e79d15.js"><link rel="prefetch" href="/assets/js/7.ed62b6c5.js"><link rel="prefetch" href="/assets/js/70.ad782527.js"><link rel="prefetch" href="/assets/js/71.9f04b273.js"><link rel="prefetch" href="/assets/js/72.6bccc119.js"><link rel="prefetch" href="/assets/js/73.ae5294f6.js"><link rel="prefetch" href="/assets/js/74.7355f57e.js"><link rel="prefetch" href="/assets/js/75.fc4a8979.js"><link rel="prefetch" href="/assets/js/76.08a65d24.js"><link rel="prefetch" href="/assets/js/77.41f5bc62.js"><link rel="prefetch" href="/assets/js/78.525edd26.js"><link rel="prefetch" href="/assets/js/79.9600b1bb.js"><link rel="prefetch" href="/assets/js/8.14da4f18.js"><link rel="prefetch" href="/assets/js/80.e49236a4.js"><link rel="prefetch" href="/assets/js/81.8f4c7693.js"><link rel="prefetch" href="/assets/js/82.670b29f4.js"><link rel="prefetch" href="/assets/js/83.96f34484.js"><link rel="prefetch" href="/assets/js/84.6d41e109.js"><link rel="prefetch" href="/assets/js/85.321c942e.js"><link rel="prefetch" href="/assets/js/86.4a43b9cb.js"><link rel="prefetch" href="/assets/js/87.9c87c8e2.js"><link rel="prefetch" href="/assets/js/88.4610c77c.js"><link rel="prefetch" href="/assets/js/89.8c2033b9.js"><link rel="prefetch" href="/assets/js/9.2039e18f.js"><link rel="prefetch" href="/assets/js/90.3ad36c14.js"><link rel="prefetch" href="/assets/js/91.c53713b1.js"><link rel="prefetch" href="/assets/js/92.3633a7bf.js"><link rel="prefetch" href="/assets/js/93.b9a037b9.js"><link rel="prefetch" href="/assets/js/94.eb154f92.js"><link rel="prefetch" href="/assets/js/95.20101364.js"><link rel="prefetch" href="/assets/js/96.0f7e9566.js"><link rel="prefetch" href="/assets/js/97.5af8bb6f.js"><link rel="prefetch" href="/assets/js/98.ecb3fad5.js"><link rel="prefetch" href="/assets/js/99.818f7077.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d0479855.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Technology Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Tools and Infrastructure
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link router-link-active">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Tools and Infrastructure
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link router-link-active">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav>  <ul class="sidebar-links"><li><a href="/technologies/" aria-current="page" class="sidebar-link">/technologies/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web Protocols</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Security</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>OAuth2</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Cryptography</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technologies/security/cryptography/basic-terms.html" aria-current="page" class="active sidebar-link">Cryptography Basics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technologies/security/cryptography/basic-terms.html#attacks" class="sidebar-link">Attacks</a></li><li class="sidebar-sub-header"><a href="/technologies/security/cryptography/basic-terms.html#hash" class="sidebar-link">Hash</a></li><li class="sidebar-sub-header"><a href="/technologies/security/cryptography/basic-terms.html#mac" class="sidebar-link">MAC</a></li><li class="sidebar-sub-header"><a href="/technologies/security/cryptography/basic-terms.html#nonce" class="sidebar-link">Nonce</a></li><li class="sidebar-sub-header"><a href="/technologies/security/cryptography/basic-terms.html#symmetric-encryption" class="sidebar-link">Symmetric Encryption</a></li><li class="sidebar-sub-header"><a href="/technologies/security/cryptography/basic-terms.html#asymmetric-encryption" class="sidebar-link">Asymmetric Encryption</a></li><li class="sidebar-sub-header"><a href="/technologies/security/cryptography/basic-terms.html#resources" class="sidebar-link">Resources</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>TPM</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Blockchain</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="cryptography-basics"><a href="#cryptography-basics" class="header-anchor">#</a> Cryptography Basics</h1> <h2 id="attacks"><a href="#attacks" class="header-anchor">#</a> Attacks</h2> <p>There are two ways to break cryptography system:</p> <ul><li>brute force - protection against it is to have so many password possibilities
that it'd be infeasible to try to break it. Another way is to limit the amount
of attacks that may be performed in a period of time</li> <li>finding the algorithm weakness</li></ul> <p>An algorithm is well designed if its security does not depend on keeping the
algorithm itself secret.</p> <h2 id="hash"><a href="#hash" class="header-anchor">#</a> Hash</h2> <p>Examples: MD5 (broken), SHA-1 (broken), SHA-2, SHA-3</p> <div class="custom-block tip"><p class="custom-block-title">SHA-2 and SHA-3 variants</p> <p>SHA-2/3 comes in different flavours: 224bit, 256bit, 384bit, 512bit.
SHA-2 omits &quot;2&quot; (e.g. SHA-256).
SHA-3 includes &quot;3&quot; (e.g. SHA-3-256)</p></div> <p>Hash function turns some data into an irreversible <strong>digest</strong>. It's used mostly
to check if data is correct - if it matches a known hash/digest (data integrity).</p> <div class="custom-block tip"><p class="custom-block-title">Infinite inputs</p> <p>In reality, the second and third properties of hash functions are not possible
to hold. There are infinite possible inputs to hash functions and a finite
amount of digests (hash result length is fixed).</p></div> <p>SHA-256 is a good enough choice, but SHA-3 is recommended.</p> <p>Hash functions have the following properties:</p> <ul><li>pre-image resistance - we can't get back from the result to the initial form</li> <li>second pre-image resistance - given some input and output, we'll not find
another input with the same output</li> <li>collision resistance - there are no two different inputs that result in
the same output.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The third property implies the second one. They're quite similar. The difference
is that <em>second pre-image resistance</em> requires the input 1 to be fixed.</p></div> <div class="custom-block tip"><p class="custom-block-title">Hashing passwords</p> <p>Argon2 hash function is the best choice for hashing passwords.</p></div> <h2 id="mac"><a href="#mac" class="header-anchor">#</a> MAC</h2> <p>Examples: HMAC, KMAC</p> <p>Uses hash function together with a private key (known to both the sender and the
receiver). It's mostly used to verify that the received data is correct (when we
create MAC by ourselves, it matches the received MAC) and sent by authorized
entity (it had to know the secret to create a MAC). The received data consists
of raw data and a MAC. The receiver should calculate the MAC from the raw data
and compare it with the received MAC.</p> <p>MAc can be used for cookies. After login, we can return a cookie containing a
MAC of the login name. Since only the server knows the secret that is used to
produce a MAC, users cannot provide fake MACs.</p> <h3 id="hmac"><a href="#hmac" class="header-anchor">#</a> HMAC</h3> <p>A way to generate a MAC. It uses a pair of a hashing function and a secret key
to generate a MAC from some message.</p> <p>Encryption does not guarantee integrity. The receiver of encrypted data does not
know if the received string has not been altered by someone (that someone would
not know the plain text, though). It's a good practice to first encrypt the
plain text and then HMAC it to get a MAC of the encrypted data. A receiver can
check if the encrypted string is correct and then they can decrypt it. Then the
receiver would need to know two secrets - HMAC secret and the encryption key.
Or, a seed might be used.</p> <h2 id="nonce"><a href="#nonce" class="header-anchor">#</a> Nonce</h2> <p>A number attached to the message. There shouldn't be two messages with the same
nonces. It guards against <em>replay attacks</em>.</p> <h2 id="symmetric-encryption"><a href="#symmetric-encryption" class="header-anchor">#</a> Symmetric Encryption</h2> <p>Examples: AES (128, 192, or 256 bits)</p> <p>The bits in the algorithm name refer to the amount of bits in the key.</p> <p>AES-128 is commonly used, it provides good enough encryption.</p> <h3 id="authenticated-symmetric-encryption"><a href="#authenticated-symmetric-encryption" class="header-anchor">#</a> Authenticated Symmetric Encryption</h3> <p>Ciphers generated with AES may be tempered with, and the result of decryption
might be invalid. That's why we call it <em>Unauthenticated encryption</em> - we don't know if the cipher is valid.</p> <p>Authenticated encryption is used instead to provide some guarantees about
validity of the cipher. AES-GCM and ChaCha20-Poly1305 are used most often.</p> <h2 id="asymmetric-encryption"><a href="#asymmetric-encryption" class="header-anchor">#</a> Asymmetric Encryption</h2> <p>Examples: Diffie-Hellman (DH), RSA, ECDH (Elliptic Curve DH) (recommended)</p> <p>Calculating a public key from a private key is simple. The opposite is
computationally infeasible.</p> <p>Encrypting some data with a private key is called <strong>signing</strong>. Everyone can
decrypt it, but they can be sure that it was encrypted by the owner of the
private key. It helps to establish trust. If we trust the signer, then we can
trust the content of the message that was signed.</p> <p>Encrypting some data with a public key ensures that only an owner of the private
key will be able to read it.</p> <p>The size of data to be encrypted cannot be too big (~500 characters). Usually,
the symmetric key gets encrypted with a public key, and then the parties use
that symmetric key to encrypt the actual messages. Additionally, symmetric
encryption/decryption is much faster than asymmetric operations.</p> <h3 id="authenticated-encryption"><a href="#authenticated-encryption" class="header-anchor">#</a> Authenticated Encryption</h3> <p>Similarly to symmetric encryption, we need a way to be sure that we got a public
key of the entity we believe we got it from. If we don't have a way to verify
that then the key exchange is unauthenticated.</p> <p>Asymmetric communication can be authenticated (one-sided authentication) or
mutually authenticated.</p> <h3 id="digital-signature"><a href="#digital-signature" class="header-anchor">#</a> Digital Signature</h3> <p>Signing a piece of data creates a digital signature. It is similar to the MAC.
Such a signature provides a proof of <em>authenticity</em> and <em>integrity</em> (like MAC).
Additionally, it:</p> <ul><li>allows to verify the signature by anyone. MAC requires the verifier to have
the private key</li> <li>only the trusted sender could generate the signature, because the private key
was needed. In case of MAC, both the sender and receiver know the secret. The
receiver cannot prove that the MAC was generated by the sender and not the
receiver themselves.</li></ul> <p>Typically, signatures are created based on digests of the original data due to
size limitations in asymmetric encryption. The receiver applies hash to the
plain text data to compare it with the signed hash.</p> <h3 id="x-509"><a href="#x-509" class="header-anchor">#</a> X.509</h3> <p>X.509 is a format of digital certificates. It includes:</p> <ul><li>the public key part of asymmetric pair - that key is being certified</li> <li>attributes of that key</li></ul> <p>The certificate must be signed by a CA (by its private key). CA's public key may
be signed by another CA, which creates a hierarchy - a certificate chain. At the
top, there's a root certificate, which is trusted unconditionally.</p> <p>TPM does not generate or consume X.509 certificates. It can store them though.
There are some certification processes within TPM:</p> <ul><li>TPM vendor and platform manufacturer may provision TPM with <strong>Endorsement
Keys</strong> (EKs) and corresponding certificates before shipping to the end user.
the certificates assert respectively that the TPM is produced by the vendor
and included by the manufacturer in their platform. They are in X.509 format.</li> <li>the EKs (and their certs) may be used to certify other keys (if EKs are
signing). TPM can create certificates (but not in X.509 format, it's too
complex for TPMs).</li></ul> <h2 id="resources"><a href="#resources" class="header-anchor">#</a> Resources</h2> <ul><li>Real-World Cryptography by David Wong</li> <li>http://jrruethe.github.io/blog/2014/10/25/cryptography-primer/</li></ul></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/technologies/security/oauth2/sender-constraint.html" class="prev">
        Sender Constraint
      </a></span> <span class="next"><a href="/technologies/security/tpm/overview.html">
        Overiew
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/27/2022, 4:29:24 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.98a2521e.js" defer></script><script src="/assets/js/2.a608218f.js" defer></script><script src="/assets/js/123.672e9dc6.js" defer></script>
  </body>
</html>
