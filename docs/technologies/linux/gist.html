<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gist of Linux Tooling | Marcin Jahn | Tech Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Lots of commands and tools that are fundamental to Linux administration">
    <meta property="og:url" content="/technologies/linux/gist.html">
    <meta property="og:site_name" content="Marcin Jahn | Tech Notebook">
    <meta property="og:title" content="Gist of Linux Tooling">
    <meta property="og:description" content="Lots of commands and tools that are fundamental to Linux administration">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Tech Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="#7D84B2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.907785b2.css" as="style"><link rel="preload" href="/assets/js/app.b0f22934.js" as="script"><link rel="preload" href="/assets/js/2.e154a615.js" as="script"><link rel="preload" href="/assets/js/145.6dd8ed70.js" as="script"><link rel="prefetch" href="/assets/js/10.8cf575a9.js"><link rel="prefetch" href="/assets/js/100.43d851a1.js"><link rel="prefetch" href="/assets/js/101.6f91dfcf.js"><link rel="prefetch" href="/assets/js/102.61986edd.js"><link rel="prefetch" href="/assets/js/103.ceddef25.js"><link rel="prefetch" href="/assets/js/104.d91fc170.js"><link rel="prefetch" href="/assets/js/105.62b570cc.js"><link rel="prefetch" href="/assets/js/106.3889bfc7.js"><link rel="prefetch" href="/assets/js/107.7292c153.js"><link rel="prefetch" href="/assets/js/108.44f3837d.js"><link rel="prefetch" href="/assets/js/109.768aa32d.js"><link rel="prefetch" href="/assets/js/11.c22c2dd5.js"><link rel="prefetch" href="/assets/js/110.6fc9035b.js"><link rel="prefetch" href="/assets/js/111.6c546f56.js"><link rel="prefetch" href="/assets/js/112.bb53efef.js"><link rel="prefetch" href="/assets/js/113.1de1aba5.js"><link rel="prefetch" href="/assets/js/114.f1895934.js"><link rel="prefetch" href="/assets/js/115.ac23631a.js"><link rel="prefetch" href="/assets/js/116.4d7b53ab.js"><link rel="prefetch" href="/assets/js/117.ce81a8d2.js"><link rel="prefetch" href="/assets/js/118.b96bef2d.js"><link rel="prefetch" href="/assets/js/119.8aff28a2.js"><link rel="prefetch" href="/assets/js/12.47d6c779.js"><link rel="prefetch" href="/assets/js/120.ad876841.js"><link rel="prefetch" href="/assets/js/121.38a349c3.js"><link rel="prefetch" href="/assets/js/122.3cfe414b.js"><link rel="prefetch" href="/assets/js/123.604ac053.js"><link rel="prefetch" href="/assets/js/124.7a367e13.js"><link rel="prefetch" href="/assets/js/125.1d66b980.js"><link rel="prefetch" href="/assets/js/126.02e2fa45.js"><link rel="prefetch" href="/assets/js/127.c7c47b88.js"><link rel="prefetch" href="/assets/js/128.ad02ff55.js"><link rel="prefetch" href="/assets/js/129.662aea38.js"><link rel="prefetch" href="/assets/js/13.7a44d7be.js"><link rel="prefetch" href="/assets/js/130.18f7c95b.js"><link rel="prefetch" href="/assets/js/131.5c401a8b.js"><link rel="prefetch" href="/assets/js/132.314453b6.js"><link rel="prefetch" href="/assets/js/133.a6d0ea21.js"><link rel="prefetch" href="/assets/js/134.30564478.js"><link rel="prefetch" href="/assets/js/135.d71435ed.js"><link rel="prefetch" href="/assets/js/136.1e7a4836.js"><link rel="prefetch" href="/assets/js/137.7096493d.js"><link rel="prefetch" href="/assets/js/138.ad6f88c4.js"><link rel="prefetch" href="/assets/js/139.c37d367a.js"><link rel="prefetch" href="/assets/js/14.ab8e1dcc.js"><link rel="prefetch" href="/assets/js/140.45aab80e.js"><link rel="prefetch" href="/assets/js/141.a04418fc.js"><link rel="prefetch" href="/assets/js/142.8bdcfb75.js"><link rel="prefetch" href="/assets/js/143.dc492b57.js"><link rel="prefetch" href="/assets/js/144.c42eee7b.js"><link rel="prefetch" href="/assets/js/146.86dc3734.js"><link rel="prefetch" href="/assets/js/147.eab67d68.js"><link rel="prefetch" href="/assets/js/148.b365ebbb.js"><link rel="prefetch" href="/assets/js/149.c643c813.js"><link rel="prefetch" href="/assets/js/15.89e1dd21.js"><link rel="prefetch" href="/assets/js/150.7f04df38.js"><link rel="prefetch" href="/assets/js/151.32cd3891.js"><link rel="prefetch" href="/assets/js/152.2c0978db.js"><link rel="prefetch" href="/assets/js/153.53ddc066.js"><link rel="prefetch" href="/assets/js/154.650a6241.js"><link rel="prefetch" href="/assets/js/155.c563fc6d.js"><link rel="prefetch" href="/assets/js/156.b40bdc21.js"><link rel="prefetch" href="/assets/js/157.6ebd8eb1.js"><link rel="prefetch" href="/assets/js/158.0fd009bb.js"><link rel="prefetch" href="/assets/js/159.aad975e2.js"><link rel="prefetch" href="/assets/js/16.2a55624c.js"><link rel="prefetch" href="/assets/js/160.b2bde4a3.js"><link rel="prefetch" href="/assets/js/161.153fa986.js"><link rel="prefetch" href="/assets/js/162.28333e4c.js"><link rel="prefetch" href="/assets/js/163.17209ae5.js"><link rel="prefetch" href="/assets/js/164.17bcd5bd.js"><link rel="prefetch" href="/assets/js/165.8baa923d.js"><link rel="prefetch" href="/assets/js/17.17b698d6.js"><link rel="prefetch" href="/assets/js/18.fcf4ce52.js"><link rel="prefetch" href="/assets/js/19.cf1af818.js"><link rel="prefetch" href="/assets/js/20.956ebc37.js"><link rel="prefetch" href="/assets/js/21.68b3a94e.js"><link rel="prefetch" href="/assets/js/22.c89acf3d.js"><link rel="prefetch" href="/assets/js/23.7830c31b.js"><link rel="prefetch" href="/assets/js/24.22f6a490.js"><link rel="prefetch" href="/assets/js/25.acdbbc39.js"><link rel="prefetch" href="/assets/js/26.68cc26b6.js"><link rel="prefetch" href="/assets/js/27.03bad775.js"><link rel="prefetch" href="/assets/js/28.d061f593.js"><link rel="prefetch" href="/assets/js/29.8da5f1a5.js"><link rel="prefetch" href="/assets/js/3.54e9968c.js"><link rel="prefetch" href="/assets/js/30.d0990184.js"><link rel="prefetch" href="/assets/js/31.55e59b43.js"><link rel="prefetch" href="/assets/js/32.3b90ff2a.js"><link rel="prefetch" href="/assets/js/33.e414a879.js"><link rel="prefetch" href="/assets/js/34.1bec9902.js"><link rel="prefetch" href="/assets/js/35.a682d85c.js"><link rel="prefetch" href="/assets/js/36.2c3f8f9d.js"><link rel="prefetch" href="/assets/js/37.c37d1fcd.js"><link rel="prefetch" href="/assets/js/38.18cb3d3d.js"><link rel="prefetch" href="/assets/js/39.48e1c6c4.js"><link rel="prefetch" href="/assets/js/4.717d26e8.js"><link rel="prefetch" href="/assets/js/40.85b85b8c.js"><link rel="prefetch" href="/assets/js/41.94d3e608.js"><link rel="prefetch" href="/assets/js/42.4216a2f8.js"><link rel="prefetch" href="/assets/js/43.d1023d2d.js"><link rel="prefetch" href="/assets/js/44.8dad369c.js"><link rel="prefetch" href="/assets/js/45.ff361dd7.js"><link rel="prefetch" href="/assets/js/46.49304298.js"><link rel="prefetch" href="/assets/js/47.1c5831ae.js"><link rel="prefetch" href="/assets/js/48.fb50793f.js"><link rel="prefetch" href="/assets/js/49.9fde475a.js"><link rel="prefetch" href="/assets/js/5.84ed60bf.js"><link rel="prefetch" href="/assets/js/50.9d88640e.js"><link rel="prefetch" href="/assets/js/51.5b12a7c7.js"><link rel="prefetch" href="/assets/js/52.0450ff83.js"><link rel="prefetch" href="/assets/js/53.813a6074.js"><link rel="prefetch" href="/assets/js/54.081ac0a6.js"><link rel="prefetch" href="/assets/js/55.6b0e7341.js"><link rel="prefetch" href="/assets/js/56.3c99382c.js"><link rel="prefetch" href="/assets/js/57.053c730a.js"><link rel="prefetch" href="/assets/js/58.c797622b.js"><link rel="prefetch" href="/assets/js/59.8072a137.js"><link rel="prefetch" href="/assets/js/6.5229f742.js"><link rel="prefetch" href="/assets/js/60.204d9351.js"><link rel="prefetch" href="/assets/js/61.8a4697b9.js"><link rel="prefetch" href="/assets/js/62.0c70df37.js"><link rel="prefetch" href="/assets/js/63.9fc89ae8.js"><link rel="prefetch" href="/assets/js/64.3c9e7981.js"><link rel="prefetch" href="/assets/js/65.833ea0cd.js"><link rel="prefetch" href="/assets/js/66.d16a90ea.js"><link rel="prefetch" href="/assets/js/67.61c9c0fe.js"><link rel="prefetch" href="/assets/js/68.be8fb435.js"><link rel="prefetch" href="/assets/js/69.20af85b4.js"><link rel="prefetch" href="/assets/js/7.dc9b28a2.js"><link rel="prefetch" href="/assets/js/70.7f3b845b.js"><link rel="prefetch" href="/assets/js/71.3242fecb.js"><link rel="prefetch" href="/assets/js/72.4e26de85.js"><link rel="prefetch" href="/assets/js/73.acc8589f.js"><link rel="prefetch" href="/assets/js/74.2e3b1a7b.js"><link rel="prefetch" href="/assets/js/75.0464fe89.js"><link rel="prefetch" href="/assets/js/76.a0e4dd78.js"><link rel="prefetch" href="/assets/js/77.6de0b2a7.js"><link rel="prefetch" href="/assets/js/78.a11de57b.js"><link rel="prefetch" href="/assets/js/79.dc5e1222.js"><link rel="prefetch" href="/assets/js/8.141a7866.js"><link rel="prefetch" href="/assets/js/80.dcdc8db2.js"><link rel="prefetch" href="/assets/js/81.4f75582f.js"><link rel="prefetch" href="/assets/js/82.698ebee6.js"><link rel="prefetch" href="/assets/js/83.2cbac3aa.js"><link rel="prefetch" href="/assets/js/84.9bdc05f4.js"><link rel="prefetch" href="/assets/js/85.1dc5f3ba.js"><link rel="prefetch" href="/assets/js/86.0365a114.js"><link rel="prefetch" href="/assets/js/87.cbc380f5.js"><link rel="prefetch" href="/assets/js/88.9ea99cb0.js"><link rel="prefetch" href="/assets/js/89.9f1da8dd.js"><link rel="prefetch" href="/assets/js/9.1b53687b.js"><link rel="prefetch" href="/assets/js/90.42328d36.js"><link rel="prefetch" href="/assets/js/91.30efa7d1.js"><link rel="prefetch" href="/assets/js/92.767fd909.js"><link rel="prefetch" href="/assets/js/93.fcb775f3.js"><link rel="prefetch" href="/assets/js/94.6f962f93.js"><link rel="prefetch" href="/assets/js/95.14f9e6fc.js"><link rel="prefetch" href="/assets/js/96.e066271b.js"><link rel="prefetch" href="/assets/js/97.bb4ae7c0.js"><link rel="prefetch" href="/assets/js/98.9cd0073a.js"><link rel="prefetch" href="/assets/js/99.e53676c0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.907785b2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Tech Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link router-link-active">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6d74c91a><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-06466073 data-v-6d74c91a><img src="/img/linkedin.webp" data-v-06466073></a><a target="_blank" href="https://github.com/marcinjahn" data-v-06466073 data-v-6d74c91a><img src="/img/github.webp" data-v-06466073></a><a target="_blank" href="https://www.cirro.services" data-v-06466073 data-v-6d74c91a><span data-v-06466073>cirro.services</span></a></span> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link router-link-active">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6d74c91a><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-06466073 data-v-6d74c91a><img src="/img/linkedin.webp" data-v-06466073></a><a target="_blank" href="https://github.com/marcinjahn" data-v-06466073 data-v-6d74c91a><img src="/img/github.webp" data-v-06466073></a><a target="_blank" href="https://www.cirro.services" data-v-06466073 data-v-6d74c91a><span data-v-06466073>cirro.services</span></a></span> <!----></nav>  <ul class="sidebar-links"><li><a href="/technologies/" aria-current="page" class="sidebar-link">/technologies/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/network.webp"></span> <span>Networking</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/security.webp"></span> <span>Security</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/blockchain.webp"></span> <span>Blockchain</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span class="img-container"><img src="/sidebar-imgs/linux.webp"></span> <span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technologies/linux/gist.html" aria-current="page" class="active sidebar-link">Gist of Linux Tooling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#ssh" class="sidebar-link">SSH</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#useful-commands" class="sidebar-link">Useful Commands</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#working-with-files" class="sidebar-link">Working with files</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#redirection-and-pipes" class="sidebar-link">Redirection and pipes</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#links" class="sidebar-link">Links</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#archiving" class="sidebar-link">Archiving</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#permissions" class="sidebar-link">Permissions</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#external-storage" class="sidebar-link">External storage</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#root-access" class="sidebar-link">Root Access</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#processes" class="sidebar-link">Processes</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#shared-libraries" class="sidebar-link">Shared Libraries</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#cron" class="sidebar-link">CRON</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#selinux" class="sidebar-link">SELinux</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#services" class="sidebar-link">Services</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#users-groups" class="sidebar-link">Users &amp; Groups</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#networking" class="sidebar-link">Networking</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#packages" class="sidebar-link">Packages</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#systemd" class="sidebar-link">systemd</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#interesting-facts" class="sidebar-link">Interesting Facts</a></li></ul></li><li><a href="/technologies/linux/system-calls.html" class="sidebar-link">System Calls and libc</a></li><li><a href="/technologies/linux/containers.html" class="sidebar-link">Containerization</a></li><li><a href="/technologies/linux/bash-scripting.html" class="sidebar-link">Bash Scripting</a></li><li><a href="/technologies/linux/lfs.html" class="sidebar-link">Linux From Scratch</a></li><li><a href="/technologies/linux/networking.html" class="sidebar-link">Networking</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/kubernetes.webp"></span> <span>Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/sql-server.webp"></span> <span>SQL Server</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/mongodb.webp"></span> <span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/git.webp"></span> <span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/ansible.webp"></span> <span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/azure.webp"></span> <span>Azure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/gcp.webp"></span> <span>Google Cloud</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="gist-of-linux-tooling"><a href="#gist-of-linux-tooling" class="header-anchor">#</a> Gist of Linux Tooling</h1> <h2 id="ssh"><a href="#ssh" class="header-anchor">#</a> SSH</h2> <p><code>ssh-keygen</code> - generates SSH keys</p> <p><code>ssh-copy-id marcin@rpi.local</code> - copy client SSH public key to server for SSH
authentication (<code>.ssh/authorized_keys</code> on the server).</p> <p><code>~/.ssh/known_hosts</code> - contains public keys of servers that we SSH-ed into.</p> <p>Access to SSH with root should be disabled (<code>/etc/ssh/sshd_config</code>).</p> <h2 id="useful-commands"><a href="#useful-commands" class="header-anchor">#</a> Useful Commands</h2> <p><code>tty</code> - current terminal</p> <p><code>who</code> - logged in users</p> <p><code>uptime</code> - shows server's uptime</p> <p><code>free</code> - shows free memory</p> <p><code>pwd -P</code> - shows the actual directory (mostly useful for dirs being symbolic
links)</p> <p><code>type &lt;command&gt;</code> - shows what a command is (program, alias, ...)</p> <p><code>!$</code> expands to the last used argument (if previous command had many arguments,
just the last one is used)</p> <p><code>md5sum &lt;file&gt;</code> can be used  to check md5 of a file (i.e., to compare if some
binary is the same as another binary)</p> <p><code>set -o noclobber</code> - using output redirect <code>&gt;</code> is &quot;blocked&quot; if a file would be
overwritten. It can be bypasses using <code>&gt;|</code>. <code>set +o noclobber</code> will remove the
&quot;lock&quot; back.</p> <p><code>uname -r</code> - kernel version <code>lsb_release -d</code> - distribution description (not
always available) <code>cat /proc/version</code> - similar to above two</p> <p><code>runlevel</code> - current runlevel (&quot;5&quot; - &quot;graphical.target&quot;, &quot;3&quot; -
&quot;multi-user.target&quot; (no GUI)) <code>systemctl isolate multi-user.target</code> - set
current runlevel <code>systemctl set-default multi-user.target</code> - set default
runlevel</p> <p><code>sleep 100</code> - waits for 100 seconds</p> <p><code>whereis</code> - finds commands in more places than <code>which</code></p> <p><code>locate</code> - locates filenames using precompiled index. The DB is updated with
<code>updatedb</code> (it runs using <code>cron</code>, so it's not always recent).</p> <h2 id="working-with-files"><a href="#working-with-files" class="header-anchor">#</a> Working with files</h2> <p><code>mkdir -p some/dir</code> - creates all directories <code>cp -R one two</code> - copies files
recursively</p> <h2 id="redirection-and-pipes"><a href="#redirection-and-pipes" class="header-anchor">#</a> Redirection and pipes</h2> <p><code>&gt;</code>/<code>1&gt;</code> - redirects <em>STDOUT</em> <code>2&gt;</code> - redirects <em>STDERR</em> <code>&amp;&gt;</code> - redirects both
<em>STDOUT</em> and <em>STDERR</em> <code>&lt;</code> - redirects <em>STDIN</em> <code>|</code> - unnamed pipe. It connects
<em>STDOUT</em> of one program to <em>STDIN</em> of another program</p> <p><code>tee</code> - can be used instead of <code>&gt;</code> in various cases (and <code>tee -a</code> is an
equivalent of <code>&gt;&gt;</code>):</p> <ul><li>to redirect output to a file, but also to display it in the terminal (<code>ls | tee myfile</code>)</li> <li>to redirect output to a file that requires root permissions (<code>echo &quot;127.0.0.1 localhost&quot; | sudo tee -a /etc/hosts</code>). <code>&gt;&gt;</code> wouldn't be able to do that.</li></ul> <p>There are also named pipes, which are special kind of files (<code>p</code>) that act as
FIFO queues. When one process writes to it, it's blocked until another process
reads the data out. It accomplishes IPC (Inter-Process Communication).</p> <h2 id="links"><a href="#links" class="header-anchor">#</a> Links</h2> <p><code>ls -l &lt;file&gt;</code> shows how many hard links (not soft-links) a file has (shown
after permissions).</p> <p><code>ln f1 f2</code> - creates a hard link <code>ln -s f1 f3</code> - creates a symbolic link</p> <p><strong>Hard Link</strong> - another name of an existing file. The hard-link is just another
entry for the same inode in the file names map.</p> <ul><li>can be created only on the same filesystem nad same partition</li> <li>can't be created for directories</li> <li>has the same inode as the original file - so it's the same file!</li> <li>deleting the &quot;original&quot; file is OK - hard link will still contain data</li></ul> <p><strong>Soft Link</strong> - a shortcut to a file. It just points to another file</p> <ul><li>each soft link is a separate file</li> <li>deleteing the original file makes soft link unusable</li> <li>has a diffrent inode than the original file (becuse it is a different file!)</li> <li>can point to directories</li></ul> <h2 id="archiving"><a href="#archiving" class="header-anchor">#</a> Archiving</h2> <p><code>tar -cf backup.tar ./some_folder</code> - create an archive. The given folder path
will be recreated while extracting (<code>some_folder</code> vs
<code>/home/marcin/some_folder</code>). <code>tar -xf backup.tar</code> - extract an archive</p> <p><code>-v</code> parameter will add verbosity. Two <code>-v</code>s will add more vermosity.</p> <p>We can create incremental backups using <code>-g</code> and a .snar file.</p> <h3 id="compression"><a href="#compression" class="header-anchor">#</a> Compression</h3> <p><code>gzip archieve.tar</code> - compress an existing tar. Tar file will be deleted and
tar.gz will be created. <code>gunzip archieve.tar.gz</code> - returns <code>archieve.tar</code> <code>tar -czf backup.tar.gz my_folder</code> - creates <code>my_folder.tar.gz</code>. Replace <code>c</code> with <code>x</code>
to extract.</p> <p><code>bzip2 archieve.tar</code> - better compression. Produces .bz2 from the source file
<code>bunzip2 archieve.tar.bz2</code> - returns <code>archieve.tar</code> <code>tar -cjf backup.tar.bz2 my_folder</code> - creates <code>my_folder.tar.bz2</code>. Replace <code>c</code> with <code>x</code> to extract.</p> <h3 id="dd"><a href="#dd" class="header-anchor">#</a> dd</h3> <p><code>dd -if=/dev/sda1 of=disk.img</code> - creates an image of some source directory</p> <h2 id="permissions"><a href="#permissions" class="header-anchor">#</a> Permissions</h2> <p>By default each new file has <code>666</code> permissions (rw-rw-rw-). Each new directory
has<code>777</code>. However, this can be changed by <code>umask</code>. On Ubuntu, the <code>umask</code>
command prints <code>0002</code>. It means that WRITE permission is taken out from the
&quot;others&quot; when creating files. We can set different mask, i.e. <code>umask 27</code> - the
new files will have only rw-r----- permissions. <code>umask</code> can only decrease
default permissions, it can't add any.</p> <p>If the user has some permission on a directory, he will also have that
permission on all the files inside of that directory, even if the files belong
to somebody else.</p> <h3 id="changing-permissions"><a href="#changing-permissions" class="header-anchor">#</a> Changing permissions</h3> <p><code>chmod +x file1</code> - adds execution permission <code>chgrp group1 file1</code> - group of
&quot;file1&quot; is set to &quot;group1&quot; <code>chown root file2</code> - set owner of a file <code>chown joe:joe file2</code> -set user and group owners of a file</p> <p><code>cp</code> command, by default, sets the owner of the copied file to the user:group
who did the copy. This behaviour can be changed with <code>-a</code> parameters (<code>cp -a</code>
requires root priviliges, because we're changing the owner of the file after
copying).</p> <h2 id="external-storage"><a href="#external-storage" class="header-anchor">#</a> External storage</h2> <p><code>lsblk</code> - shows disks and partitions <code>sudo fdisk -l</code> - shows more details about
storage devices</p> <p><code>sudo mkdir /media/usb</code> - creates a directory where we'll mount the storage</p> <p><code>sudo mount /dev/sda1 /media/usb</code> - mounts <code>sudo umount /media/usb</code> - unmounts</p> <h3 id="sticky-bits"><a href="#sticky-bits" class="header-anchor">#</a> Sticky bits</h3> <p>?</p> <h2 id="root-access"><a href="#root-access" class="header-anchor">#</a> Root Access</h2> <p><code>su</code> - requires knowledge of root's password. By default, switches to root, but
it could any other user. After running it, the environment variables are not
reloaded - $USER will be still &quot;marcin&quot;, current directory also stays the same
<code>su -</code> - like above, but loads root's environment (envs, current directory).
This one is recommended.</p> <p><code>sudo</code> - delegated rights to root just once. User uses their own password to
authenticate. Authentication stays on for 5 minutes. <code>sudo -i</code> - opens a new
bash as a root (a bit like <code>su</code>, but no root password knowledge is required).</p> <p>Permission available via <code>sudo</code> can be controlled using <code>/etc/sudoers</code> file (who
can use <code>sudo</code>, as who they can login, what commands they can run). The file can
be modified via <code>visudo</code> program. Also 5-minute period can be modified here.</p> <h2 id="processes"><a href="#processes" class="header-anchor">#</a> Processes</h2> <p>Not all processes are attached to TTYs.</p> <p><code>ps</code> - shows processes from current shell (PIDs, attached TTY) <code>ps aux</code> - show
all processes of users, also these without TTY attached. <code>pstree</code> - shows tree
of processes</p> <p><code>/proc</code> directory containing details of processes (directories inside are PIDs).</p> <p><code>echo $$</code> - PID of the current process</p> <h3 id="signalling"><a href="#signalling" class="header-anchor">#</a> Signalling</h3> <p><code>kill -l</code> - shows all available signals and their numbers</p> <p>The process does not have to respond to the signal!</p> <p><code>kill PID</code>/<code>kill -15 PID</code>/<code>kill -term PID</code>/<code>kill -sigterm PID</code> - sends SIGTERM</p> <p>If process does not respond to SIGTERM (15), we can try with SIGKILL (9): <code>kill -kill PID</code>. It removes process directory from <code>/proc/</code>!</p> <h3 id="bg-and-fg-processes"><a href="#bg-and-fg-processes" class="header-anchor">#</a> BG and FG processes</h3> <p><code>sleep 100&amp;</code> - <code>&amp;</code> at the end starts the process in the background (a job)
<code>jobs</code> - displays all background jobs <code>CTRL + Z</code> - sends the SUSPEND to the
running process (a job is sent to the background and is STOPPED) <code>bg</code> - resumes
the job in the background (becomes RUNNING) <code>fg</code> - brings the background job to
the foreground</p> <h2 id="shared-libraries"><a href="#shared-libraries" class="header-anchor">#</a> Shared Libraries</h2> <p><code>ldd /usr/bin/grep</code> - lists the shared libraries used by a given program.</p> <p><code>/etc/ld.so.conf.d/</code> contains config files with paths to shared libraries (i.e.
<code>/lib/</code>). If we add some paths there, we need to update lirbary cache with
<code>ldconfig</code>. <code>ldconfig -p</code> lists the lirbaries in the cache.</p> <h2 id="cron"><a href="#cron" class="header-anchor">#</a> CRON</h2> <p><code>cron</code> - scheduled jobs (every 10 minutes, etc.) <code>anacron</code> - tun job after
system boot (10 minutes after, etc.) <code>at</code> - run a jon once at some time</p> <h2 id="selinux"><a href="#selinux" class="header-anchor">#</a> SELinux</h2> <p>DAC - users have full control over their stuff. If thye do <code>chmod +wrx</code> on their
files, everyone can do whatever they want with them MAC - there are some
policies that add another layer of control over the system</p> <p>Booleans - various flags controlling different permissions (i.e. there is a
boolean that controls if httpd can access home directories ('false' by
default)).</p> <h2 id="services"><a href="#services" class="header-anchor">#</a> Services</h2> <p><code>systemctl status cron.service</code> - shows the status <code>systemctl cat cron.service</code></p> <ul><li>shows the configuration file of the service</li></ul> <p><code>sudo systemctl start docker.service</code> - start the service now <code>sytemctl enable docker.service</code> - enable on next startup <code>systemctl enable docker.service --now</code></p> <ul><li>enable on next startup and start now</li></ul> <p><code>sudo systemctl stop cron.service</code> - stops the service (if it's &quot;enabled&quot;, it
will start on next boot) <code>systemctl disable docker.service</code> - disable a service
on next startup <code>systemctl disable docker.service --now</code> - disable a service on
next startup and now</p> <p><code>systemctl restart docker.service</code> - restart a service</p> <p><code>systemctl mask docker.service</code> - service cannot be started until it's unmasked
(<code>unmask</code>)</p> <p>Unit files (<code>.service</code> suffix) are in:</p> <ul><li><code>/usr/lib/systemd/system</code> - unit files deposited by packages during their
installation</li> <li><code>/etc/systemd/system</code> - local unit files and customizations can go there</li></ul> <h2 id="users-groups"><a href="#users-groups" class="header-anchor">#</a> Users &amp; Groups</h2> <p><code>/etc/passwd</code> - contains all users <code>/etc/group</code> - contains all groups <code>useradd bob</code> - adds user</p> <h2 id="networking"><a href="#networking" class="header-anchor">#</a> Networking</h2> <p><code>dig www.google.pl</code> uses DNS to find IP addresses <code>dig www.google.com @8.8.8.8</code></p> <ul><li>a way to specify DNS server to be used</li></ul> <p><code>ip -4 a</code> - shows just IPv4 addresses</p> <p><code>traceroute google.com</code>/<code>tracepath google.com</code> - shows &quot;hops&quot; when going to some
address</p> <p>ConnectionManager (<code>nmcli</code>) allows to manage connections using network
interfaces. It allows to stop/start connections (<code>down</code> and <code>up</code>).</p> <h3 id="iptables"><a href="#iptables" class="header-anchor">#</a> iptables</h3> <p>By default, the firewall is set to ACCEPT everything (there are no rules).
Additionally, the POLICY of each chain is set  to ACCEPT - if not rule is
matched, the traffic will be accepted. The rules are read from top to bottom. As
soon as one of them matches, the rest is ignored.</p> <p><code>iptables -L</code> - shows the current config. &quot;FORWARDING&quot; chain is used when the
machine acts as a router (by default, it doesn't). <code>iptables-save &gt; iptables.config</code> - saves the current config in the file <code>iptables-restore &gt; iptables.conf</code> - load config from a file</p> <p>Examples: <code>iptables -A INPUT -i lo -j ACCEPT</code> - adds an ACCEPT rule to the INPUT
chain for all local traffic <code>iptables -A INPUT -p tcp --dport 22 -j ACCEPT</code> -
allow SSH into the system</p> <h3 id="tcp-tunelling"><a href="#tcp-tunelling" class="header-anchor">#</a> TCP Tunelling</h3> <p>Tunneling allows to use some protocol (i.e., SSH) to &quot;hide&quot; some other protocol
(i.e. HTTP).</p> <p><code>ssh -f - L 8080:localhost:80 root@server2 -N</code> - SSH will listen in the
background on the client for requests to port 8080. It will then send this
traffic to server2, where the traffic will be directed to localhost:80
(webserver running on the server2).</p> <h2 id="packages"><a href="#packages" class="header-anchor">#</a> Packages</h2> <p>Debian packaging format:</p> <h3 id="dpkg"><a href="#dpkg" class="header-anchor">#</a> DPKG</h3> <p><code>dpkg</code> - manages DEB packages. <code>dpkg --get-selections</code>/<code>dpkg -l</code> - lists
installed packages. Packages marked as &quot;dinstall&quot; are no longer needed and can
be deinstalled (shown with <code>--get-selections</code>). <code>dpkg -i package.deb</code> - install
a package <code>dpkg --purge some-package</code> - removes package and its configuration
<code>dpkg -l some-package</code> - shows information about a package <code>dpkg -L some-package</code> - shows files that the package consists of <code>dpkg -S /some/file</code> -
shows the package that the file is associated with <code>dpkg-reconfigure package-name</code> - reruns the configuration scripts that normally are used when the
package in installed (i.e., we can set tzdata time-zone).</p> <h3 id="apt"><a href="#apt" class="header-anchor">#</a> APT</h3> <p><code>/var/cache/apt/archives/</code> - directory containing all debs installed by APT <code>apt clean</code> - removes APT cache. Good for Docker images.</p> <p><code>apt remove package</code> - removes a packages, but leaves the configuration <code>apt purge package</code> - removes a package and its configuration</p> <p><code>apt show package</code> - shows information about a package (it can be installed or
not) <code>apt search package</code> - looks for matching packages in the repo (useful when
we don't know the name of the package since it looks in descriptions, names,
etc.)</p> <p><code>/etc/apt/sources.list</code> and <code>/etc/apt/sources/list.d</code> directory contain all
repositories that APT uses. <code>apt edit-sources</code> - modifies sources file with
checking when saving</p> <h4 id="environment-variables"><a href="#environment-variables" class="header-anchor">#</a> Environment Variables</h4> <p>APT uses various environment variables for its operations.</p> <p><code>DEBIAN_PRIORITY</code> - depending on this value, programs may ask a different set of
configuration questions during the installation. We can set it to ignore less
important config, or set it in a way that we will be setting everything during
the installtion.</p> <p><code>DEBIAN_FRONTEND</code> - controls interaction during packages installation. Options:
noninteractive (no questions will be asked), dialog, readline, editor.</p> <h2 id="systemd"><a href="#systemd" class="header-anchor">#</a> systemd</h2> <p>systemd manages various entities, known as &quot;units&quot;. These can be: services,
sockets, devices, ... Each unit is configured with a unit file. Depending on a
unit type, a proper suffix is applied.</p> <h2 id="interesting-facts"><a href="#interesting-facts" class="header-anchor">#</a> Interesting Facts</h2> <p>In every directory there are 2 files: <code>.</code>, <code>..</code>. These are links to current and
parent directories!</p> <p>If we don't want to see erors from some command, we can redirect them to
<code>/dev/null</code>: <code>some-command 2&gt; /dev/null</code>.</p> <p>The &quot;recovery mode&quot; is just a single-user.target (runlevel &quot;1&quot;).</p></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/technologies/blockchain/dapps.html" class="prev">
        Dapps
      </a></span> <span class="next"><a href="/technologies/linux/system-calls.html">
        System Calls and libc
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/14/2022, 7:01:02 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b0f22934.js" defer></script><script src="/assets/js/2.e154a615.js" defer></script><script src="/assets/js/145.6dd8ed70.js" defer></script>
  </body>
</html>
