<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gist of Linux Tooling | Marcin Jahn | Tech Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Lots of commands and tools that are fundamental to Linux administration">
    <meta property="og:url" content="/technologies/linux/gist.html">
    <meta property="og:site_name" content="Marcin Jahn | Tech Notebook">
    <meta property="og:title" content="Gist of Linux Tooling">
    <meta property="og:description" content="Lots of commands and tools that are fundamental to Linux administration">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Tech Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="#7D84B2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.907785b2.css" as="style"><link rel="preload" href="/assets/js/app.286536a3.js" as="script"><link rel="preload" href="/assets/js/2.e154a615.js" as="script"><link rel="preload" href="/assets/js/143.9820f73c.js" as="script"><link rel="prefetch" href="/assets/js/10.873b32e7.js"><link rel="prefetch" href="/assets/js/100.af508c2a.js"><link rel="prefetch" href="/assets/js/101.b3fa7a5d.js"><link rel="prefetch" href="/assets/js/102.01378cd3.js"><link rel="prefetch" href="/assets/js/103.fd22798c.js"><link rel="prefetch" href="/assets/js/104.ab0ceb7e.js"><link rel="prefetch" href="/assets/js/105.fa4309df.js"><link rel="prefetch" href="/assets/js/106.1dfbc730.js"><link rel="prefetch" href="/assets/js/107.26e5a156.js"><link rel="prefetch" href="/assets/js/108.ec9e096d.js"><link rel="prefetch" href="/assets/js/109.85494e51.js"><link rel="prefetch" href="/assets/js/11.71b67b13.js"><link rel="prefetch" href="/assets/js/110.13b2cb9b.js"><link rel="prefetch" href="/assets/js/111.5e21de44.js"><link rel="prefetch" href="/assets/js/112.50f29784.js"><link rel="prefetch" href="/assets/js/113.f0b07428.js"><link rel="prefetch" href="/assets/js/114.9e34012a.js"><link rel="prefetch" href="/assets/js/115.3aa56a64.js"><link rel="prefetch" href="/assets/js/116.e2674695.js"><link rel="prefetch" href="/assets/js/117.51dcf2ef.js"><link rel="prefetch" href="/assets/js/118.b9057512.js"><link rel="prefetch" href="/assets/js/119.67de5929.js"><link rel="prefetch" href="/assets/js/12.bb623916.js"><link rel="prefetch" href="/assets/js/120.37153244.js"><link rel="prefetch" href="/assets/js/121.87efec97.js"><link rel="prefetch" href="/assets/js/122.bbe74ed7.js"><link rel="prefetch" href="/assets/js/123.674aa7c9.js"><link rel="prefetch" href="/assets/js/124.c002c7e9.js"><link rel="prefetch" href="/assets/js/125.08e6879a.js"><link rel="prefetch" href="/assets/js/126.1606bb57.js"><link rel="prefetch" href="/assets/js/127.ce25518a.js"><link rel="prefetch" href="/assets/js/128.a913e735.js"><link rel="prefetch" href="/assets/js/129.14f1e4a2.js"><link rel="prefetch" href="/assets/js/13.8b79d1ed.js"><link rel="prefetch" href="/assets/js/130.a8133160.js"><link rel="prefetch" href="/assets/js/131.211dbbff.js"><link rel="prefetch" href="/assets/js/132.9c9dee5c.js"><link rel="prefetch" href="/assets/js/133.95336a03.js"><link rel="prefetch" href="/assets/js/134.9672b4ea.js"><link rel="prefetch" href="/assets/js/135.52adb5f0.js"><link rel="prefetch" href="/assets/js/136.629f9548.js"><link rel="prefetch" href="/assets/js/137.74431f18.js"><link rel="prefetch" href="/assets/js/138.04e4b83a.js"><link rel="prefetch" href="/assets/js/139.963d4283.js"><link rel="prefetch" href="/assets/js/14.ab8e1dcc.js"><link rel="prefetch" href="/assets/js/140.47123add.js"><link rel="prefetch" href="/assets/js/141.c07d3964.js"><link rel="prefetch" href="/assets/js/142.bcf85f90.js"><link rel="prefetch" href="/assets/js/144.dc9bf0f3.js"><link rel="prefetch" href="/assets/js/145.7577b5dc.js"><link rel="prefetch" href="/assets/js/146.8d23b83b.js"><link rel="prefetch" href="/assets/js/147.5e2327be.js"><link rel="prefetch" href="/assets/js/148.463c2889.js"><link rel="prefetch" href="/assets/js/149.34bfeb2f.js"><link rel="prefetch" href="/assets/js/15.89e1dd21.js"><link rel="prefetch" href="/assets/js/150.b44d96c4.js"><link rel="prefetch" href="/assets/js/151.f42adf61.js"><link rel="prefetch" href="/assets/js/152.d673601c.js"><link rel="prefetch" href="/assets/js/153.2e77a70a.js"><link rel="prefetch" href="/assets/js/154.6d85ac32.js"><link rel="prefetch" href="/assets/js/155.d4e84b83.js"><link rel="prefetch" href="/assets/js/156.0422f9a4.js"><link rel="prefetch" href="/assets/js/157.bb8e6741.js"><link rel="prefetch" href="/assets/js/158.7ed881d8.js"><link rel="prefetch" href="/assets/js/159.7ec6b3cc.js"><link rel="prefetch" href="/assets/js/16.2a55624c.js"><link rel="prefetch" href="/assets/js/160.037515dd.js"><link rel="prefetch" href="/assets/js/161.79575fe0.js"><link rel="prefetch" href="/assets/js/162.ae725447.js"><link rel="prefetch" href="/assets/js/163.db160bb6.js"><link rel="prefetch" href="/assets/js/17.ab08dce2.js"><link rel="prefetch" href="/assets/js/18.3cca9150.js"><link rel="prefetch" href="/assets/js/19.cf1af818.js"><link rel="prefetch" href="/assets/js/20.b4e92734.js"><link rel="prefetch" href="/assets/js/21.f2688c62.js"><link rel="prefetch" href="/assets/js/22.3a7292fa.js"><link rel="prefetch" href="/assets/js/23.c3fd1c35.js"><link rel="prefetch" href="/assets/js/24.8efab2ba.js"><link rel="prefetch" href="/assets/js/25.720f8848.js"><link rel="prefetch" href="/assets/js/26.5652afaa.js"><link rel="prefetch" href="/assets/js/27.27da42e0.js"><link rel="prefetch" href="/assets/js/28.c5cc3937.js"><link rel="prefetch" href="/assets/js/29.fcefebb1.js"><link rel="prefetch" href="/assets/js/3.54e9968c.js"><link rel="prefetch" href="/assets/js/30.70031726.js"><link rel="prefetch" href="/assets/js/31.c95b591a.js"><link rel="prefetch" href="/assets/js/32.3b90ff2a.js"><link rel="prefetch" href="/assets/js/33.e414a879.js"><link rel="prefetch" href="/assets/js/34.cbf4742d.js"><link rel="prefetch" href="/assets/js/35.588de4b9.js"><link rel="prefetch" href="/assets/js/36.2c3f8f9d.js"><link rel="prefetch" href="/assets/js/37.c37d1fcd.js"><link rel="prefetch" href="/assets/js/38.18cb3d3d.js"><link rel="prefetch" href="/assets/js/39.48e1c6c4.js"><link rel="prefetch" href="/assets/js/4.bd6a03e3.js"><link rel="prefetch" href="/assets/js/40.85b85b8c.js"><link rel="prefetch" href="/assets/js/41.94d3e608.js"><link rel="prefetch" href="/assets/js/42.4216a2f8.js"><link rel="prefetch" href="/assets/js/43.d1023d2d.js"><link rel="prefetch" href="/assets/js/44.8dad369c.js"><link rel="prefetch" href="/assets/js/45.ff361dd7.js"><link rel="prefetch" href="/assets/js/46.49304298.js"><link rel="prefetch" href="/assets/js/47.1c5831ae.js"><link rel="prefetch" href="/assets/js/48.fb50793f.js"><link rel="prefetch" href="/assets/js/49.454b7eb6.js"><link rel="prefetch" href="/assets/js/5.cfb9df1e.js"><link rel="prefetch" href="/assets/js/50.cacfd21b.js"><link rel="prefetch" href="/assets/js/51.965fa35b.js"><link rel="prefetch" href="/assets/js/52.c257bff4.js"><link rel="prefetch" href="/assets/js/53.9d02f611.js"><link rel="prefetch" href="/assets/js/54.1dd1263b.js"><link rel="prefetch" href="/assets/js/55.740973dd.js"><link rel="prefetch" href="/assets/js/56.a9b83df6.js"><link rel="prefetch" href="/assets/js/57.3cbfaa15.js"><link rel="prefetch" href="/assets/js/58.7850b381.js"><link rel="prefetch" href="/assets/js/59.5011170f.js"><link rel="prefetch" href="/assets/js/6.ee568856.js"><link rel="prefetch" href="/assets/js/60.ca028701.js"><link rel="prefetch" href="/assets/js/61.7ae5e619.js"><link rel="prefetch" href="/assets/js/62.f9713a17.js"><link rel="prefetch" href="/assets/js/63.0c5463d5.js"><link rel="prefetch" href="/assets/js/64.5fff4dc1.js"><link rel="prefetch" href="/assets/js/65.75fd324a.js"><link rel="prefetch" href="/assets/js/66.cb8b9faf.js"><link rel="prefetch" href="/assets/js/67.b209fc3f.js"><link rel="prefetch" href="/assets/js/68.4ab83eea.js"><link rel="prefetch" href="/assets/js/69.266c38d7.js"><link rel="prefetch" href="/assets/js/7.6ecb30d9.js"><link rel="prefetch" href="/assets/js/70.f5f5a3f5.js"><link rel="prefetch" href="/assets/js/71.3594e500.js"><link rel="prefetch" href="/assets/js/72.a6af86ff.js"><link rel="prefetch" href="/assets/js/73.df5a03ed.js"><link rel="prefetch" href="/assets/js/74.a577d6e1.js"><link rel="prefetch" href="/assets/js/75.25d2962d.js"><link rel="prefetch" href="/assets/js/76.2587e7b7.js"><link rel="prefetch" href="/assets/js/77.e9208af5.js"><link rel="prefetch" href="/assets/js/78.45cf84bd.js"><link rel="prefetch" href="/assets/js/79.cebb9ed9.js"><link rel="prefetch" href="/assets/js/8.24229b2b.js"><link rel="prefetch" href="/assets/js/80.b4232e2b.js"><link rel="prefetch" href="/assets/js/81.010ca7cc.js"><link rel="prefetch" href="/assets/js/82.8d686efa.js"><link rel="prefetch" href="/assets/js/83.9fb49346.js"><link rel="prefetch" href="/assets/js/84.2c22497e.js"><link rel="prefetch" href="/assets/js/85.32303b92.js"><link rel="prefetch" href="/assets/js/86.09a372f1.js"><link rel="prefetch" href="/assets/js/87.0dc1dc40.js"><link rel="prefetch" href="/assets/js/88.3093ff84.js"><link rel="prefetch" href="/assets/js/89.183b4248.js"><link rel="prefetch" href="/assets/js/9.8d98c2cc.js"><link rel="prefetch" href="/assets/js/90.00d961a6.js"><link rel="prefetch" href="/assets/js/91.258b2a6c.js"><link rel="prefetch" href="/assets/js/92.dfda5a44.js"><link rel="prefetch" href="/assets/js/93.91b0c47d.js"><link rel="prefetch" href="/assets/js/94.be90258e.js"><link rel="prefetch" href="/assets/js/95.984d80df.js"><link rel="prefetch" href="/assets/js/96.70b9d82a.js"><link rel="prefetch" href="/assets/js/97.c64458d4.js"><link rel="prefetch" href="/assets/js/98.c6002951.js"><link rel="prefetch" href="/assets/js/99.27b72d1e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.907785b2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Tech Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link router-link-active">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6d74c91a><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-06466073 data-v-6d74c91a><img src="/img/linkedin.webp" data-v-06466073></a><a target="_blank" href="https://github.com/marcinjahn" data-v-06466073 data-v-6d74c91a><img src="/img/github.webp" data-v-06466073></a><a target="_blank" href="https://www.cirro.services" data-v-06466073 data-v-6d74c91a><span data-v-06466073>cirro.services</span></a></span> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link router-link-active">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6d74c91a><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-06466073 data-v-6d74c91a><img src="/img/linkedin.webp" data-v-06466073></a><a target="_blank" href="https://github.com/marcinjahn" data-v-06466073 data-v-6d74c91a><img src="/img/github.webp" data-v-06466073></a><a target="_blank" href="https://www.cirro.services" data-v-06466073 data-v-6d74c91a><span data-v-06466073>cirro.services</span></a></span> <!----></nav>  <ul class="sidebar-links"><li><a href="/technologies/" aria-current="page" class="sidebar-link">/technologies/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/network.webp"></span> <span>Networking</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/security.webp"></span> <span>Security</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/blockchain.webp"></span> <span>Blockchain</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span class="img-container"><img src="/sidebar-imgs/linux.webp"></span> <span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technologies/linux/gist.html" aria-current="page" class="active sidebar-link">Gist of Linux Tooling</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#ssh" class="sidebar-link">SSH</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#useful-commands" class="sidebar-link">Useful Commands</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#working-with-files" class="sidebar-link">Working with files</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#redirection-and-pipes" class="sidebar-link">Redirection and pipes</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#links" class="sidebar-link">Links</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#archiving" class="sidebar-link">Archiving</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#permissions" class="sidebar-link">Permissions</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#external-storage" class="sidebar-link">External storage</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#root-access" class="sidebar-link">Root Access</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#processes" class="sidebar-link">Processes</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#shared-libraries" class="sidebar-link">Shared Libraries</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#cron" class="sidebar-link">CRON</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#selinux" class="sidebar-link">SELinux</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#services" class="sidebar-link">Services</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#users-groups" class="sidebar-link">Users &amp; Groups</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#networking" class="sidebar-link">Networking</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#packages" class="sidebar-link">Packages</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#systemd" class="sidebar-link">systemd</a></li><li class="sidebar-sub-header"><a href="/technologies/linux/gist.html#interesting-facts" class="sidebar-link">Interesting Facts</a></li></ul></li><li><a href="/technologies/linux/system-calls.html" class="sidebar-link">System Calls and libc</a></li><li><a href="/technologies/linux/containers.html" class="sidebar-link">Containerization</a></li><li><a href="/technologies/linux/bash-scripting.html" class="sidebar-link">Bash Scripting</a></li><li><a href="/technologies/linux/lfs.html" class="sidebar-link">Linux From Scratch</a></li><li><a href="/technologies/linux/networking.html" class="sidebar-link">Networking</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/kubernetes.webp"></span> <span>Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/sql-server.webp"></span> <span>SQL Server</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/mongodb.webp"></span> <span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/git.webp"></span> <span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/ansible.webp"></span> <span>Ansible</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/azure.webp"></span> <span>Azure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/gcp.webp"></span> <span>Google Cloud</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="gist-of-linux-tooling"><a href="#gist-of-linux-tooling" class="header-anchor">#</a> Gist of Linux Tooling</h1> <h2 id="ssh"><a href="#ssh" class="header-anchor">#</a> SSH</h2> <p><code>ssh-keygen</code> - generates SSH keys</p> <p><code>ssh-copy-id marcin@rpi.local</code> - copy client SSH public key to server for SSH
authentication (<code>.ssh/authorized_keys</code> on the server).</p> <p><code>~/.ssh/known_hosts</code> - contains public keys of servers that we SSH-ed into.</p> <p>Access to SSH with root should be disabled (<code>/etc/ssh/sshd_config</code>).</p> <h2 id="useful-commands"><a href="#useful-commands" class="header-anchor">#</a> Useful Commands</h2> <p><code>tty</code> - current terminal</p> <p><code>who</code> - logged in users</p> <p><code>uptime</code> - shows server's uptime</p> <p><code>free</code> - shows free memory</p> <p><code>pwd -P</code> - shows the actual directory (mostly useful for dirs being symbolic
links)</p> <p><code>type &lt;command&gt;</code> - shows what a command is (program, alias, ...)</p> <p><code>!$</code> expands to the last used argument (if previous command had many arguments,
just the last one is used)</p> <p><code>md5sum &lt;file&gt;</code> can be used  to check md5 of a file (i.e., to compare if some
binary is the same as another binary)</p> <p><code>set -o noclobber</code> - using output redirect <code>&gt;</code> is &quot;blocked&quot; if a file would be
overwritten. It can be bypasses using <code>&gt;|</code>. <code>set +o noclobber</code> will remove the
&quot;lock&quot; back.</p> <p><code>uname -r</code> - kernel version <code>lsb_release -d</code> - distribution description (not
always available) <code>cat /proc/version</code> - similar to above two</p> <p><code>runlevel</code> - current runlevel (&quot;5&quot; - &quot;graphical.target&quot;, &quot;3&quot; -
&quot;multi-user.target&quot; (no GUI)) <code>systemctl isolate multi-user.target</code> - set
current runlevel <code>systemctl set-default multi-user.target</code> - set default
runlevel</p> <p><code>sleep 100</code> - waits for 100 seconds</p> <p><code>whereis</code> - finds commands in more places than <code>which</code></p> <p><code>locate</code> - locates filenames using precompiled index. The DB is updated with
<code>updatedb</code> (it runs using <code>cron</code>, so it's not always recent).</p> <h2 id="working-with-files"><a href="#working-with-files" class="header-anchor">#</a> Working with files</h2> <p><code>mkdir -p some/dir</code> - creates all directories <code>cp -R one two</code> - copies files
recursively</p> <h2 id="redirection-and-pipes"><a href="#redirection-and-pipes" class="header-anchor">#</a> Redirection and pipes</h2> <p><code>&gt;</code>/<code>1&gt;</code> - redirects <em>STDOUT</em> <code>2&gt;</code> - redirects <em>STDERR</em> <code>&amp;&gt;</code> - redirects both
<em>STDOUT</em> and <em>STDERR</em> <code>&lt;</code> - redirects <em>STDIN</em> <code>|</code> - unnamed pipe. It connects
<em>STDOUT</em> of one program to <em>STDIN</em> of another program</p> <p><code>tee</code> - can be used instead of <code>&gt;</code> in various cases (and <code>tee -a</code> is an
equivalent of <code>&gt;&gt;</code>):</p> <ul><li>to redirect output to a file, but also to display it in the terminal (<code>ls | tee myfile</code>)</li> <li>to redirect output to a file that requires root permissions (<code>echo &quot;127.0.0.1 localhost&quot; | sudo tee -a /etc/hosts</code>). <code>&gt;&gt;</code> wouldn't be able to do that.</li></ul> <p>There are also named pipes, which are special kind of files (<code>p</code>) that act as
FIFO queues. When one process writes to it, it's blocked until another process
reads the data out. It accomplishes IPC (Inter-Process Communication).</p> <h2 id="links"><a href="#links" class="header-anchor">#</a> Links</h2> <p><code>ls -l &lt;file&gt;</code> shows how many hard links (not soft-links) a file has (shown
after permissions).</p> <p><code>ln f1 f2</code> - creates a hard link <code>ln -s f1 f3</code> - creates a symbolic link</p> <p><strong>Hard Link</strong> - another name of an existing file. The hard-link is just another
entry for the same inode in the file names map.</p> <ul><li>can be created only on the same filesystem nad same partition</li> <li>can't be created for directories</li> <li>has the same inode as the original file - so it's the same file!</li> <li>deleting the &quot;original&quot; file is OK - hard link will still contain data</li></ul> <p><strong>Soft Link</strong> - a shortcut to a file. It just points to another file</p> <ul><li>each soft link is a separate file</li> <li>deleteing the original file makes soft link unusable</li> <li>has a diffrent inode than the original file (becuse it is a different file!)</li> <li>can point to directories</li></ul> <h2 id="archiving"><a href="#archiving" class="header-anchor">#</a> Archiving</h2> <p><code>tar -cf backup.tar ./some_folder</code> - create an archive. The given folder path
will be recreated while extracting (<code>some_folder</code> vs
<code>/home/marcin/some_folder</code>). <code>tar -xf backup.tar</code> - extract an archive</p> <p><code>-v</code> parameter will add verbosity. Two <code>-v</code>s will add more vermosity.</p> <p>We can create incremental backups using <code>-g</code> and a .snar file.</p> <h3 id="compression"><a href="#compression" class="header-anchor">#</a> Compression</h3> <p><code>gzip archieve.tar</code> - compress an existing tar. Tar file will be deleted and
tar.gz will be created. <code>gunzip archieve.tar.gz</code> - returns <code>archieve.tar</code> <code>tar -czf backup.tar.gz my_folder</code> - creates <code>my_folder.tar.gz</code>. Replace <code>c</code> with <code>x</code>
to extract.</p> <p><code>bzip2 archieve.tar</code> - better compression. Produces .bz2 from the source file
<code>bunzip2 archieve.tar.bz2</code> - returns <code>archieve.tar</code> <code>tar -cjf backup.tar.bz2 my_folder</code> - creates <code>my_folder.tar.bz2</code>. Replace <code>c</code> with <code>x</code> to extract.</p> <h3 id="dd"><a href="#dd" class="header-anchor">#</a> dd</h3> <p><code>dd -if=/dev/sda1 of=disk.img</code> - creates an image of some source directory</p> <h2 id="permissions"><a href="#permissions" class="header-anchor">#</a> Permissions</h2> <p>By default each new file has <code>666</code> permissions (rw-rw-rw-). Each new directory
has<code>777</code>. However, this can be changed by <code>umask</code>. On Ubuntu, the <code>umask</code>
command prints <code>0002</code>. It means that WRITE permission is taken out from the
&quot;others&quot; when creating files. We can set different mask, i.e. <code>umask 27</code> - the
new files will have only rw-r----- permissions. <code>umask</code> can only decrease
default permissions, it can't add any.</p> <p>If the user has some permission on a directory, he will also have that
permission on all the files inside of that directory, even if the files belong
to somebody else.</p> <h3 id="changing-permissions"><a href="#changing-permissions" class="header-anchor">#</a> Changing permissions</h3> <p><code>chmod +x file1</code> - adds execution permission <code>chgrp group1 file1</code> - group of
&quot;file1&quot; is set to &quot;group1&quot; <code>chown root file2</code> - set owner of a file <code>chown joe:joe file2</code> -set user and group owners of a file</p> <p><code>cp</code> command, by default, sets the owner of the copied file to the user:group
who did the copy. This behaviour can be changed with <code>-a</code> parameters (<code>cp -a</code>
requires root priviliges, because we're changing the owner of the file after
copying).</p> <h2 id="external-storage"><a href="#external-storage" class="header-anchor">#</a> External storage</h2> <p><code>lsblk</code> - shows disks and partitions <code>sudo fdisk -l</code> - shows more details about
storage devices</p> <p><code>sudo mkdir /media/usb</code> - creates a directory where we'll mount the storage</p> <p><code>sudo mount /dev/sda1 /media/usb</code> - mounts <code>sudo umount /media/usb</code> - unmounts</p> <h3 id="sticky-bits"><a href="#sticky-bits" class="header-anchor">#</a> Sticky bits</h3> <p>?</p> <h2 id="root-access"><a href="#root-access" class="header-anchor">#</a> Root Access</h2> <p><code>su</code> - requires knowledge of root's password. By default, switches to root, but
it could any other user. After running it, the environment variables are not
reloaded - $USER will be still &quot;marcin&quot;, current directory also stays the same
<code>su -</code> - like above, but loads root's environment (envs, current directory).
This one is recommended.</p> <p><code>sudo</code> - delegated rights to root just once. User uses their own password to
authenticate. Authentication stays on for 5 minutes. <code>sudo -i</code> - opens a new
bash as a root (a bit like <code>su</code>, but no root password knowledge is required).</p> <p>Permission available via <code>sudo</code> can be controlled using <code>/etc/sudoers</code> file (who
can use <code>sudo</code>, as who they can login, what commands they can run). The file can
be modified via <code>visudo</code> program. Also 5-minute period can be modified here.</p> <h2 id="processes"><a href="#processes" class="header-anchor">#</a> Processes</h2> <p>Not all processes are attached to TTYs.</p> <p><code>ps</code> - shows processes from current shell (PIDs, attached TTY) <code>ps aux</code> - show
all processes of users, also these without TTY attached. <code>pstree</code> - shows tree
of processes</p> <p><code>/proc</code> directory containing details of processes (directories inside are PIDs).</p> <p><code>echo $$</code> - PID of the current process</p> <h3 id="signalling"><a href="#signalling" class="header-anchor">#</a> Signalling</h3> <p><code>kill -l</code> - shows all available signals and their numbers</p> <p>The process does not have to respond to the signal!</p> <p><code>kill PID</code>/<code>kill -15 PID</code>/<code>kill -term PID</code>/<code>kill -sigterm PID</code> - sends SIGTERM</p> <p>If process does not respond to SIGTERM (15), we can try with SIGKILL (9): <code>kill -kill PID</code>. It removes process directory from <code>/proc/</code>!</p> <h3 id="bg-and-fg-processes"><a href="#bg-and-fg-processes" class="header-anchor">#</a> BG and FG processes</h3> <p><code>sleep 100&amp;</code> - <code>&amp;</code> at the end starts the process in the background (a job)
<code>jobs</code> - displays all background jobs <code>CTRL + Z</code> - sends the SUSPEND to the
running process (a job is sent to the background and is STOPPED) <code>bg</code> - resumes
the job in the background (becomes RUNNING) <code>fg</code> - brings the background job to
the foreground</p> <h2 id="shared-libraries"><a href="#shared-libraries" class="header-anchor">#</a> Shared Libraries</h2> <p><code>ldd /usr/bin/grep</code> - lists the shared libraries used by a given program.</p> <p><code>/etc/ld.so.conf.d/</code> contains config files with paths to shared libraries (i.e.
<code>/lib/</code>). If we add some paths there, we need to update lirbary cache with
<code>ldconfig</code>. <code>ldconfig -p</code> lists the lirbaries in the cache.</p> <h2 id="cron"><a href="#cron" class="header-anchor">#</a> CRON</h2> <p><code>cron</code> - scheduled jobs (every 10 minutes, etc.) <code>anacron</code> - tun job after
system boot (10 minutes after, etc.) <code>at</code> - run a jon once at some time</p> <h2 id="selinux"><a href="#selinux" class="header-anchor">#</a> SELinux</h2> <p>DAC - users have full control over their stuff. If thye do <code>chmod +wrx</code> on their
files, everyone can do whatever they want with them MAC - there are some
policies that add another layer of control over the system</p> <p>Booleans - various flags controlling different permissions (i.e. there is a
boolean that controls if httpd can access home directories ('false' by
default)).</p> <h2 id="services"><a href="#services" class="header-anchor">#</a> Services</h2> <p><code>systemctl status cron.service</code> - shows the status <code>systemctl cat cron.service</code></p> <ul><li>shows the configuration file of the service</li></ul> <p><code>sudo systemctl start docker.service</code> - start the service now <code>sytemctl enable docker.service</code> - enable on next startup <code>systemctl enable docker.service --now</code></p> <ul><li>enable on next startup and start now</li></ul> <p><code>sudo systemctl stop cron.service</code> - stops the service (if it's &quot;enabled&quot;, it
will start on next boot) <code>systemctl disable docker.service</code> - disable a service
on next startup <code>systemctl disable docker.service --now</code> - disable a service on
next startup and now</p> <p><code>systemctl restart docker.service</code> - restart a service</p> <p><code>systemctl mask docker.service</code> - service cannot be started until it's unmasked
(<code>unmask</code>)</p> <p>Unit files (<code>.service</code> suffix) are in:</p> <ul><li><code>/usr/lib/systemd/system</code> - unit files deposited by packages during their
installation</li> <li><code>/etc/systemd/system</code> - local unit files and customizations can go there</li></ul> <h2 id="users-groups"><a href="#users-groups" class="header-anchor">#</a> Users &amp; Groups</h2> <p><code>/etc/passwd</code> - contains all users <code>/etc/group</code> - contains all groups <code>useradd bob</code> - adds user</p> <h2 id="networking"><a href="#networking" class="header-anchor">#</a> Networking</h2> <p><code>dig www.google.pl</code> uses DNS to find IP addresses <code>dig www.google.com @8.8.8.8</code></p> <ul><li>a way to specify DNS server to be used</li></ul> <p><code>ip -4 a</code> - shows just IPv4 addresses</p> <p><code>traceroute google.com</code>/<code>tracepath google.com</code> - shows &quot;hops&quot; when going to some
address</p> <p>ConnectionManager (<code>nmcli</code>) allows to manage connections using network
interfaces. It allows to stop/start connections (<code>down</code> and <code>up</code>).</p> <h3 id="iptables"><a href="#iptables" class="header-anchor">#</a> iptables</h3> <p>By default, the firewall is set to ACCEPT everything (there are no rules).
Additionally, the POLICY of each chain is set  to ACCEPT - if not rule is
matched, the traffic will be accepted. The rules are read from top to bottom. As
soon as one of them matches, the rest is ignored.</p> <p><code>iptables -L</code> - shows the current config. &quot;FORWARDING&quot; chain is used when the
machine acts as a router (by default, it doesn't). <code>iptables-save &gt; iptables.config</code> - saves the current config in the file <code>iptables-restore &gt; iptables.conf</code> - load config from a file</p> <p>Examples: <code>iptables -A INPUT -i lo -j ACCEPT</code> - adds an ACCEPT rule to the INPUT
chain for all local traffic <code>iptables -A INPUT -p tcp --dport 22 -j ACCEPT</code> -
allow SSH into the system</p> <h3 id="tcp-tunelling"><a href="#tcp-tunelling" class="header-anchor">#</a> TCP Tunelling</h3> <p>Tunneling allows to use some protocol (i.e., SSH) to &quot;hide&quot; some other protocol
(i.e. HTTP).</p> <p><code>ssh -f - L 8080:localhost:80 root@server2 -N</code> - SSH will listen in the
background on the client for requests to port 8080. It will then send this
traffic to server2, where the traffic will be directed to localhost:80
(webserver running on the server2).</p> <h2 id="packages"><a href="#packages" class="header-anchor">#</a> Packages</h2> <p>Debian packaging format:</p> <h3 id="dpkg"><a href="#dpkg" class="header-anchor">#</a> DPKG</h3> <p><code>dpkg</code> - manages DEB packages. <code>dpkg --get-selections</code>/<code>dpkg -l</code> - lists
installed packages. Packages marked as &quot;dinstall&quot; are no longer needed and can
be deinstalled (shown with <code>--get-selections</code>). <code>dpkg -i package.deb</code> - install
a package <code>dpkg --purge some-package</code> - removes package and its configuration
<code>dpkg -l some-package</code> - shows information about a package <code>dpkg -L some-package</code> - shows files that the package consists of <code>dpkg -S /some/file</code> -
shows the package that the file is associated with <code>dpkg-reconfigure package-name</code> - reruns the configuration scripts that normally are used when the
package in installed (i.e., we can set tzdata time-zone).</p> <h3 id="apt"><a href="#apt" class="header-anchor">#</a> APT</h3> <p><code>/var/cache/apt/archives/</code> - directory containing all debs installed by APT <code>apt clean</code> - removes APT cache. Good for Docker images.</p> <p><code>apt remove package</code> - removes a packages, but leaves the configuration <code>apt purge package</code> - removes a package and its configuration</p> <p><code>apt show package</code> - shows information about a package (it can be installed or
not) <code>apt search package</code> - looks for matching packages in the repo (useful when
we don't know the name of the package since it looks in descriptions, names,
etc.)</p> <p><code>/etc/apt/sources.list</code> and <code>/etc/apt/sources/list.d</code> directory contain all
repositories that APT uses. <code>apt edit-sources</code> - modifies sources file with
checking when saving</p> <h4 id="environment-variables"><a href="#environment-variables" class="header-anchor">#</a> Environment Variables</h4> <p>APT uses various environment variables for its operations.</p> <p><code>DEBIAN_PRIORITY</code> - depending on this value, programs may ask a different set of
configuration questions during the installation. We can set it to ignore less
important config, or set it in a way that we will be setting everything during
the installtion.</p> <p><code>DEBIAN_FRONTEND</code> - controls interaction during packages installation. Options:
noninteractive (no questions will be asked), dialog, readline, editor.</p> <h2 id="systemd"><a href="#systemd" class="header-anchor">#</a> systemd</h2> <p>systemd manages various entities, known as &quot;units&quot;. These can be: services,
sockets, devices, ... Each unit is configured with a unit file. Depending on a
unit type, a proper suffix is applied.</p> <h2 id="interesting-facts"><a href="#interesting-facts" class="header-anchor">#</a> Interesting Facts</h2> <p>In every directory there are 2 files: <code>.</code>, <code>..</code>. These are links to current and
parent directories!</p> <p>If we don't want to see erors from some command, we can redirect them to
<code>/dev/null</code>: <code>some-command 2&gt; /dev/null</code>.</p> <p>The &quot;recovery mode&quot; is just a single-user.target (runlevel &quot;1&quot;).</p></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/technologies/blockchain/dapps.html" class="prev">
        Dapps
      </a></span> <span class="next"><a href="/technologies/linux/system-calls.html">
        System Calls and libc
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/5/2022, 7:01:36 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.286536a3.js" defer></script><script src="/assets/js/2.e154a615.js" defer></script><script src="/assets/js/143.9820f73c.js" defer></script>
  </body>
</html>
