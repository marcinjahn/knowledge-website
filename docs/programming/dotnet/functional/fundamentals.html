<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fundamentals of FP | Marcin Jahn | Technology Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Fundamentals of Functional Programming, like Higher-Order Functions (HOF), or purity, in C#">
    <meta name="theme-color" content="white">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.92f25611.css" as="style"><link rel="preload" href="/assets/js/app.43161dcf.js" as="script"><link rel="preload" href="/assets/js/2.71db9fc7.js" as="script"><link rel="preload" href="/assets/js/7.38dd2a65.js" as="script"><link rel="prefetch" href="/assets/js/10.63c27ea2.js"><link rel="prefetch" href="/assets/js/11.635e3f35.js"><link rel="prefetch" href="/assets/js/12.ef185b3a.js"><link rel="prefetch" href="/assets/js/13.5b7b8103.js"><link rel="prefetch" href="/assets/js/14.8d0ea69c.js"><link rel="prefetch" href="/assets/js/15.a5e275c3.js"><link rel="prefetch" href="/assets/js/16.27cf1c3f.js"><link rel="prefetch" href="/assets/js/17.354371b4.js"><link rel="prefetch" href="/assets/js/18.620418ca.js"><link rel="prefetch" href="/assets/js/19.007ed40b.js"><link rel="prefetch" href="/assets/js/20.db54024a.js"><link rel="prefetch" href="/assets/js/21.343c930c.js"><link rel="prefetch" href="/assets/js/22.608d7e83.js"><link rel="prefetch" href="/assets/js/23.59a826a7.js"><link rel="prefetch" href="/assets/js/24.fb45ac05.js"><link rel="prefetch" href="/assets/js/25.dcf78588.js"><link rel="prefetch" href="/assets/js/26.6b576d11.js"><link rel="prefetch" href="/assets/js/27.b90a9015.js"><link rel="prefetch" href="/assets/js/28.d00a446f.js"><link rel="prefetch" href="/assets/js/29.4299fa57.js"><link rel="prefetch" href="/assets/js/3.35e36c14.js"><link rel="prefetch" href="/assets/js/30.a339d9af.js"><link rel="prefetch" href="/assets/js/31.55112e5d.js"><link rel="prefetch" href="/assets/js/32.215d4128.js"><link rel="prefetch" href="/assets/js/33.89168da0.js"><link rel="prefetch" href="/assets/js/34.37c89b66.js"><link rel="prefetch" href="/assets/js/35.0b6bb43b.js"><link rel="prefetch" href="/assets/js/36.4c878ba9.js"><link rel="prefetch" href="/assets/js/37.08863a9a.js"><link rel="prefetch" href="/assets/js/38.beaab52c.js"><link rel="prefetch" href="/assets/js/39.3cebddc7.js"><link rel="prefetch" href="/assets/js/4.2ea1dafb.js"><link rel="prefetch" href="/assets/js/40.71d999a7.js"><link rel="prefetch" href="/assets/js/41.aea8ae0e.js"><link rel="prefetch" href="/assets/js/42.b067d580.js"><link rel="prefetch" href="/assets/js/43.2382091e.js"><link rel="prefetch" href="/assets/js/44.4713cf6d.js"><link rel="prefetch" href="/assets/js/45.0f2417f9.js"><link rel="prefetch" href="/assets/js/46.64b31aa7.js"><link rel="prefetch" href="/assets/js/47.1a72a83f.js"><link rel="prefetch" href="/assets/js/48.39fa7119.js"><link rel="prefetch" href="/assets/js/49.57cfc2b1.js"><link rel="prefetch" href="/assets/js/5.ec780e54.js"><link rel="prefetch" href="/assets/js/50.803f49e0.js"><link rel="prefetch" href="/assets/js/51.8f790b9b.js"><link rel="prefetch" href="/assets/js/52.0ea2def2.js"><link rel="prefetch" href="/assets/js/53.a996c5bc.js"><link rel="prefetch" href="/assets/js/54.5e7a6bae.js"><link rel="prefetch" href="/assets/js/55.0a4d40dd.js"><link rel="prefetch" href="/assets/js/56.c9417cff.js"><link rel="prefetch" href="/assets/js/57.3625874c.js"><link rel="prefetch" href="/assets/js/58.9ba41532.js"><link rel="prefetch" href="/assets/js/59.19d25e51.js"><link rel="prefetch" href="/assets/js/6.71a7daef.js"><link rel="prefetch" href="/assets/js/60.8fc54adc.js"><link rel="prefetch" href="/assets/js/61.83432498.js"><link rel="prefetch" href="/assets/js/62.4590f4ca.js"><link rel="prefetch" href="/assets/js/63.227d7fbd.js"><link rel="prefetch" href="/assets/js/64.be399d6d.js"><link rel="prefetch" href="/assets/js/65.6c331058.js"><link rel="prefetch" href="/assets/js/66.a5261b57.js"><link rel="prefetch" href="/assets/js/67.bf502240.js"><link rel="prefetch" href="/assets/js/68.2ff78ff1.js"><link rel="prefetch" href="/assets/js/69.7427cd17.js"><link rel="prefetch" href="/assets/js/70.2143a268.js"><link rel="prefetch" href="/assets/js/71.410aca3a.js"><link rel="prefetch" href="/assets/js/72.892245f0.js"><link rel="prefetch" href="/assets/js/73.5fb0e07e.js"><link rel="prefetch" href="/assets/js/74.ae69e824.js"><link rel="prefetch" href="/assets/js/75.37d874d7.js"><link rel="prefetch" href="/assets/js/76.15b56357.js"><link rel="prefetch" href="/assets/js/77.44ff8d85.js"><link rel="prefetch" href="/assets/js/78.2850e553.js"><link rel="prefetch" href="/assets/js/79.a928b38e.js"><link rel="prefetch" href="/assets/js/8.81b4dfe5.js"><link rel="prefetch" href="/assets/js/80.7226769b.js"><link rel="prefetch" href="/assets/js/81.cc2891a7.js"><link rel="prefetch" href="/assets/js/82.75c4a202.js"><link rel="prefetch" href="/assets/js/83.2f8a27b2.js"><link rel="prefetch" href="/assets/js/84.780881b4.js"><link rel="prefetch" href="/assets/js/85.0a1477c0.js"><link rel="prefetch" href="/assets/js/86.1d3527ba.js"><link rel="prefetch" href="/assets/js/87.05a0be34.js"><link rel="prefetch" href="/assets/js/88.9b14ec1d.js"><link rel="prefetch" href="/assets/js/89.d2128c5b.js"><link rel="prefetch" href="/assets/js/9.f54fcef7.js"><link rel="prefetch" href="/assets/js/90.9a4fada2.js"><link rel="prefetch" href="/assets/js/91.e77ca1cf.js"><link rel="prefetch" href="/assets/js/92.6c48fc9b.js"><link rel="prefetch" href="/assets/js/93.9c9b5ce3.js"><link rel="prefetch" href="/assets/js/94.f683912d.js"><link rel="prefetch" href="/assets/js/95.f547a098.js"><link rel="prefetch" href="/assets/js/96.5b4c05c8.js"><link rel="prefetch" href="/assets/js/97.d4f6fc9e.js"><link rel="prefetch" href="/assets/js/98.fac2da91.js">
    <link rel="stylesheet" href="/assets/css/0.styles.92f25611.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Technology Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Dev Tools
</a></div><div class="nav-item"><a href="/computers/" class="nav-link">
  Computers
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6c2342f8><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b" data-v-f9b87572 data-v-6c2342f8><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-6c2342f8><img src="/img/github.webp" data-v-f9b87572></a></span> <a href="https://github.com/marcinjahn/technology-notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    Code on GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Dev Tools
</a></div><div class="nav-item"><a href="/computers/" class="nav-link">
  Computers
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6c2342f8><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b" data-v-f9b87572 data-v-6c2342f8><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-6c2342f8><img src="/img/github.webp" data-v-f9b87572></a></span> <a href="https://github.com/marcinjahn/technology-notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    Code on GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/programming/" aria-current="page" class="sidebar-link">/programming/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>.NET</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/http-client.html" class="sidebar-link">HTTPClient</a></li><li><a href="/programming/dotnet/async.html" class="sidebar-link">Async</a></li><li><a href="/programming/dotnet/equality.html" class="sidebar-link">Equality</a></li><li><a href="/programming/dotnet/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/programming/dotnet/generic-host.html" class="sidebar-link">.NET Generic Host</a></li><li><a href="/programming/dotnet/logging.html" class="sidebar-link">Logging</a></li><li><a href="/programming/dotnet/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/programming/dotnet/records.html" class="sidebar-link">Records</a></li><li><a href="/programming/dotnet/asp-net.html" class="sidebar-link">ASP.NET Tips</a></li><li><a href="/programming/dotnet/entity-framework.html" class="sidebar-link">Entity Framework</a></li><li><a href="/programming/dotnet/asp-net-validation.html" class="sidebar-link">ASP.NET Core Validation</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Functional Programming</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/functional/fundamentals.html" aria-current="page" class="active sidebar-link">Fundamentals of FP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/programming/dotnet/functional/fundamentals.html#higher-order-functions" class="sidebar-link">Higher-Order Functions</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/functional/fundamentals.html#purity" class="sidebar-link">Purity</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/functional/fundamentals.html#functors" class="sidebar-link">Functors</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/functional/fundamentals.html#monads" class="sidebar-link">Monads</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/functional/fundamentals.html#regular-and-elevated-values" class="sidebar-link">Regular and Elevated Values</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/functional/fundamentals.html#references" class="sidebar-link">References</a></li></ul></li><li><a href="/programming/dotnet/functional/dotnet-features.html" class="sidebar-link">.NET Functional Features</a></li><li><a href="/programming/dotnet/functional/signatures.html" class="sidebar-link">Signatures</a></li><li><a href="/programming/dotnet/functional/dependency-injection.html" class="sidebar-link">Dependency Injection</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Rust</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C/C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="fundamentals-of-fp"><a href="#fundamentals-of-fp" class="header-anchor">#</a> Fundamentals of FP</h1> <p>One of the most significant issues in programming nowadays is how to deal with
the increasing complexity of the software. Functional Programming is a way to
simplify programs.</p> <p>In FP (opposed to OOP), separating functions from data is natural. Functions
encode logic, and data represent inputs and outputs of functions.</p> <p>In FP, instead of defining steps how to compute something, we define what the
result is.</p> <h2 id="higher-order-functions"><a href="#higher-order-functions" class="header-anchor">#</a> Higher-Order Functions</h2> <p>These are functions that either:</p> <ul><li>accept other functions as inputs</li> <li>return functions as outputs</li> <li>both of the above</li></ul> <h2 id="purity"><a href="#purity" class="header-anchor">#</a> Purity</h2> <p>In mathematics, functions don't have side effects. Based on some inputs, some
output is returned. In programming, that's not always the case. Programs change
state.</p> <p>Functions might be <strong>pure</strong> or <strong>impure</strong>. Pure functions are similar to the
mathematical functions. They do not rely on or modify any state. Their outputs
depend solely on the inputs.</p> <div class="custom-block tip"><p class="custom-block-title">Impurity will always be there</p> <p>Some of the code has to be impure. Otherwise, the program wouldn't be able to
communicate the result to the outside world (communicating outside world implies
impurity).</p></div> <p>Impure functions can modify (or just read) an external state, and their outputs
can depend on some external state as well. They are much harder to reason about,
test and they might now work as expected in concurrent scenarios.</p> <div class="custom-block tip"><p class="custom-block-title">Impurity cases</p> <p>If a function modifies its inputs (and the modification is visible
outside of the function), it's an impure function.</p> <p>If a function may throw exceptions, it's impure. The outcome might change
depending on having a try-catch or not. (so what?)</p> <p>If the function does any I/O operations (even writing to the console), it's
impure. The result might differ depending on the availability and state of
the external I/O resource.</p></div> <p>Pure functions ALWAYS return the same output for the same input. Functional
programs may be optimized with:</p> <ul><li>parallelization - different threads can run functions, and no conflicts will
appear.</li> <li>lazy evaluation - only evaluates outputs when needed</li> <li>memoization - caching of results for performance gains</li></ul> <p>These techniques are not straightforward with impure functions.</p> <div class="custom-block tip"><p class="custom-block-title">Static Methods</p> <p>Pure functions should be implemented as static methods.</p></div> <h2 id="functors"><a href="#functors" class="header-anchor">#</a> Functors</h2> <p>When a value is wrapped in some container (like an <code>Option</code> or <code>IEnumerable</code>) we
can't apply functions to it:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token function">Increment</span><span class="token punctuation">(</span><span class="token function">Some</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//doesn't work</span>
</code></pre></div><p>This is where <code>Map</code> comes in. It allows us to extract the value from a container
and apply a function to it. It returns a functor a well.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token function">Some</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Map</span><span class="token punctuation">(</span>Increment<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Some(4)</span>
</code></pre></div><p>A type for which a <code>Map</code> function (<code>Select</code> in C#) is defined is called a
<strong>functor</strong>. Functors include:</p> <ul><li>collections (or in general <code>IEnumerable</code>)</li> <li><code>Option</code></li></ul> <p>Functors have some inner values to which a function can be applied.
A map can be represented as follows:</p> <p><code>(C&lt;T&gt;, (T -&gt; R)) -&gt; C&lt;R&gt;</code></p> <p><code>C&lt;T&gt;</code> is a functor.</p> <div class="custom-block tip"><p class="custom-block-title">Functions</p> <p>Functions are functors as well!</p></div> <h3 id="map-vs-foreach"><a href="#map-vs-foreach" class="header-anchor">#</a> Map vs ForEach</h3> <p><code>Map</code> is to be used with functions that have no side-effects, while <code>ForEach</code> is
to be used with side-effect function. Example:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> names <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span><span class="token string">&quot;Andy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jules&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
names
  <span class="token punctuation">.</span><span class="token function">Map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;Hello </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">n</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// pure function</span>
  <span class="token punctuation">.</span><span class="token function">ForEach</span><span class="token punctuation">(</span>WriteLine<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// impure function</span>
</code></pre></div><p><code>Map</code> takes a <code>Func</code>, while <code>ForEach</code> takes an <code>Action</code>.</p> <h2 id="monads"><a href="#monads" class="header-anchor">#</a> Monads</h2> <h3 id="bind"><a href="#bind" class="header-anchor">#</a> Bind</h3> <p>A <code>Bind</code> function (<code>SelectMany</code> in C#) is useful to flatten lists of lists.</p> <p><code>Bind</code> can be represented as follows:</p> <p><code>(C&lt;T&gt;, (T -&gt; C&lt;R&gt;)) -&gt; C&lt;R&gt;</code></p> <p>A type that has a <code>Bind</code> method is a <strong>monad</strong>.</p> <p>Example:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">record</span> <span class="token class-name">Pet</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">record</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> Name<span class="token punctuation">,</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Pet<span class="token punctuation">&gt;</span></span> Pets<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> people <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;George&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Pet<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Pet</span><span class="token punctuation">(</span><span class="token string">&quot;dog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Pet</span><span class="token punctuation">(</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Peter&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Pet<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Pet</span><span class="token punctuation">(</span><span class="token string">&quot;hamster&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Jady&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Pet<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">var</span></span> animals <span class="token operator">=</span> people<span class="token punctuation">.</span><span class="token function">Bind</span><span class="token punctuation">(</span>p <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>Pets<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;dog&quot;, &quot;cat&quot;, &quot;hamster&quot;]</span>
</code></pre></div><p>A <code>Map</code> would return a list of lists. <code>Bind</code> is much more suitable here.
The <code>Person[]</code> type is a monad.</p> <h3 id="return"><a href="#return" class="header-anchor">#</a> Return</h3> <p>A monad must also have a <code>Return</code> function defined. It's a function that wraps a
&quot;normal&quot; value <code>T</code> into a monadic value <code>C&lt;T&gt;</code>.</p> <p><code>Return</code> can be represented as follows:</p> <p><code>T -&gt; C&lt;T&gt;</code></p> <p>An example of a <code>Return</code> function could be a function that turns items into a
list, or a <code>Some</code> method of <code>Option</code>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>IEnumerable</code> and <code>Option</code> are both <strong>functors</strong> and <strong>monads</strong>.</p> <p>Every monad is also a functor.
Not every functor is a monad.</p></div> <h2 id="regular-and-elevated-values"><a href="#regular-and-elevated-values" class="header-anchor">#</a> Regular and Elevated Values</h2> <p>In general, in our programs we're dealing with either <em>regular values</em> or
<em>elevated values</em>.</p> <p><img src="/assets/img/elevated-vs-regular.4d97b099.png" alt=""></p> <p>&quot;Primitive&quot; data types like <code>int</code>, <code>string</code>, <code>bool</code> are <em>regular values</em>. The
types that contain other types are <em>elevated values</em> (<code>List&lt;T&gt;</code>, <code>Task&lt;T&gt;</code>,
<code>Option&lt;T&gt;</code>).</p> <p>We can look at various functions that operate on data as either:</p> <ul><li>returning the same level of abstraction</li> <li>crossing abstraction</li></ul> <p><img src="/assets/img/crossing-abstraction.cd87752e.png" alt=""></p> <p>Examples:</p> <ol><li><code>(int i) =&gt; i.ToString()</code></li> <li><code>(users) =&gt; users.Filter(u =&gt; u.LoggedIn)</code></li> <li><code>Task.CompletedTask(task)</code></li> <li><code>numbers.Sum()</code></li></ol> <h3 id="map-and-bind"><a href="#map-and-bind" class="header-anchor">#</a> Map and Bind</h3> <p>Using this classification, we can look see the following relations:</p> <p><img src="/assets/img/map.00871afd.png" alt=""></p> <p><img src="/assets/img/bind.df773cbe.png" alt=""></p> <p>The functions accepted by these two functions differ in the fact that <code>Bind</code>
requires a function that crosses the abstraction upwards.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Working with <em>regular values</em> only is inefficient and requires things such as
checking for <code>null</code>, using loops, etc. Working on the <em>elevated values</em>
abstraction level makes it possible to fluently chain function calls.</p></div> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <ul><li><a href="https://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html" target="_blank" rel="noopener noreferrer">https://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://learnyouahaskell.com/chapters" target="_blank" rel="noopener noreferrer">http://learnyouahaskell.com/chapters<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Functional Programming in C# by Enrico Buonanno</li></ul></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/programming/dotnet/asp-net-validation.html" class="prev">
        ASP.NET Core Validation
      </a></span> <span class="next"><a href="/programming/dotnet/functional/dotnet-features.html">
        .NET Functional Features
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/marcinjahn/technology-notebook/edit/main/src/docs/programming/dotnet/functional/fundamentals.md" target="_blank" rel="noopener noreferrer">Feel free to contribute to this article!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/2/2022, 6:41:07 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.43161dcf.js" defer></script><script src="/assets/js/2.71db9fc7.js" defer></script><script src="/assets/js/7.38dd2a65.js" defer></script>
  </body>
</html>
