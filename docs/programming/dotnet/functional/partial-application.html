<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Partial Application | Marcin Jahn | Technology Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Functional Programming in C# - Partial Application">
    <meta property="og:url" content="/programming/dotnet/functional/partial-application.html">
    <meta property="og:site_name" content="Marcin Jahn | Technology Notebook">
    <meta property="og:title" content="Partial Application">
    <meta property="og:description" content="Functional Programming in C# - Partial Application">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Technology Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="white">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.efb9a866.css" as="style"><link rel="preload" href="/assets/js/app.31efc6cb.js" as="script"><link rel="preload" href="/assets/js/2.189ac7f1.js" as="script"><link rel="preload" href="/assets/js/66.d61a2a0c.js" as="script"><link rel="prefetch" href="/assets/js/10.ad0a28aa.js"><link rel="prefetch" href="/assets/js/100.64615d7d.js"><link rel="prefetch" href="/assets/js/101.d64cbff7.js"><link rel="prefetch" href="/assets/js/102.850ba163.js"><link rel="prefetch" href="/assets/js/103.cbfe9af5.js"><link rel="prefetch" href="/assets/js/104.c4cde150.js"><link rel="prefetch" href="/assets/js/105.e947d1a3.js"><link rel="prefetch" href="/assets/js/106.3badc9ca.js"><link rel="prefetch" href="/assets/js/107.8a734095.js"><link rel="prefetch" href="/assets/js/108.ad9e9211.js"><link rel="prefetch" href="/assets/js/109.5ef65864.js"><link rel="prefetch" href="/assets/js/11.9bab91bf.js"><link rel="prefetch" href="/assets/js/110.263ec363.js"><link rel="prefetch" href="/assets/js/111.f69e38dc.js"><link rel="prefetch" href="/assets/js/112.118e0916.js"><link rel="prefetch" href="/assets/js/113.d005f743.js"><link rel="prefetch" href="/assets/js/12.bb43136e.js"><link rel="prefetch" href="/assets/js/13.03ca8df2.js"><link rel="prefetch" href="/assets/js/14.623e60e1.js"><link rel="prefetch" href="/assets/js/15.71f025fe.js"><link rel="prefetch" href="/assets/js/16.36586f7d.js"><link rel="prefetch" href="/assets/js/17.78b11971.js"><link rel="prefetch" href="/assets/js/18.0a72fa34.js"><link rel="prefetch" href="/assets/js/19.a9c8d77f.js"><link rel="prefetch" href="/assets/js/20.8b6d857d.js"><link rel="prefetch" href="/assets/js/21.3bf4177e.js"><link rel="prefetch" href="/assets/js/22.f3cab438.js"><link rel="prefetch" href="/assets/js/23.61ecf82e.js"><link rel="prefetch" href="/assets/js/24.2e55a16a.js"><link rel="prefetch" href="/assets/js/25.73b70442.js"><link rel="prefetch" href="/assets/js/26.bd6ce2b6.js"><link rel="prefetch" href="/assets/js/27.b57ac51b.js"><link rel="prefetch" href="/assets/js/28.8e277212.js"><link rel="prefetch" href="/assets/js/29.38e71723.js"><link rel="prefetch" href="/assets/js/3.c43547e4.js"><link rel="prefetch" href="/assets/js/30.8c5df7de.js"><link rel="prefetch" href="/assets/js/31.33b78734.js"><link rel="prefetch" href="/assets/js/32.48351acc.js"><link rel="prefetch" href="/assets/js/33.57fd471e.js"><link rel="prefetch" href="/assets/js/34.43b7839b.js"><link rel="prefetch" href="/assets/js/35.b7503fab.js"><link rel="prefetch" href="/assets/js/36.5ed00cce.js"><link rel="prefetch" href="/assets/js/37.5bdf4c5b.js"><link rel="prefetch" href="/assets/js/38.83db00b0.js"><link rel="prefetch" href="/assets/js/39.af1fe7dd.js"><link rel="prefetch" href="/assets/js/4.51c432f3.js"><link rel="prefetch" href="/assets/js/40.62f1475a.js"><link rel="prefetch" href="/assets/js/41.68fcc2e0.js"><link rel="prefetch" href="/assets/js/42.d4bff1bc.js"><link rel="prefetch" href="/assets/js/43.b99ae171.js"><link rel="prefetch" href="/assets/js/44.2cd8e765.js"><link rel="prefetch" href="/assets/js/45.b5975a15.js"><link rel="prefetch" href="/assets/js/46.b0b8a24b.js"><link rel="prefetch" href="/assets/js/47.182b03bf.js"><link rel="prefetch" href="/assets/js/48.b0d5f809.js"><link rel="prefetch" href="/assets/js/49.af997b34.js"><link rel="prefetch" href="/assets/js/5.227651ed.js"><link rel="prefetch" href="/assets/js/50.b69c3b1b.js"><link rel="prefetch" href="/assets/js/51.4c2e9161.js"><link rel="prefetch" href="/assets/js/52.7974a145.js"><link rel="prefetch" href="/assets/js/53.2a849b0d.js"><link rel="prefetch" href="/assets/js/54.8cf61654.js"><link rel="prefetch" href="/assets/js/55.72a0d5d3.js"><link rel="prefetch" href="/assets/js/56.b789463a.js"><link rel="prefetch" href="/assets/js/57.be4082a4.js"><link rel="prefetch" href="/assets/js/58.992c2f60.js"><link rel="prefetch" href="/assets/js/59.de15ae2a.js"><link rel="prefetch" href="/assets/js/6.d3e4c722.js"><link rel="prefetch" href="/assets/js/60.36d291f0.js"><link rel="prefetch" href="/assets/js/61.063ff457.js"><link rel="prefetch" href="/assets/js/62.813288ba.js"><link rel="prefetch" href="/assets/js/63.22ef8ea0.js"><link rel="prefetch" href="/assets/js/64.e666ac10.js"><link rel="prefetch" href="/assets/js/65.0f394eda.js"><link rel="prefetch" href="/assets/js/67.ed0e3c41.js"><link rel="prefetch" href="/assets/js/68.53319581.js"><link rel="prefetch" href="/assets/js/69.5906b75b.js"><link rel="prefetch" href="/assets/js/7.6a9b7d9f.js"><link rel="prefetch" href="/assets/js/70.b6a4a54a.js"><link rel="prefetch" href="/assets/js/71.5c444745.js"><link rel="prefetch" href="/assets/js/72.dbd06765.js"><link rel="prefetch" href="/assets/js/73.1c9ae367.js"><link rel="prefetch" href="/assets/js/74.eea248d5.js"><link rel="prefetch" href="/assets/js/75.9d038250.js"><link rel="prefetch" href="/assets/js/76.217fe9cb.js"><link rel="prefetch" href="/assets/js/77.798fbdf3.js"><link rel="prefetch" href="/assets/js/78.d0f7b8a9.js"><link rel="prefetch" href="/assets/js/79.e452f2fa.js"><link rel="prefetch" href="/assets/js/8.11927cb9.js"><link rel="prefetch" href="/assets/js/80.3895cdfb.js"><link rel="prefetch" href="/assets/js/81.f6fbfd9b.js"><link rel="prefetch" href="/assets/js/82.c3c15ce3.js"><link rel="prefetch" href="/assets/js/83.09c65cfd.js"><link rel="prefetch" href="/assets/js/84.f568ad0f.js"><link rel="prefetch" href="/assets/js/85.bd348fd9.js"><link rel="prefetch" href="/assets/js/86.18da68f0.js"><link rel="prefetch" href="/assets/js/87.bc28ad7c.js"><link rel="prefetch" href="/assets/js/88.9214ff2d.js"><link rel="prefetch" href="/assets/js/89.33400cd8.js"><link rel="prefetch" href="/assets/js/9.bd3d5ade.js"><link rel="prefetch" href="/assets/js/90.336d8da6.js"><link rel="prefetch" href="/assets/js/91.3b645813.js"><link rel="prefetch" href="/assets/js/92.a4f06bf2.js"><link rel="prefetch" href="/assets/js/93.0a71d890.js"><link rel="prefetch" href="/assets/js/94.260b5fd3.js"><link rel="prefetch" href="/assets/js/95.0d99eb21.js"><link rel="prefetch" href="/assets/js/96.114ba82e.js"><link rel="prefetch" href="/assets/js/97.7153acba.js"><link rel="prefetch" href="/assets/js/98.08156943.js"><link rel="prefetch" href="/assets/js/99.cbdc518f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.efb9a866.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Technology Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Tools and Infrastructure
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6c2342f8><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-6c2342f8><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-6c2342f8><img src="/img/github.webp" data-v-f9b87572></a></span> <a href="https://github.com/marcinjahn/technology-notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    Code on GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Tools and Infrastructure
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6c2342f8><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-6c2342f8><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-6c2342f8><img src="/img/github.webp" data-v-f9b87572></a></span> <a href="https://github.com/marcinjahn/technology-notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    Code on GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/programming/" aria-current="page" class="sidebar-link">/programming/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>.NET</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/http-client.html" class="sidebar-link">HTTPClient</a></li><li><a href="/programming/dotnet/async.html" class="sidebar-link">Async</a></li><li><a href="/programming/dotnet/equality.html" class="sidebar-link">Equality</a></li><li><a href="/programming/dotnet/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/programming/dotnet/generic-host.html" class="sidebar-link">.NET Generic Host</a></li><li><a href="/programming/dotnet/logging.html" class="sidebar-link">Logging</a></li><li><a href="/programming/dotnet/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/programming/dotnet/records.html" class="sidebar-link">Records</a></li><li><a href="/programming/dotnet/entity-framework.html" class="sidebar-link">Entity Framework</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ASP.NET Core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Functional Programming</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/functional/fundamentals.html" class="sidebar-link">Fundamentals of Functional Programming</a></li><li><a href="/programming/dotnet/functional/dotnet-features.html" class="sidebar-link">.NET Functional Features</a></li><li><a href="/programming/dotnet/functional/signatures.html" class="sidebar-link">Signatures</a></li><li><a href="/programming/dotnet/functional/composition.html" class="sidebar-link">Function Composition</a></li><li><a href="/programming/dotnet/functional/error-handling.html" class="sidebar-link">Error Handling</a></li><li><a href="/programming/dotnet/functional/partial-application.html" aria-current="page" class="active sidebar-link">Partial Application</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/programming/dotnet/functional/partial-application.html#currying" class="sidebar-link">Currying</a></li></ul></li><li><a href="/programming/dotnet/functional/modularity.html" class="sidebar-link">Modularity</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Rust</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C/C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithms</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="partial-application"><a href="#partial-application" class="header-anchor">#</a> Partial Application</h1> <p>Sometimes it would make sense to invoke some functions partially. It could be
that that function requires a few parameters, but we know just a couple of them.
Later, we'd be able to provide the rest of the parameters. An example of that
could be a function that requires some configuration. If the configuration never
changes throughout the lifetime of the app, it makes sense to provide that
configuration once. Later, we could use the function without providing the
configuration every time. An example could be some function that retrieves data
from a database. The connection string will probably not change during runtime.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> greet <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> greeting<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">greeting</span><span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>

<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Kelly&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Scott&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The function above requires us to provide both parameters at once. We could
change it to a HOF, like this:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> greet <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> greeting<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">greeting</span><span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> greetWith <span class="token operator">=</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greetWith</span><span class="token punctuation">(</span><span class="token string">&quot;Kelly&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greetWith</span><span class="token punctuation">(</span><span class="token string">&quot;Scott&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greetWith</span><span class="token punctuation">(</span><span class="token string">&quot;Mary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <code>&quot;Hello&quot;</code> is captured in a closure. The function is now in a <strong>curried</strong>
form.</p> <div class="custom-block tip"><p class="custom-block-title">Haskell</p> <p>In Haskell, the above behavior is a normal behavior of any function. Whenever we
define a function with multiple parameters, in reality, we're creating partial
functions. The syntax of Haskell makes it very natural.</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">multiplyThree</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>

<span class="token keyword">let</span> <span class="token hvariable">multiplyTwoWithNine</span> <span class="token operator">=</span> <span class="token hvariable">multiplyThree</span> <span class="token number">9</span> <span class="token comment">-- returns a function</span>
<span class="token hvariable">multiplyTwoWithNine</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token comment">-- returns 54</span>
</code></pre></div><p>The parameters are separated by <code>-&gt;</code>, the same way as the final result of the
function is separated from the parameters. That's because this function actually
consists of three partial functions.</p></div> <h3 id="apply"><a href="#apply" class="header-anchor">#</a> Apply</h3> <p>There is a way to turn multi-parameter functions into partial functions, with
the help of an implementation of the <code>Apply</code> function which relies on closures:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Func<span class="token punctuation">&lt;</span>T2<span class="token punctuation">,</span> R<span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Apply</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> R<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Func<span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> R<span class="token punctuation">&gt;</span></span> func<span class="token punctuation">,</span> <span class="token class-name">T1</span> parameter<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    t2 <span class="token operator">=&gt;</span> <span class="token function">func</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span> t2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>T1</code> and <code>T2</code> are the types of <code>func</code>'s parameters. <code>R</code> is the type of the
<code>func</code>'s output.</p> <p>The code above is for a binary function. Overloads for other parameter counts
should also be provided.</p></div> <p>Usage:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> greet <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> greeting<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">greeting</span><span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> greetWith <span class="token operator">=</span> greet<span class="token punctuation">.</span><span class="token function">Apply</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greetWith</span><span class="token punctuation">(</span><span class="token string">&quot;Kelly&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greetWith</span><span class="token punctuation">(</span><span class="token string">&quot;Scott&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">greetWith</span><span class="token punctuation">(</span><span class="token string">&quot;Mary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Partial function application allows us to create very generic functions that may
be turned into more specific ones. The consuming code does not need to know that
it's invoking a partial function.</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>The <code>Apply</code> example above would not look that nice if <code>greet</code> was a method (and
not a delegate). In such a case, the compiler does not infer the method as a
<code>Func</code> automatically.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Greet</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> greeting<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">greeting</span><span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> greetWith <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Func<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>Greet<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Apply</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Workarounds:</p> <ul><li>using a delegate field - these don't allow to access other members of the class</li> <li>using a getter-only property to return a delegate - can't use generics</li> <li><strong>using a method that returns a delegate (factory method)</strong> - the most powerful</li></ul> <p>An example of the last approach:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token return-type class-name">Func<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GreetFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">(</span>greeting<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">greeting</span><span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> greetWith <span class="token operator">=</span> SomeClass<span class="token punctuation">.</span><span class="token function">GreetFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Apply</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="custom-block danger"><p class="custom-block-title">Generic Functions</p> <p>Unfortunately C# does not allow us to defer the resolution of generic types. The
first time we execute the <code>Apply</code> function, the specific type <code>T</code> needs to be
provided.</p></div> <h2 id="currying"><a href="#currying" class="header-anchor">#</a> Currying</h2> <p>Currying is similar to <em>partial application</em>. The difference is:</p> <ul><li>in <em>partial application</em> we provide some parameters of the function to get a
new function that expects the rest of the parameters</li> <li>in <em>currying</em> we transform a function into a curried function (no need to
provide any parametes while transforming)</li></ul> <p>Here' an example of an implementation of a <code>Curry</code> function:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token return-type class-name">Func<span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> Func<span class="token punctuation">&lt;</span>T2<span class="token punctuation">,</span> R<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">Curry</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> R<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Func<span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> R<span class="token punctuation">&gt;</span></span> func<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    t1 <span class="token operator">=&gt;</span> t2 <span class="token operator">=&gt;</span> <span class="token function">func</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span> t2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> curriedGreet <span class="token operator">=</span> greet<span class="token punctuation">.</span><span class="token function">Curry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> greetWith <span class="token operator">=</span> <span class="token function">curriedGreet</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>It's very similar to <code>Apply</code>. However, <code>Curry</code> does not expect any <code>t1</code>. It just
transforms the original function into a curried one.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>Apply</code> and <code>Curry</code> are very generic. It is OK to create our own custom functions
that turn other functions into specialized forms.</p> <p>Example:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token comment">// a function factory</span>
<span class="token return-type class-name">Func<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> IEnumerable<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token generic-method"><span class="token function">CreateRetriever</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>
    <span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> connectionString<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> sqlTemplate<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
        param <span class="token operator">=&gt;</span> <span class="token function">Query</span><span class="token punctuation">(</span>
            connectionString<span class="token punctuation">,</span> 
            connection <span class="token operator">=&gt;</span> connection<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Query</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>sqlTemplate<span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// creation of a specialized function</span>
<span class="token class-name"><span class="token keyword">var</span></span> queryById <span class="token operator">=</span> connString<span class="token punctuation">.</span><span class="token function">CreteRetriever</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM PEOPLE WHERE ID = @id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// retrieves person with ID = 123</span>
</code></pre></div></div></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/programming/dotnet/functional/error-handling.html" class="prev">
        Error Handling
      </a></span> <span class="next"><a href="/programming/dotnet/functional/modularity.html">
        Modularity
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/7/2022, 8:47:07 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.31efc6cb.js" defer></script><script src="/assets/js/2.189ac7f1.js" defer></script><script src="/assets/js/66.d61a2a0c.js" defer></script>
  </body>
</html>
