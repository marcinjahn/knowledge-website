<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Routing in Razor Pages | Marcin Jahn | Technology Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Routing in ASP.NET Core">
    <meta property="og:url" content="/programming/dotnet/asp-net-core/razor-pages-routing.html">
    <meta property="og:site_name" content="Marcin Jahn | Technology Notebook">
    <meta property="og:title" content="Routing in Razor Pages">
    <meta property="og:description" content="Routing in ASP.NET Core">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Technology Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="white">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.cfa8f008.css" as="style"><link rel="preload" href="/assets/js/app.60e5ef95.js" as="script"><link rel="preload" href="/assets/js/2.509aea98.js" as="script"><link rel="preload" href="/assets/js/47.114fda21.js" as="script"><link rel="prefetch" href="/assets/js/10.2f628158.js"><link rel="prefetch" href="/assets/js/100.e8d00495.js"><link rel="prefetch" href="/assets/js/101.5412944b.js"><link rel="prefetch" href="/assets/js/102.feadcc1e.js"><link rel="prefetch" href="/assets/js/103.385d5540.js"><link rel="prefetch" href="/assets/js/104.c238db1c.js"><link rel="prefetch" href="/assets/js/105.21e02e29.js"><link rel="prefetch" href="/assets/js/106.ae0efb5f.js"><link rel="prefetch" href="/assets/js/107.accf83ac.js"><link rel="prefetch" href="/assets/js/108.112902bd.js"><link rel="prefetch" href="/assets/js/109.809500d4.js"><link rel="prefetch" href="/assets/js/11.e89ffa34.js"><link rel="prefetch" href="/assets/js/110.37066cd6.js"><link rel="prefetch" href="/assets/js/111.70af5fb8.js"><link rel="prefetch" href="/assets/js/112.d5151658.js"><link rel="prefetch" href="/assets/js/113.63af056f.js"><link rel="prefetch" href="/assets/js/114.3a63b61c.js"><link rel="prefetch" href="/assets/js/115.b232f246.js"><link rel="prefetch" href="/assets/js/116.bf492c77.js"><link rel="prefetch" href="/assets/js/117.dcad6969.js"><link rel="prefetch" href="/assets/js/118.b05eda88.js"><link rel="prefetch" href="/assets/js/119.39f2f904.js"><link rel="prefetch" href="/assets/js/12.d6e4a587.js"><link rel="prefetch" href="/assets/js/120.45dbe6a5.js"><link rel="prefetch" href="/assets/js/121.9941b457.js"><link rel="prefetch" href="/assets/js/122.fc4f2ff3.js"><link rel="prefetch" href="/assets/js/123.c3cdb452.js"><link rel="prefetch" href="/assets/js/124.ae57edd4.js"><link rel="prefetch" href="/assets/js/125.80a7f80f.js"><link rel="prefetch" href="/assets/js/126.826ae28d.js"><link rel="prefetch" href="/assets/js/127.fe0c8441.js"><link rel="prefetch" href="/assets/js/128.c95d889d.js"><link rel="prefetch" href="/assets/js/129.acdbd954.js"><link rel="prefetch" href="/assets/js/13.f330b497.js"><link rel="prefetch" href="/assets/js/130.3413d67e.js"><link rel="prefetch" href="/assets/js/131.bce246a4.js"><link rel="prefetch" href="/assets/js/132.3c37f311.js"><link rel="prefetch" href="/assets/js/133.44e32f05.js"><link rel="prefetch" href="/assets/js/134.a6e4d78f.js"><link rel="prefetch" href="/assets/js/135.d7998fb2.js"><link rel="prefetch" href="/assets/js/136.c31601e7.js"><link rel="prefetch" href="/assets/js/137.4489b00b.js"><link rel="prefetch" href="/assets/js/138.8c6b88b7.js"><link rel="prefetch" href="/assets/js/139.2cffbefb.js"><link rel="prefetch" href="/assets/js/14.71349fad.js"><link rel="prefetch" href="/assets/js/140.07b8552f.js"><link rel="prefetch" href="/assets/js/15.7bf51c0f.js"><link rel="prefetch" href="/assets/js/16.7d676b66.js"><link rel="prefetch" href="/assets/js/17.07b6763a.js"><link rel="prefetch" href="/assets/js/18.f043472f.js"><link rel="prefetch" href="/assets/js/19.17683864.js"><link rel="prefetch" href="/assets/js/20.b384583d.js"><link rel="prefetch" href="/assets/js/21.3aced90b.js"><link rel="prefetch" href="/assets/js/22.7f6dda29.js"><link rel="prefetch" href="/assets/js/23.ca4f6e56.js"><link rel="prefetch" href="/assets/js/24.896bd9f6.js"><link rel="prefetch" href="/assets/js/25.c329a954.js"><link rel="prefetch" href="/assets/js/26.29ffd1e2.js"><link rel="prefetch" href="/assets/js/27.77aece92.js"><link rel="prefetch" href="/assets/js/28.f1c31003.js"><link rel="prefetch" href="/assets/js/29.f9e91935.js"><link rel="prefetch" href="/assets/js/3.61338c2e.js"><link rel="prefetch" href="/assets/js/30.03b95d9f.js"><link rel="prefetch" href="/assets/js/31.c3ddb45e.js"><link rel="prefetch" href="/assets/js/32.ec5f1b8d.js"><link rel="prefetch" href="/assets/js/33.8791656b.js"><link rel="prefetch" href="/assets/js/34.506b3ff9.js"><link rel="prefetch" href="/assets/js/35.c404fcfe.js"><link rel="prefetch" href="/assets/js/36.e1836413.js"><link rel="prefetch" href="/assets/js/37.f71813e6.js"><link rel="prefetch" href="/assets/js/38.4343e12d.js"><link rel="prefetch" href="/assets/js/39.86b5c2db.js"><link rel="prefetch" href="/assets/js/4.cb63b922.js"><link rel="prefetch" href="/assets/js/40.f874c287.js"><link rel="prefetch" href="/assets/js/41.9c247d6f.js"><link rel="prefetch" href="/assets/js/42.8d0f5758.js"><link rel="prefetch" href="/assets/js/43.a5721682.js"><link rel="prefetch" href="/assets/js/44.d660c752.js"><link rel="prefetch" href="/assets/js/45.3465f333.js"><link rel="prefetch" href="/assets/js/46.cd3c682f.js"><link rel="prefetch" href="/assets/js/48.c1af4594.js"><link rel="prefetch" href="/assets/js/49.8b755298.js"><link rel="prefetch" href="/assets/js/5.7d01b04b.js"><link rel="prefetch" href="/assets/js/50.38fc6c56.js"><link rel="prefetch" href="/assets/js/51.f984821b.js"><link rel="prefetch" href="/assets/js/52.a0641e02.js"><link rel="prefetch" href="/assets/js/53.3d61bb74.js"><link rel="prefetch" href="/assets/js/54.f08e887f.js"><link rel="prefetch" href="/assets/js/55.2f445ff2.js"><link rel="prefetch" href="/assets/js/56.8d4e9474.js"><link rel="prefetch" href="/assets/js/57.402c1181.js"><link rel="prefetch" href="/assets/js/58.c8406587.js"><link rel="prefetch" href="/assets/js/59.d2665ee7.js"><link rel="prefetch" href="/assets/js/6.2bab3d21.js"><link rel="prefetch" href="/assets/js/60.88008ac1.js"><link rel="prefetch" href="/assets/js/61.c898b47f.js"><link rel="prefetch" href="/assets/js/62.c981d2b7.js"><link rel="prefetch" href="/assets/js/63.a58b38a0.js"><link rel="prefetch" href="/assets/js/64.dcf71fdb.js"><link rel="prefetch" href="/assets/js/65.824b3395.js"><link rel="prefetch" href="/assets/js/66.cf189a7a.js"><link rel="prefetch" href="/assets/js/67.55781b9b.js"><link rel="prefetch" href="/assets/js/68.beae0c8b.js"><link rel="prefetch" href="/assets/js/69.e0a89937.js"><link rel="prefetch" href="/assets/js/7.f9d1bfa8.js"><link rel="prefetch" href="/assets/js/70.30c3b7ea.js"><link rel="prefetch" href="/assets/js/71.809f7c73.js"><link rel="prefetch" href="/assets/js/72.57a698f6.js"><link rel="prefetch" href="/assets/js/73.b53894ad.js"><link rel="prefetch" href="/assets/js/74.63ed65cc.js"><link rel="prefetch" href="/assets/js/75.c0d4c45e.js"><link rel="prefetch" href="/assets/js/76.6b2c13c6.js"><link rel="prefetch" href="/assets/js/77.1202d861.js"><link rel="prefetch" href="/assets/js/78.5b3d3113.js"><link rel="prefetch" href="/assets/js/79.1024bda7.js"><link rel="prefetch" href="/assets/js/8.86a45292.js"><link rel="prefetch" href="/assets/js/80.bba3c10f.js"><link rel="prefetch" href="/assets/js/81.53080171.js"><link rel="prefetch" href="/assets/js/82.c90c52c9.js"><link rel="prefetch" href="/assets/js/83.5f963fe3.js"><link rel="prefetch" href="/assets/js/84.7b1334d1.js"><link rel="prefetch" href="/assets/js/85.850513de.js"><link rel="prefetch" href="/assets/js/86.b0556230.js"><link rel="prefetch" href="/assets/js/87.f907eded.js"><link rel="prefetch" href="/assets/js/88.b8e159ae.js"><link rel="prefetch" href="/assets/js/89.bfd2bba0.js"><link rel="prefetch" href="/assets/js/9.4e5349e1.js"><link rel="prefetch" href="/assets/js/90.722dea1c.js"><link rel="prefetch" href="/assets/js/91.81e3f5ce.js"><link rel="prefetch" href="/assets/js/92.4892370b.js"><link rel="prefetch" href="/assets/js/93.b752884b.js"><link rel="prefetch" href="/assets/js/94.cfed9643.js"><link rel="prefetch" href="/assets/js/95.88cff3d1.js"><link rel="prefetch" href="/assets/js/96.7506258a.js"><link rel="prefetch" href="/assets/js/97.98c8455f.js"><link rel="prefetch" href="/assets/js/98.e6bd0a5a.js"><link rel="prefetch" href="/assets/js/99.4ebe7885.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cfa8f008.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Technology Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav>  <ul class="sidebar-links"><li><a href="/programming/" aria-current="page" class="sidebar-link">/programming/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span class="img-container"><img src="/sidebar-imgs/dotnet.webp"></span> <span>.NET</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/http-client.html" class="sidebar-link">HTTPClient</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><!----> <span>Async</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/programming/dotnet/equality.html" class="sidebar-link">Equality</a></li><li><a href="/programming/dotnet/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/programming/dotnet/generic-host.html" class="sidebar-link">Generic Host</a></li><li><a href="/programming/dotnet/logging.html" class="sidebar-link">Logging</a></li><li><a href="/programming/dotnet/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/programming/dotnet/records.html" class="sidebar-link">Records</a></li><li><a href="/programming/dotnet/grpc.html" class="sidebar-link">gRPC</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><!----> <span>ASP.NET Core</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/asp-net-core/overview.html" class="sidebar-link">Overview</a></li><li><a href="/programming/dotnet/asp-net-core/middleware.html" class="sidebar-link">Middleware</a></li><li><a href="/programming/dotnet/asp-net-core/razor-pages.html" class="sidebar-link">Razor Pages</a></li><li><a href="/programming/dotnet/asp-net-core/razor-pages-routing.html" aria-current="page" class="active sidebar-link">Routing in Razor Pages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages-routing.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages-routing.html#route-templates" class="sidebar-link">Route Templates</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages-routing.html#convention-vs-attributes" class="sidebar-link">Convention vs Attributes</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages-routing.html#generating-urls" class="sidebar-link">Generating URLs</a></li></ul></li><li><a href="/programming/dotnet/asp-net-core/web-apis.html" class="sidebar-link">Web APIs</a></li><li><a href="/programming/dotnet/asp-net-core/filters.html" class="sidebar-link">Filters</a></li><li><a href="/programming/dotnet/asp-net-core/identity.html" class="sidebar-link">Identity</a></li><li><a href="/programming/dotnet/asp-net-core/validation.html" class="sidebar-link">Validation</a></li><li><a href="/programming/dotnet/asp-net-core/tips.html" class="sidebar-link">Tips</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><!----> <span>Entity Framework Core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><!----> <span>Functional Programming</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/javascript.webp"></span> <span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/rust.webp"></span> <span>Rust</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/c.webp"></span> <span>C/C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/css.webp"></span> <span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/unity.webp"></span> <span>Unity</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/algorithms.webp"></span> <span>Algorithms</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="routing-with-razor-pages-in-asp-net-core"><a href="#routing-with-razor-pages-in-asp-net-core" class="header-anchor">#</a> Routing with Razor Pages in ASP.NET Core</h1> <p>Routing is the process of mapping an incoming request to a handler (Razor Page,
or an action on some MVC controller).</p> <p>Routing uses URL's path to decide on the handler. It doesn't use query
parameters. These are bound in the handler to parameters/properties.</p> <p><code>RoutingMiddleware</code> is added to the app with:</p> <div class="language-cs extra-class"><pre class="language-cs"><code>app<span class="token punctuation">.</span><span class="token function">UseRouing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Routing is not case-sensitive</p></div> <p>This middleware is responsible for selecting the endpoint for a requests.
Endpoints can be either MVC or Razor Pages (or some middleware). All of them
need to be registered with the <code>EndpointMiddleware</code>. That middleware has a
dictionary of all registered endpoints, and it is shared with the
<code>RoutingMiddleware</code>. Routing middleware looks through the dictionary for every
requests and makes a &quot;note&quot; about the selection in the <code>HttpContext</code> object.
<code>EndpointMiddleware</code> looks at that &quot;note&quot; and executes the selected endpoint
handler.</p> <div class="custom-block tip"><p class="custom-block-title">Separation of routing and execution</p> <p>The process of selecting an endpoint and executing it are separated into
different middleware components. Thanks to it, we can add some other middleware
between those. That middleware has access to the information which endpoint
handler was selected by the routing middleware. Example of that is the
<code>AuthorizationMiddleware</code>, which can do some authorization based on the selected
endpoint.</p></div> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>The routing middleware comes with a set of conventions, which may be changed. It can be done as follows:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code>services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>RouteOptions<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span> 
<span class="token punctuation">{</span>
  options<span class="token punctuation">.</span>AppendTrailingSlash <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  options<span class="token punctuation">.</span>LowercaseUrls <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">//by default, URLs are capitalized</span>
  options<span class="token punctuation">.</span>LowercaseQueryStrings <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="route-templates"><a href="#route-templates" class="header-anchor">#</a> Route Templates</h2> <p>When defining routes, the template syntax is used making it possible to have
some parts of the URLs dynamic.</p> <div class="custom-block tip"><p class="custom-block-title">Binding</p> <p>Placeholder values from a URL can be used during model binding.</p></div> <p>Here are the options:</p> <ul><li>static URL, e.g. <code>/users</code></li> <li>placeholders, e.g. <code>/products/{productId}</code></li> <li>placeholder with defualt value, e.g. <code>/products/{productId=123}</code> - when
navigating to &quot;/products&quot;, a &quot;/products/123&quot; route will be taken</li> <li>optional placegolder, e.g. <code>/products/{productId}/{color?}</code> - optional
parameters only make sense at the end of the route template.</li> <li>catch-all parameter, e.g. <code>/products/{*restOfUrl}</code> - <code>restOfUrl</code> will contain
the rest of the URL, even if there are slashes. (there can be either 1 or 2
asterisks (<code>*</code>) in the template).</li></ul> <h3 id="constraints"><a href="#constraints" class="header-anchor">#</a> Constraints</h3> <p>To avoid weird binding issues we can constraint dynamic parts of the template:</p> <ul><li><code>/products/{id:int}</code> - <code>id</code> has to be convertible to an integer</li> <li><code>/products/{id:min(5)}</code> - <code>id</code> has to be integer and min 5.</li> <li><code>/products/{id:length(3)}</code> - <code>id</code> has to have 3 characters.</li> <li><code>/products/{id:int?}</code> - <code>id</code> is optional, but if provided it has to be
convertible to an integer</li> <li><code>/products/int:max(10)?</code></li></ul> <div class="custom-block warning"><p class="custom-block-title">Binding Exceptions</p> <p>If we have an unconstrained template <code>/products/{id}</code> and our handler is
<code>OnGet(int id)</code>, an exception would be thrown if we called &quot;/products/test&quot;. The
framework would try to bind &quot;test&quot; string to the <code>id</code> parameter that is an
integer.</p> <p>With proper constraints, that endpoint would be just skipped and not matched.
The user will get 404, which might not make sense. Maybe a 400 would be more
appropriate. That's why sometimes it makes more sense to rely on validation than
on route constraints.</p></div> <h2 id="convention-vs-attributes"><a href="#convention-vs-attributes" class="header-anchor">#</a> Convention vs Attributes</h2> <p>Routes can be defined either in a signle place making all endpoints follow some
convention, or we can use attributes on every action to define a route for that
endpoint specifically. The latter apporach gives more freedom and makes it much
easier to introduce changes for a specific endpoint.</p> <h3 id="razor-pages"><a href="#razor-pages" class="header-anchor">#</a> Razor Pages</h3> <p>Razor Pages uses a combination of convention and attribute-based routing. The
routes are created by the <code>MapRazorPages()</code> extension method. All files in the
<code>Pages</code> direcotry are analyzed and routes are created for them based on their
placement.</p> <div class="custom-block tip"><p class="custom-block-title">Index</p> <p>The <code>Index.cshtml</code> files are an exception from that rule. They are mapped to
both <code>xyz/</code> and <code>xyz/Index</code> (we could have multiple <code>Index.cshtml</code> files in
different directories).</p></div> <p>To customize the route of a given Razor Page, we need to modify the <code>@page</code>
directive of a given page. Some examples for a page at <code>Pages/Items.cshtml</code>:</p> <ul><li><code>@page &quot;Something&quot;</code> - the URL will be &quot;/items/something&quot; (<strong>appending</strong>)</li> <li><code>@page &quot;{category}/{productId}&quot;</code> - the URL will be
&quot;items/<code>{category}</code>/<code>{productId}</code>&quot; (<strong>appending</strong>)</li> <li><code>@page &quot;/Something&quot;</code> - the URL will be &quot;/something&quot; (<strong>replacing</strong>)</li> <li><code>@page &quot;/{category}/{productId}&quot;</code> - the URL will be
&quot;/<code>{category}</code>/<code>{productId}</code>&quot; (<strong>replacing</strong>)</li></ul> <p>With such modifications, the default file location-based route is no longer
valid.</p> <h2 id="generating-urls"><a href="#generating-urls" class="header-anchor">#</a> Generating URLs</h2> <h3 id="razor-pages-2"><a href="#razor-pages-2" class="header-anchor">#</a> Razor Pages</h3> <p>The framework has a helper for generating URLs to other parts of our app.
An example:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> url <span class="token operator">=</span> Url<span class="token punctuation">.</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token string">&quot;Products/Winter&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> id <span class="token operator">=</span> <span class="token string">&quot;273&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <code>Url</code> object is a property on <code>PageModel</code> base class. It has various methods
for building URLs. We can provide some parameters, and the helper will fit this
into the template of the taget page (either as path, or as query).</p> <div class="custom-block tip"><p class="custom-block-title">Relative or Absolute</p> <p>We can proivde relative or absolute links. The example above was relative.
Absolute link (starts from the <code>Pages</code> directory) should start from a <code>/</code>.</p></div> <div class="custom-block tip"><p class="custom-block-title">Tag Helpers</p> <p>To genrerate links in HTML, the Anchor <a href="/programming/dotnet/asp-net-core/razor-pages.html#tag-helpers">Tag
Helper</a> is probably the best option.</p></div> <h3 id="mvc"><a href="#mvc" class="header-anchor">#</a> MVC</h3> <p>It's very similar to Razor Pages. We also have the <code>Url</code> object. However, we'd
use the <code>Action</code> method on it, together with the inputs: action name, controller
name, and optional parameters.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> url <span class="token operator">=</span> Url<span class="token punctuation">.</span><span class="token function">Action</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Winter<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>Products<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> id <span class="token operator">=</span> <span class="token string">&quot;273&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The <code>Page</code> and <code>Action</code> methods are availble from both the Razor Pages and MVC
controllers. We can redirect from a Page to a controller and the other way
around as well.</p></div> <div class="custom-block tip"><p class="custom-block-title">ActionResult</p> <p>Often it's more practical to use the <code>RedirectToPage</code> or <code>RedirectToAction</code>
methods. They act similarly as the described methods, but they don't return the
URLs in code.</p></div> <h3 id="linkgenerator"><a href="#linkgenerator" class="header-anchor">#</a> LinkGenerator</h3> <p>There is also a <code>LinkGenerator</code> class, which may be used in a code outside of
Razor Pages or MVC controllers (such as middleware, or any other code).</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> url <span class="token operator">=</span> _linkGenerator<span class="token punctuation">.</span><span class="token function">GetPathByPage</span><span class="token punctuation">(</span><span class="token string">&quot;/Products/Winter&quot;</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">values</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">&quot;273&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/programming/dotnet/asp-net-core/razor-pages.html" class="prev">
        Razor Pages
      </a></span> <span class="next"><a href="/programming/dotnet/asp-net-core/web-apis.html">
        Web APIs
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/8/2022, 6:48:56 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.60e5ef95.js" defer></script><script src="/assets/js/2.509aea98.js" defer></script><script src="/assets/js/47.114fda21.js" defer></script>
  </body>
</html>
