<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Razor Pages | Marcin Jahn | Technology Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Razor Pages in ASP.NET Core">
    <meta property="og:url" content="/programming/dotnet/asp-net-core/razor-pages.html">
    <meta property="og:site_name" content="Marcin Jahn | Technology Notebook">
    <meta property="og:title" content="Razor Pages">
    <meta property="og:description" content="Razor Pages in ASP.NET Core">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Technology Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="white">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.8f8d1251.css" as="style"><link rel="preload" href="/assets/js/app.6bbf7fa1.js" as="script"><link rel="preload" href="/assets/js/2.de42a2cb.js" as="script"><link rel="preload" href="/assets/js/47.46efcf9a.js" as="script"><link rel="prefetch" href="/assets/js/10.978f0e0c.js"><link rel="prefetch" href="/assets/js/100.9543ff0b.js"><link rel="prefetch" href="/assets/js/101.993c7851.js"><link rel="prefetch" href="/assets/js/102.d4693579.js"><link rel="prefetch" href="/assets/js/103.25604a93.js"><link rel="prefetch" href="/assets/js/104.3e18fda1.js"><link rel="prefetch" href="/assets/js/105.3f1b486a.js"><link rel="prefetch" href="/assets/js/106.99b483f8.js"><link rel="prefetch" href="/assets/js/107.c03ca7bb.js"><link rel="prefetch" href="/assets/js/108.af1f31e3.js"><link rel="prefetch" href="/assets/js/109.6e49d337.js"><link rel="prefetch" href="/assets/js/11.98134f26.js"><link rel="prefetch" href="/assets/js/110.7d293128.js"><link rel="prefetch" href="/assets/js/111.e53ce4d9.js"><link rel="prefetch" href="/assets/js/112.cf233ea0.js"><link rel="prefetch" href="/assets/js/113.708df8f3.js"><link rel="prefetch" href="/assets/js/114.f1de03b5.js"><link rel="prefetch" href="/assets/js/115.39d370ed.js"><link rel="prefetch" href="/assets/js/116.02fe4f9b.js"><link rel="prefetch" href="/assets/js/117.a95765dc.js"><link rel="prefetch" href="/assets/js/118.bee2019f.js"><link rel="prefetch" href="/assets/js/119.4db560b2.js"><link rel="prefetch" href="/assets/js/12.cd315aef.js"><link rel="prefetch" href="/assets/js/120.78c6b04a.js"><link rel="prefetch" href="/assets/js/121.7a91c390.js"><link rel="prefetch" href="/assets/js/122.36ec6922.js"><link rel="prefetch" href="/assets/js/123.c823d0b5.js"><link rel="prefetch" href="/assets/js/124.fb51182a.js"><link rel="prefetch" href="/assets/js/125.2a1c3cfb.js"><link rel="prefetch" href="/assets/js/126.25dbc0b9.js"><link rel="prefetch" href="/assets/js/127.5dab672f.js"><link rel="prefetch" href="/assets/js/128.f7d43d91.js"><link rel="prefetch" href="/assets/js/129.56ff160a.js"><link rel="prefetch" href="/assets/js/13.4ab4beb0.js"><link rel="prefetch" href="/assets/js/130.79ca4df4.js"><link rel="prefetch" href="/assets/js/131.d9dc3d79.js"><link rel="prefetch" href="/assets/js/132.694b0524.js"><link rel="prefetch" href="/assets/js/133.bf500afb.js"><link rel="prefetch" href="/assets/js/134.d3d1dc4a.js"><link rel="prefetch" href="/assets/js/135.d68a06b8.js"><link rel="prefetch" href="/assets/js/136.aa38c02d.js"><link rel="prefetch" href="/assets/js/137.7ff3d77d.js"><link rel="prefetch" href="/assets/js/138.19a81348.js"><link rel="prefetch" href="/assets/js/139.f92e6099.js"><link rel="prefetch" href="/assets/js/14.6acb64a0.js"><link rel="prefetch" href="/assets/js/15.674a24f0.js"><link rel="prefetch" href="/assets/js/16.60eefdf8.js"><link rel="prefetch" href="/assets/js/17.a2e32000.js"><link rel="prefetch" href="/assets/js/18.51628590.js"><link rel="prefetch" href="/assets/js/19.1fbde58a.js"><link rel="prefetch" href="/assets/js/20.ed58cefd.js"><link rel="prefetch" href="/assets/js/21.f3e1342b.js"><link rel="prefetch" href="/assets/js/22.eb4df333.js"><link rel="prefetch" href="/assets/js/23.3fb73f16.js"><link rel="prefetch" href="/assets/js/24.f443ee65.js"><link rel="prefetch" href="/assets/js/25.dc4c3e15.js"><link rel="prefetch" href="/assets/js/26.cc4cf13d.js"><link rel="prefetch" href="/assets/js/27.b8a821bc.js"><link rel="prefetch" href="/assets/js/28.3d167270.js"><link rel="prefetch" href="/assets/js/29.16bec07c.js"><link rel="prefetch" href="/assets/js/3.42297d17.js"><link rel="prefetch" href="/assets/js/30.9cec7e76.js"><link rel="prefetch" href="/assets/js/31.f1749a61.js"><link rel="prefetch" href="/assets/js/32.97d9ad45.js"><link rel="prefetch" href="/assets/js/33.1f73da10.js"><link rel="prefetch" href="/assets/js/34.ee643860.js"><link rel="prefetch" href="/assets/js/35.8092cfbf.js"><link rel="prefetch" href="/assets/js/36.6f6b465a.js"><link rel="prefetch" href="/assets/js/37.31d7ee5b.js"><link rel="prefetch" href="/assets/js/38.255dd248.js"><link rel="prefetch" href="/assets/js/39.8f7266ff.js"><link rel="prefetch" href="/assets/js/4.362e29a5.js"><link rel="prefetch" href="/assets/js/40.abc18ec7.js"><link rel="prefetch" href="/assets/js/41.878d0337.js"><link rel="prefetch" href="/assets/js/42.219cd51b.js"><link rel="prefetch" href="/assets/js/43.07caba3a.js"><link rel="prefetch" href="/assets/js/44.3414b9d8.js"><link rel="prefetch" href="/assets/js/45.3c917f0f.js"><link rel="prefetch" href="/assets/js/46.3918aab0.js"><link rel="prefetch" href="/assets/js/48.7c8d28a9.js"><link rel="prefetch" href="/assets/js/49.c6312501.js"><link rel="prefetch" href="/assets/js/5.446723c2.js"><link rel="prefetch" href="/assets/js/50.75fa2703.js"><link rel="prefetch" href="/assets/js/51.cc1c49d5.js"><link rel="prefetch" href="/assets/js/52.a4353c27.js"><link rel="prefetch" href="/assets/js/53.804239bc.js"><link rel="prefetch" href="/assets/js/54.7e4b00f7.js"><link rel="prefetch" href="/assets/js/55.c620fea9.js"><link rel="prefetch" href="/assets/js/56.bd26e1f5.js"><link rel="prefetch" href="/assets/js/57.33be3fcb.js"><link rel="prefetch" href="/assets/js/58.a896906b.js"><link rel="prefetch" href="/assets/js/59.cf20bbd2.js"><link rel="prefetch" href="/assets/js/6.38da7d57.js"><link rel="prefetch" href="/assets/js/60.38a103ab.js"><link rel="prefetch" href="/assets/js/61.3a567cbf.js"><link rel="prefetch" href="/assets/js/62.28a7681a.js"><link rel="prefetch" href="/assets/js/63.79863beb.js"><link rel="prefetch" href="/assets/js/64.d1c0bec3.js"><link rel="prefetch" href="/assets/js/65.739ef643.js"><link rel="prefetch" href="/assets/js/66.f5438945.js"><link rel="prefetch" href="/assets/js/67.8194f1f2.js"><link rel="prefetch" href="/assets/js/68.7ec8758d.js"><link rel="prefetch" href="/assets/js/69.e7ea7db8.js"><link rel="prefetch" href="/assets/js/7.18c30d3a.js"><link rel="prefetch" href="/assets/js/70.2ce234b3.js"><link rel="prefetch" href="/assets/js/71.03cb696b.js"><link rel="prefetch" href="/assets/js/72.ddcae78d.js"><link rel="prefetch" href="/assets/js/73.133cd555.js"><link rel="prefetch" href="/assets/js/74.1bf27547.js"><link rel="prefetch" href="/assets/js/75.72181bb1.js"><link rel="prefetch" href="/assets/js/76.af34fa9e.js"><link rel="prefetch" href="/assets/js/77.ae04376b.js"><link rel="prefetch" href="/assets/js/78.7c9e71f0.js"><link rel="prefetch" href="/assets/js/79.02bca779.js"><link rel="prefetch" href="/assets/js/8.cf0556c0.js"><link rel="prefetch" href="/assets/js/80.604afdfb.js"><link rel="prefetch" href="/assets/js/81.6abd9cd8.js"><link rel="prefetch" href="/assets/js/82.ae733560.js"><link rel="prefetch" href="/assets/js/83.d85f558e.js"><link rel="prefetch" href="/assets/js/84.b2463cce.js"><link rel="prefetch" href="/assets/js/85.63a2257b.js"><link rel="prefetch" href="/assets/js/86.149f25f4.js"><link rel="prefetch" href="/assets/js/87.c145dd9f.js"><link rel="prefetch" href="/assets/js/88.a9e9f684.js"><link rel="prefetch" href="/assets/js/89.206fc767.js"><link rel="prefetch" href="/assets/js/9.ad2cee6a.js"><link rel="prefetch" href="/assets/js/90.d8f871af.js"><link rel="prefetch" href="/assets/js/91.8e247000.js"><link rel="prefetch" href="/assets/js/92.505082da.js"><link rel="prefetch" href="/assets/js/93.35d9c73f.js"><link rel="prefetch" href="/assets/js/94.798ee66f.js"><link rel="prefetch" href="/assets/js/95.1f47b7d4.js"><link rel="prefetch" href="/assets/js/96.5eea8777.js"><link rel="prefetch" href="/assets/js/97.cebc95bd.js"><link rel="prefetch" href="/assets/js/98.1e5a3fee.js"><link rel="prefetch" href="/assets/js/99.bd6c8ce9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f8d1251.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Technology Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link router-link-active">
  Programming
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav>  <ul class="sidebar-links"><li><a href="/programming/" aria-current="page" class="sidebar-link">/programming/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span class="img-container"><img src="/sidebar-imgs/dotnet.webp"></span> <span>.NET</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/http-client.html" class="sidebar-link">HTTPClient</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><!----> <span>Async</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/programming/dotnet/equality.html" class="sidebar-link">Equality</a></li><li><a href="/programming/dotnet/comparisons.html" class="sidebar-link">Comparisons</a></li><li><a href="/programming/dotnet/generic-host.html" class="sidebar-link">Generic Host</a></li><li><a href="/programming/dotnet/logging.html" class="sidebar-link">Logging</a></li><li><a href="/programming/dotnet/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/programming/dotnet/records.html" class="sidebar-link">Records</a></li><li><a href="/programming/dotnet/grpc.html" class="sidebar-link">gRPC</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><!----> <span>ASP.NET Core</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming/dotnet/asp-net-core/overview.html" class="sidebar-link">Overview</a></li><li><a href="/programming/dotnet/asp-net-core/middleware.html" class="sidebar-link">Middleware</a></li><li><a href="/programming/dotnet/asp-net-core/razor-pages.html" aria-current="page" class="active sidebar-link">Razor Pages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages.html#mvc" class="sidebar-link">MVC</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages.html#pagemodel" class="sidebar-link">PageModel</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages.html#url" class="sidebar-link">URL</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages.html#data-in-razor" class="sidebar-link">Data in Razor</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages.html#razor-syntax" class="sidebar-link">Razor Syntax</a></li><li class="sidebar-sub-header"><a href="/programming/dotnet/asp-net-core/razor-pages.html#reusing-code" class="sidebar-link">Reusing Code</a></li></ul></li><li><a href="/programming/dotnet/asp-net-core/razor-pages-routing.html" class="sidebar-link">Routing in Razor Pages</a></li><li><a href="/programming/dotnet/asp-net-core/web-apis.html" class="sidebar-link">Web APIs</a></li><li><a href="/programming/dotnet/asp-net-core/filters.html" class="sidebar-link">Filters</a></li><li><a href="/programming/dotnet/asp-net-core/identity.html" class="sidebar-link">Identity</a></li><li><a href="/programming/dotnet/asp-net-core/validation.html" class="sidebar-link">Validation</a></li><li><a href="/programming/dotnet/asp-net-core/tips.html" class="sidebar-link">Tips</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><!----> <span>Entity Framework Core</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><!----> <span>Functional Programming</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/javascript.webp"></span> <span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/rust.webp"></span> <span>Rust</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/c.webp"></span> <span>C/C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/css.webp"></span> <span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/unity.webp"></span> <span>Unity</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="img-container"><img src="/sidebar-imgs/algorithms.webp"></span> <span>Algorithms</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="razor-pages"><a href="#razor-pages" class="header-anchor">#</a> Razor Pages</h1> <p>It's a framework for building multiple-pages based websites generated on the
server-side.</p> <div class="custom-block tip"><p class="custom-block-title">Origin</p> <p>Razor Pages model was introduced in ASP.NET Core 2.0</p></div> <p>The flow is as follows:</p> <ol><li>A Razor Page is selected by the routing middleware.</li> <li>The <code>PageModel</code> associated with the page is executed (e.g. <code>OnGet</code>).</li> <li>The view is rendered using the data from the <code>PageModel</code>.</li></ol> <p>Pages are stored in the <code>.cshtml</code> files within the <code>Pages</code> directory of a
project (by default). <strong>Razor</strong> is a templating syntax.</p> <p>Here's an example of <code>Pages/Privacy.cshtml</code>:</p> <div class="language-cshtml extra-class"><pre class="language-cshtml"><code><span class="token directive"><span class="token keyword">@page</span> <span class="token csharp language-csharp"><span class="token comment">// Indicates that this is a Razor Page</span></span></span>
<span class="token directive"><span class="token keyword">@model</span> <span class="token csharp language-csharp">PrivacyModel <span class="token comment">// Links to a model file (Privacy.cshtml.cs)</span></span></span>
<span class="token block"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token punctuation">{</span>
    <span class="token comment">// C# code that is not part of the result HTML</span>
    ViewData<span class="token punctuation">[</span><span class="token string">&quot;Title&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Privacy Policy&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span>

<span class="token comment">&lt;!-- Result HTML --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">ViewData<span class="token punctuation">[</span><span class="token string">&quot;Title&quot;</span><span class="token punctuation">]</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Use this page to detail your site's privacy policy.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>The file name matches the URL path. <code>localhost/Privacy</code> will run the
<code>Pages/Privacy.cshtml</code> page.</p> <p>The default <code>Program.cs</code> file looks as follows:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> WebApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>

builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddRazorPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> app <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>app<span class="token punctuation">.</span>Environment<span class="token punctuation">.</span><span class="token function">IsDevelopment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">UseExceptionHandler</span><span class="token punctuation">(</span><span class="token string">&quot;/Error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">UseHsts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token function">UseHttpsRedirection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">UseStaticFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">UseRouting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// selects the Razor Page</span>
app<span class="token punctuation">.</span><span class="token function">UseAuthorization</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">MapRazorPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// executes the selected Razor Page</span>

app<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="mvc"><a href="#mvc" class="header-anchor">#</a> MVC</h2> <p>The following components take up roles in the MVC paradigm:</p> <ul><li><strong>Model</strong> - the logic and data provided by our business logic (like some
<code>WeatherProviderService</code>)</li> <li><strong>View</strong> - the Razor Page template (the <code>.cshtml</code> file)</li> <li><strong>Controller</strong> - the <code>.cshtml.cs</code> file containing page's logic. It interacts
with the <em>Model</em> and invokes the <em>View</em> (or returns redirect/error)</li></ul> <div class="custom-block warning"><p class="custom-block-title">ASP.NET Core MVC</p> <p><strong>MVC</strong> is a generic pattern used in many languages/frameworks. <strong>ASP.NET Core
MVC</strong> is an example of an implementation of the MVC pattern that uses actions
and controllers.</p> <p>Razor Pages builds on top of the ASP.NET Core MVC, using it under the hood.</p> <p>Before Razor Pages, developers would use the MVC framework directly.</p></div> <h3 id="razor-pages-vs-asp-net-core-mvc"><a href="#razor-pages-vs-asp-net-core-mvc" class="header-anchor">#</a> Razor Pages vs ASP.NET Core MVC</h3> <p>We can build server-side websites with either Razor Pages or ASP.NET Core MVC
directly. In the latter case, we'd have <code>Controller</code>s and action methods within
it, just like with the ASP.NET Core Web APIs.</p> <p>The controller would construct a view model and return a view based on it:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token return-type class-name">ActionResult</span> <span class="token function">GetToDos</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> id<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token class-name"><span class="token keyword">var</span></span> items <span class="token operator">=</span> _todoProvider<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token class-name"><span class="token keyword">var</span></span> viewModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TodoViewModel</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">View</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In contrast, int the Razor Pages approach, the <code>PageModel</code> is both the
<em>Controller</em> and the <em>View Model</em>.</p> <p>The two approaches are quite similar, but some of the advantages of Razor Pages
are:</p> <ul><li>each page is a separate set of files - in MVC, actions of some domain are all
in the same controller (by convention), making it large sometimes.</li> <li>Razor Pages has a convention of placing related things close to each other. In
MVC all controllers are in one <code>Controllers</code> directory, all view models are in
the <code>View Models</code> directory, and all the views are in thh <code>Views</code> directory
(with Razor syntax).</li> <li>pages that are static are easier/shorter to code using Razor Pages. In MVC
we'd have to add an action that just returns the view (boilerplate code).</li></ul> <p>Both approaches are pretty similar. Razor Pages should be the preference though.</p> <div class="custom-block tip"><p class="custom-block-title">Mix</p> <p>Razor Pages and MVC approaches can be used together in one application.</p></div> <h2 id="pagemodel"><a href="#pagemodel" class="header-anchor">#</a> PageModel</h2> <p>Complex logic for a page should be handled in a the <code>PageModel</code> (a base class
for page models). We could use it to load data from some DB, etc. It is a &quot;code
behind&quot; file, similar to WPF.</p> <p>The model to use for a Page is specified with the <code>@model</code> directive.</p> <div class="custom-block tip"><p class="custom-block-title">Controller</p> <p><code>PageModel</code> name is unfortunate. It's a <em>Controller</em> in the MVC paradigm.</p></div> <p>The <code>PageModel</code> is executed first, then the page generated.</p> <p>An example:</p> <div class="language-cs extra-class"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrivacyModel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">PageModel</span></span> <span class="token comment">//base class</span>
<span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">ILogger<span class="token punctuation">&lt;</span>PrivacyModel<span class="token punctuation">&gt;</span></span> _logger<span class="token punctuation">;</span>

  <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">BindProperty</span></span><span class="token punctuation">]</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> SomeData <span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment">// data bound from a request</span>
  <span class="token comment">// GET requests do not bind data to properties by default.</span>
  <span class="token comment">// To change that use [BindProperty(SupportsGet = true)]</span>

  <span class="token keyword">public</span> <span class="token function">PrivacyModel</span><span class="token punctuation">(</span><span class="token class-name">ILogger<span class="token punctuation">&lt;</span>PrivacyModel<span class="token punctuation">&gt;</span></span> logger<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      _logger <span class="token operator">=</span> logger<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
      <span class="token comment">// void, Task or PageResult return type means that HTML should be generated</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// max would be bound from the request</span>
  <span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">OnPost</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> max<span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
      <span class="token comment">// IActionResult can return other things: JSONs, redirects, errors, etc.</span>

    <span class="token comment">// when binding data (to parameters of properties), validity should be checked</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ModelState<span class="token punctuation">.</span>IsValid<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">RedirectToPage</span><span class="token punctuation">(</span><span class="token string">&quot;./Index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// do something...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Overloading</p> <p>A <code>PageModel</code> cannot have multiple methods with the same names (like <code>OnGet</code>).</p></div> <p>The properties of the model are accessible to the <code>.cshtml</code> view making it
possible to render dynamic data from the model. That data, exposed by the
<code>PageModel</code> may be called a <em>View Model</em>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Views shouldn't call methods on the <code>PageModel</code>.</p></div> <h3 id="binding"><a href="#binding" class="header-anchor">#</a> Binding</h3> <p>Data is bound from:</p> <ol><li>form</li> <li>path</li> <li>query</li> <li>headers?</li></ol> <p>By default, the framework looks through all of these sources for each parameter
to bind. We can also specify the source explicitly:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">BindProperty</span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromHeader</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><p>We can also use it on the method parameters.</p> <div class="custom-block tip"><p class="custom-block-title">JSON</p> <p>To bind the JSON data from body, we have to use <code>FromBody</code>. Without it, data
will not be bound!</p></div> <div class="custom-block tip"><p class="custom-block-title">ModelBinder</p> <p>The <code>ModelBinderAttribute</code> may be used to have a total control over binding. In
example, we can change the name of value to be looked for in the request
compared to the name in our code.</p></div> <h4 id="class"><a href="#class" class="header-anchor">#</a> Class</h4> <p>If our Page has a few properties to bind from a request, we can introduce a
separate class that encompasses that data:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">class</span> <span class="token class-name">MyPage</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">PageModel</span></span>
<span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">BindProperty</span></span><span class="token punctuation">]</span>
  <span class="token keyword">public</span> <span class="token return-type class-name">InputData</span> InputData <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">InputData</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Category <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Product <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Color <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="validation"><a href="#validation" class="header-anchor">#</a> Validation</h4> <p>Go to <a href="/programming/dotnet/asp-net-core/validation.html">Validation</a>;</p> <h2 id="url"><a href="#url" class="header-anchor">#</a> URL</h2> <p>By default, the page's file path in the project defines the URL that would
execute that page. E.g. and URL <code>/products/list</code> would execute the page at
<code>Pages/Products/List.cshtml</code>.</p> <h3 id="handler"><a href="#handler" class="header-anchor">#</a> Handler</h3> <p>A single <code>PageModel</code> class may contain multiple methods to handle requests. The
name of the method should contain the HTTP method and, optionally, some
additional suffix. If we have multiple methods for the same HTTP method, but
with different suffixes, the selected suffix needs to be provided as a <code>handler</code>
parameter.</p> <p>Method name template: <code>On{verb}{handler}[Async]</code>.</p> <p>The <code>handler</code> should be included in the URL template for our Page.</p> <div class="custom-block tip"><p class="custom-block-title">Uncovered Cases</p> <p>If a request comes in that doesn't match any method on <code>PageModel</code>, the view is
generated, but no logic is invoked on the <code>PageModel</code>.</p> <p>An exception from this rule is the HEAD verb. If <code>OnHead</code> is not defined,
<code>OnGet</code> will be executed.</p></div> <h2 id="data-in-razor"><a href="#data-in-razor" class="header-anchor">#</a> Data in Razor</h2> <p>Razor Page can access &quot;external&quot; data in the following ways:</p> <ul><li><code>PageModel</code>'s public properties - the recommended way (accessed as
<code>@Model.{property}</code>)</li> <li><code>ViewData</code> - a dictionary whose key-values pair may be set from a <code>PageModel</code>.
It's useful for passing data between layouts.</li> <li><code>HttpContext</code> object</li> <li><code>@inject {service}</code> - we can use services from DI directly in views</li></ul> <h3 id="viewdata"><a href="#viewdata" class="header-anchor">#</a> ViewData</h3> <p><code>ViewData</code> can be set directly in the view itself:</p> <div class="language-razor extra-class"><pre class="language-razor"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">ViewData<span class="token punctuation">[</span><span class="token string">&quot;Title&quot;</span><span class="token punctuation">]</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>It can also be set in the <code>PageModel</code>:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">PageModel</span></span>
<span class="token punctuation">{</span>
  <span class="token comment">// A property of a `PageModel` may be defined as a `ViewData`:</span>
  <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ViewData</span></span><span class="token punctuation">]</span>
  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Title <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    Title <span class="token operator">=</span> <span class="token string">&quot;My Title&quot;</span><span class="token punctuation">;</span>
    ViewData<span class="token punctuation">[</span><span class="token string">&quot;Subtitle&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;My Subtitle&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="razor-syntax"><a href="#razor-syntax" class="header-anchor">#</a> Razor Syntax</h2> <p><a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/razor" target="_blank" rel="noopener noreferrer">MSDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is the best
place to follow.</p> <h3 id="tag-helpers"><a href="#tag-helpers" class="header-anchor">#</a> Tag Helpers</h3> <p>Tag Helpers are useful mostly with forms. In general, tag helpers reduce the
amount of markup that we have to write, making the HTML more readable and less
C#-y.</p> <p>The HTML elements that have tag helpers attached to them are modified by the
framework. No other element can be modified.</p> <div class="custom-block tip"><p class="custom-block-title">NuGet</p> <p>Tag Helpers are included as part of the framework. Additionally, we can get more
of them from NuGet, or even create our own.</p></div> <p>Tag Helpers, like validation, relies on the <code>DataAnnotations</code>.</p> <p>An example:</p> <div class="language-razor extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-razor"><code><span class="token directive"><span class="token keyword">@page</span></span>
<span class="token directive"><span class="token keyword">@model</span> <span class="token csharp language-csharp">CheckoutModel</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">ViewData</span></span>[&quot;Title]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Tag Helper will generate URL to submit to (adds &quot;action&quot; and &quot;method&quot; HTML attributes) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">asp-page</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Checkout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Label content (from DataAnnotaions' DisplayName or property name itself) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">asp-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input.FirstName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Input type (from DataAnnotations) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">asp-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input.FirstName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- Validation message (from ModelState) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">asp-validation-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input.FirstName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">asp-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input.LastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">asp-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input.LastName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">asp-validation-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input.LastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>With this markup, the generated HTML elements have proper content, ids, names,
client-side validation.</p> <p>Some tag helpers are about attributes that mey be added to elements (<code>asp-*</code>).
Some other tag helpers are completely new HTML elements:</p> <div class="language-razor extra-class"><pre class="language-razor"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Testing,Staginfg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>THIS IS A TESTING ENVIRONMENT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>We could have this functionality without Tag Helpers, we could use some <code>@if</code>.
However, Tag Helper makes it shorter and more readable.</p> <h2 id="reusing-code"><a href="#reusing-code" class="header-anchor">#</a> Reusing Code</h2> <h3 id="layouts"><a href="#layouts" class="header-anchor">#</a> Layouts</h3> <p>Razor Pages has a concept of <strong>Layouts</strong>, which allows to define common
structures of web pages. It avoids duplication of common parts of web pages.
Layouts can be found in the <code>Pages/Shared</code> directory.</p> <p>A simple layout example:</p> <div class="language-razor extra-class"><pre class="language-razor"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span><span class="token punctuation">&gt;</span></span> charset=&quot;utf-8&quot; /&gt;
  <span class="token comment">&lt;!-- Title could come from some child view --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">ViewData</span></span>[&quot;Title]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- Layouts are the place to reference CSS, JS --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~/css/site.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp"><span class="token function">RenderBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Every layout needs to call the <code>@RenderBody()</code> function. That is where the child
view will be rendered. We can also use <strong>Sections</strong> in a layout to define more
spots for rendering content.</p> <p>For example, layouts could define:</p> <ul><li>a general page structure - navbar, sidebar, footer, and a place to put content</li> <li>multiple-column layout with separate sections to put content in these columns</li></ul> <div class="custom-block tip"><p class="custom-block-title">&quot;_&quot; Prefix</p> <p>Bot the Layouts and the Partial Views file names should be prefixed with <code>_</code>.</p></div> <h4 id="choosing-a-layout"><a href="#choosing-a-layout" class="header-anchor">#</a> Choosing a Layout</h4> <p>The base layout should be named <code>_Layout.cshtml</code>. This layout is selected for
every Page by default. A different layout may be selected by setting the
<code>Layout</code> property in a view (e.g. <code>Layout = &quot;_MyLayout&quot;</code>).</p> <div class="custom-block tip"><p class="custom-block-title">Nesting</p> <p>Layouts can reference other layouts.</p></div> <h3 id="partial-views"><a href="#partial-views" class="header-anchor">#</a> Partial Views</h3> <p>Another option to use is <strong>Partial Views</strong>. They act much more similarly like
components in SPAs.</p> <ul><li><strong>Layouts</strong> define the OUTSIDE of the Page.</li> <li><strong>Partial Views</strong> may be included INSIDE of the page</li></ul> <p>Partial Views are all about HTML markup and reusing it. When using a Partial
View we can pass some data into it. Partial Views do not have <code>PageModel</code>s
associated with them.</p> <div class="language-razor extra-class"><pre class="language-razor"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>partial</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_MyPartial<span class="token punctuation">&quot;</span></span> <span class="token attr-name">model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>someData<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Tag Helper</p> <p><code>&lt;partial&gt;</code> is a tag helper.</p></div> <p>The file of the Partial View may be located anywhere in teh directory tree of
the Page that uses it, or in the <code>Pages/Shared</code> or <code>Views/Shared</code>.</p> <h3 id="viewimports"><a href="#viewimports" class="header-anchor">#</a> _ViewImports</h3> <p>The <code>_ViewImports.cshtml</code> file may be used to define namespace imports that are
common in our application. It can be placed in any directory and it will be used
by any Page in that folder and sub-folders. Placing it in the <code>/Pages</code> directory
makes it applicable to all pages.</p> <p>We can use <code>@using</code> and <code>@addTagHelper</code> in <code>_ViewImports</code>.</p> <h3 id="viewstart"><a href="#viewstart" class="header-anchor">#</a> _ViewStart</h3> <p>The <code>_ViewStart.cshtml</code> allows us to run some common code BEFORE the view itself
executes. It's often used to set the <code>Layout</code>. This way we don't have to do it
repeatedly in every page.</p> <div class="custom-block warning"><p class="custom-block-title">_ViewStart</p> <p>Partial Views and Layouts do not run the <code>_ViewStart.cshtml</code> when they execute.</p></div> <p>The filesystem placement works the same way as with the <code>_ViewImports</code> files.</p></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/programming/dotnet/asp-net-core/middleware.html" class="prev">
        Middleware
      </a></span> <span class="next"><a href="/programming/dotnet/asp-net-core/razor-pages-routing.html">
        Routing in Razor Pages
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/1/2022, 8:37:05 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.6bbf7fa1.js" defer></script><script src="/assets/js/2.de42a2cb.js" defer></script><script src="/assets/js/47.46efcf9a.js" defer></script>
  </body>
</html>
