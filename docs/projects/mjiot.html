<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MJ IoT | Marcin Jahn | Technology Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="A master thesis project - MJ IoT">
    <meta property="og:url" content="/projects/mjiot.html">
    <meta property="og:site_name" content="Marcin Jahn | Technology Notebook">
    <meta property="og:title" content="MJ IoT">
    <meta property="og:description" content="A master thesis project - MJ IoT">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Technology Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="white">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.78248196.css" as="style"><link rel="preload" href="/assets/js/app.535de7a7.js" as="script"><link rel="preload" href="/assets/js/2.92b4ce6e.js" as="script"><link rel="preload" href="/assets/js/4.78362083.js" as="script"><link rel="prefetch" href="/assets/js/10.12268f4a.js"><link rel="prefetch" href="/assets/js/100.6bf6c6c7.js"><link rel="prefetch" href="/assets/js/101.2d580b91.js"><link rel="prefetch" href="/assets/js/102.cef492db.js"><link rel="prefetch" href="/assets/js/103.2857a8a4.js"><link rel="prefetch" href="/assets/js/104.1363117e.js"><link rel="prefetch" href="/assets/js/105.5bb51b3c.js"><link rel="prefetch" href="/assets/js/106.26e86bb7.js"><link rel="prefetch" href="/assets/js/107.6bbbf6e3.js"><link rel="prefetch" href="/assets/js/108.97d5d269.js"><link rel="prefetch" href="/assets/js/109.3567c2fa.js"><link rel="prefetch" href="/assets/js/11.d0420d5a.js"><link rel="prefetch" href="/assets/js/110.be25f1da.js"><link rel="prefetch" href="/assets/js/111.cb24640f.js"><link rel="prefetch" href="/assets/js/112.5d3cf11d.js"><link rel="prefetch" href="/assets/js/113.3ef649b3.js"><link rel="prefetch" href="/assets/js/114.03faff87.js"><link rel="prefetch" href="/assets/js/115.8d6dd8bd.js"><link rel="prefetch" href="/assets/js/116.2dbfc9a9.js"><link rel="prefetch" href="/assets/js/117.421bc7e3.js"><link rel="prefetch" href="/assets/js/118.ce475000.js"><link rel="prefetch" href="/assets/js/119.982d8d7a.js"><link rel="prefetch" href="/assets/js/12.b53924c5.js"><link rel="prefetch" href="/assets/js/120.cacd40c4.js"><link rel="prefetch" href="/assets/js/13.c34333d7.js"><link rel="prefetch" href="/assets/js/14.177d05dd.js"><link rel="prefetch" href="/assets/js/15.3d3b2e91.js"><link rel="prefetch" href="/assets/js/16.255371d2.js"><link rel="prefetch" href="/assets/js/17.30a0d837.js"><link rel="prefetch" href="/assets/js/18.cd93a753.js"><link rel="prefetch" href="/assets/js/19.e9430749.js"><link rel="prefetch" href="/assets/js/20.db401fda.js"><link rel="prefetch" href="/assets/js/21.757c0463.js"><link rel="prefetch" href="/assets/js/22.3abe164b.js"><link rel="prefetch" href="/assets/js/23.b0a1493e.js"><link rel="prefetch" href="/assets/js/24.40530369.js"><link rel="prefetch" href="/assets/js/25.4160a73b.js"><link rel="prefetch" href="/assets/js/26.24d08e38.js"><link rel="prefetch" href="/assets/js/27.0cabba75.js"><link rel="prefetch" href="/assets/js/28.5ab2cc11.js"><link rel="prefetch" href="/assets/js/29.1b22d899.js"><link rel="prefetch" href="/assets/js/3.7705e99a.js"><link rel="prefetch" href="/assets/js/30.a19247f7.js"><link rel="prefetch" href="/assets/js/31.c63dcd51.js"><link rel="prefetch" href="/assets/js/32.ae10582e.js"><link rel="prefetch" href="/assets/js/33.a5a22f0a.js"><link rel="prefetch" href="/assets/js/34.e9ea07aa.js"><link rel="prefetch" href="/assets/js/35.32c00c8b.js"><link rel="prefetch" href="/assets/js/36.0348828c.js"><link rel="prefetch" href="/assets/js/37.0357abd6.js"><link rel="prefetch" href="/assets/js/38.ecdcc257.js"><link rel="prefetch" href="/assets/js/39.b0331090.js"><link rel="prefetch" href="/assets/js/40.ab7abc68.js"><link rel="prefetch" href="/assets/js/41.dac9cadf.js"><link rel="prefetch" href="/assets/js/42.be096883.js"><link rel="prefetch" href="/assets/js/43.91f3a0a0.js"><link rel="prefetch" href="/assets/js/44.7581250e.js"><link rel="prefetch" href="/assets/js/45.50bfad72.js"><link rel="prefetch" href="/assets/js/46.038c9086.js"><link rel="prefetch" href="/assets/js/47.fa487c65.js"><link rel="prefetch" href="/assets/js/48.3715f55f.js"><link rel="prefetch" href="/assets/js/49.5ccccfee.js"><link rel="prefetch" href="/assets/js/5.1a873efe.js"><link rel="prefetch" href="/assets/js/50.5a3ab899.js"><link rel="prefetch" href="/assets/js/51.0fdeea01.js"><link rel="prefetch" href="/assets/js/52.4e4b0322.js"><link rel="prefetch" href="/assets/js/53.0d9f7e29.js"><link rel="prefetch" href="/assets/js/54.6d886ac3.js"><link rel="prefetch" href="/assets/js/55.06c9f47d.js"><link rel="prefetch" href="/assets/js/56.ed7d1e78.js"><link rel="prefetch" href="/assets/js/57.1970b8b4.js"><link rel="prefetch" href="/assets/js/58.3b3ee605.js"><link rel="prefetch" href="/assets/js/59.08517d79.js"><link rel="prefetch" href="/assets/js/6.c7d96448.js"><link rel="prefetch" href="/assets/js/60.df610a83.js"><link rel="prefetch" href="/assets/js/61.d5d88dbe.js"><link rel="prefetch" href="/assets/js/62.75698b4e.js"><link rel="prefetch" href="/assets/js/63.969db12f.js"><link rel="prefetch" href="/assets/js/64.9875d4d0.js"><link rel="prefetch" href="/assets/js/65.2b0be19b.js"><link rel="prefetch" href="/assets/js/66.da4e346d.js"><link rel="prefetch" href="/assets/js/67.d9d668db.js"><link rel="prefetch" href="/assets/js/68.894998e3.js"><link rel="prefetch" href="/assets/js/69.8c43235e.js"><link rel="prefetch" href="/assets/js/7.84a78671.js"><link rel="prefetch" href="/assets/js/70.9cdf5fcf.js"><link rel="prefetch" href="/assets/js/71.2b9693d8.js"><link rel="prefetch" href="/assets/js/72.f9c15eab.js"><link rel="prefetch" href="/assets/js/73.90898735.js"><link rel="prefetch" href="/assets/js/74.1bbbf298.js"><link rel="prefetch" href="/assets/js/75.a95c591a.js"><link rel="prefetch" href="/assets/js/76.ceb76f66.js"><link rel="prefetch" href="/assets/js/77.d141ed3a.js"><link rel="prefetch" href="/assets/js/78.8882fb60.js"><link rel="prefetch" href="/assets/js/79.c9e9a0fd.js"><link rel="prefetch" href="/assets/js/8.58950878.js"><link rel="prefetch" href="/assets/js/80.959930ae.js"><link rel="prefetch" href="/assets/js/81.04749c6b.js"><link rel="prefetch" href="/assets/js/82.67a9c2fd.js"><link rel="prefetch" href="/assets/js/83.844ad304.js"><link rel="prefetch" href="/assets/js/84.633a7e84.js"><link rel="prefetch" href="/assets/js/85.b8e58db9.js"><link rel="prefetch" href="/assets/js/86.1e59bc6f.js"><link rel="prefetch" href="/assets/js/87.e46ec841.js"><link rel="prefetch" href="/assets/js/88.da6bdb2c.js"><link rel="prefetch" href="/assets/js/89.b9094a15.js"><link rel="prefetch" href="/assets/js/9.44ce6719.js"><link rel="prefetch" href="/assets/js/90.b4221409.js"><link rel="prefetch" href="/assets/js/91.98dbd83b.js"><link rel="prefetch" href="/assets/js/92.3c4ca748.js"><link rel="prefetch" href="/assets/js/93.f4d55d50.js"><link rel="prefetch" href="/assets/js/94.8560b1d3.js"><link rel="prefetch" href="/assets/js/95.af5d73c3.js"><link rel="prefetch" href="/assets/js/96.8b555afe.js"><link rel="prefetch" href="/assets/js/97.acef9b2a.js"><link rel="prefetch" href="/assets/js/98.850cb7d0.js"><link rel="prefetch" href="/assets/js/99.a08dce5e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.78248196.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Technology Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Tools and Infrastructure
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link router-link-active">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Tools and Infrastructure
</a></div><div class="nav-item"><a href="/technologies/" class="nav-link">
  Technologies
</a></div><div class="nav-item"><a href="/projects/" class="nav-link router-link-active">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-10a38898><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b/?locale=en_US" data-v-f9b87572 data-v-10a38898><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-10a38898><img src="/img/github.webp" data-v-f9b87572></a></span> <!----></nav>  <ul class="sidebar-links"><li><a href="/projects/" aria-current="page" class="sidebar-link">/projects/</a></li><li><a href="/projects/puff.html" class="sidebar-link">Puff</a></li><li><a href="/projects/alpha-img.html" class="sidebar-link">Alpha Img</a></li><li><a href="/projects/mjiot.html" aria-current="page" class="active sidebar-link">MJ IoT</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/projects/mjiot.html#abstract" class="sidebar-link">Abstract</a></li><li class="sidebar-sub-header"><a href="/projects/mjiot.html#control-panel" class="sidebar-link">Control Panel</a></li><li class="sidebar-sub-header"><a href="/projects/mjiot.html#devices" class="sidebar-link">Devices</a></li><li class="sidebar-sub-header"><a href="/projects/mjiot.html#applications" class="sidebar-link">Applications</a></li><li class="sidebar-sub-header"><a href="/projects/mjiot.html#links" class="sidebar-link">Links</a></li></ul></li><li><a href="/projects/io-module.html" class="sidebar-link">Wireless I/O Module</a></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="mj-iot"><a href="#mj-iot" class="header-anchor">#</a> MJ IoT</h1> <p>MJ IoT was a result of my work on a thesis titled &quot;Design and implementation of
Internet of Things System based on cloud computing model&quot;. It is an IoT system
build using the microservices architecture.</p> <h2 id="abstract"><a href="#abstract" class="header-anchor">#</a> Abstract</h2> <p>The thesis presents practical implementation of Internet of Things system that
emphasizes the possibility of connecting many devices together. Another useful
feature is the ability to collect telemetric data from connected “things”. This
project makes use of cloud services, that are subject of most of the thesis.</p> <p>The most important part of the designed platform exists in the cloud. The chosen
cloud provider is Microsoft with its Azure subscription offering. Transport of
data in the system is achieved by the means of IoT Hub service. Users’ data are
stored in two database systems: Azure SQL and CosmosDB. The platform’s logic is
hosted in a serverless architecture, delivered by Azure Functions.</p> <p><img src="/assets/img/mjiot-architecture.68419319.png" alt=""></p> <p>Another crucial part of the thesis is modelling approach. Every “thing” that is
connected with the platform has a corresponding model, which defines its
properties set. Each of these properties is characterized, among others, by its
data type that it can store. The user has the ability to define new models based
on the ones that already exist. This feature is available through the usage of
inheritance.</p> <p>Connecting devices is done by associating together properties of these devices.
Any property of a given device (such as state of a light bulb) can be used as an
output or as an input. The simplest example would be a pair of a button and a
light bulb. A button could have a property called &quot;pressed&quot;. It can be either
true or false. That propertyl may be connected to the light bulb's &quot;powered&quot;
property. As a result we would get a button-controller light.</p> <p>User has an option to set filters and calculations. Filters provide
functionality to block communication in defined situations, while calculations
enable the possibility of modifying messages before they are delivered to the
recipient device. One of the available calculations is custom C# scripts. The
user is able to create a program that can modify communication data in any way.</p> <p>The user has access to the platform by the use of web application based on the
Angular framework. Features of this application include: viewing a list of
user’s devices with its details; defining and deleting connections; displaying
telemetry data in a form of a chart or a list, with corresponding timestamps.</p> <h2 id="control-panel"><a href="#control-panel" class="header-anchor">#</a> Control Panel</h2> <p>An essential part of the project was a web application allowing users to manage
their devices. The app was created in Agular.</p> <p><img src="/assets/img/mjiot-webapp1.b3c6def6.png" alt=""></p> <p><img src="/assets/img/mjiot-webapp2.218dd8ef.png" alt=""></p> <p><img src="/assets/img/mjiot-webapp3.c057af5e.png" alt=""></p> <p><img src="/assets/img/mjiot-webapp4.50a4a284.png" alt=""></p> <p><img src="/assets/img/mjiot-webapp5.1dd504af.png" alt=""></p> <h2 id="devices"><a href="#devices" class="header-anchor">#</a> Devices</h2> <p>Here are a few examples of the devices that I've built for the needs of the project.
Some of them are a mixture of hardware and software, while some others were purely software-based.</p> <h3 id="heater"><a href="#heater" class="header-anchor">#</a> Heater</h3> <p>I've purchased a generic heater and modified it by including a controlled relay
in its electrical circuit.</p> <p><img src="/assets/img/mjiot-heater.093b0236.png" alt=""></p> <p><img src="/assets/img/mjiot-heater-electric.6052b003.png" alt=""></p> <h3 id="temperature-and-humidity-sensor"><a href="#temperature-and-humidity-sensor" class="header-anchor">#</a> Temperature and Humidity sensor</h3> <p>One of my sensors was a simple temperature and humidity sensor that I've connected with a microcontroller.</p> <p><img src="/assets/img/mjiot-humidity-sensor.f7aee6f8.png" alt=""></p> <h3 id="display"><a href="#display" class="header-anchor">#</a> Display</h3> <p>A purely software-based device - a display. It could be connected to other devices
to display their outputs (e.g. when connected to the temperature output of the
temperature and humidity sensor we could observe the temperature).</p> <p><img src="/assets/img/mjiot-display.143f375b.png" alt=""></p> <h3 id="hysteresis-controller"><a href="#hysteresis-controller" class="header-anchor">#</a> Hysteresis Controller</h3> <p>Another software-based device was a hysteresis controller that allows for an automated control of other appliances based on configuration parameters.</p> <p><img src="/assets/img/mjiot-hysteresis-controller.5cc5d5fa.png" alt=""></p> <h3 id="chat-app"><a href="#chat-app" class="header-anchor">#</a> Chat App</h3> <p>One of the most interesting &quot;devices&quot; that I designed was the chat application.
Its input was an incoming message. The output was an outgoing message.</p> <p><img src="/assets/img/mjiot-chat.07b8f511.png" alt=""></p> <h2 id="applications"><a href="#applications" class="header-anchor">#</a> Applications</h2> <p>As part of my work, I have also prepared a few practical use-cases of the MJ IoT
Platform.</p> <h3 id="temperature-control"><a href="#temperature-control" class="header-anchor">#</a> Temperature Control</h3> <p>Connecting a few of my devices together and using the capabilities of MJIoT
Platform I was able to have a working room temperature control system. This
system uses some basic automation principles like the feedback loop.</p> <p><img src="/assets/img/temp-control-loop.a8febe28.png" alt=""></p> <p>Here's how I've connected various devices together to get a working system:</p> <p><img src="/assets/img/mjiot-temp-control-devices.e7e91142.png" alt=""></p> <p>The Heater was obviously responsible to heat the room. Depending on the input
from the Hysteresis Control, it was either ON or OFF. In order to change the
temperature settings I used two instances of the Chat App. In order to configure
Set Point (desired temperature) and Hysteresis Gap (a characteristic of any
hysteresis controller) I'd just send a message to the controller. The controller
wouldn't be able to work properly without a feedback signal. Such a signal came
from the Temperature Sensor that I've connected to the Controller. Additionally,
to have live temperature information I've added the Display. It was connected to
the output of the Temperature Sensor.</p> <p>All of the connections were configured via the MJ IoT Control Panel as follows:</p> <p><img src="/assets/img/mjiot-temp-control-connections.9c98215c.png" alt=""></p> <p>With all that, I achieved typical temperature control characteristics with a
hysteresis controller:</p> <p><img src="/assets/img/mjiot-temp-control-graph.bb9fa251.png" alt=""></p> <p>The blue color represents the controller output (commands for the heater to be
on or off); the yellow color represents the desired temperature; the green color
represents the actual room temperature. You can see that it has a sinusoidal
shape, which is typical for the type of a controller that I've designed.</p> <h3 id="world-wide-chat-service"><a href="#world-wide-chat-service" class="header-anchor">#</a> World-wide Chat Service</h3> <p>A really fun application of MJIoT was to use it as a chat platform. I have
connected two instances of my Chat app together (output of one goes as
an input to another) and got a simple chat system.</p> <p><img src="/assets/img/mjiot-chat-sysem-connections.f3ef4f48.png" alt=""></p> <p><img src="/assets/img/mjiot-chat-world.c304d139.png" alt=""></p> <p>The image shows an example of how I've been testing the solution. The PC on the
left was in Poland (me), while the one on the right was in Tunisia (my
friend's). We were able to communicate similarly to other popular solutions such
as Facebook Messenger.</p> <h2 id="links"><a href="#links" class="header-anchor">#</a> Links</h2> <p>The thesis was written in the Polish language. It's available here:
<a href="https://github.com/marcinjahn/MJIoT-Master-Thesis" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>All of the code is open-source and can be found on <a href="https://github.com/marcinjahn" target="_blank" rel="noopener noreferrer">my
GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (all microservices and apps are under
different repos with the name including &quot;MjIoT&quot;).</p></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/projects/alpha-img.html" class="prev">
        Alpha Img
      </a></span> <span class="next"><a href="/projects/io-module.html">
        Wireless I/O Module
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/15/2022, 7:16:18 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.535de7a7.js" defer></script><script src="/assets/js/2.92b4ce6e.js" defer></script><script src="/assets/js/4.78362083.js" defer></script>
  </body>
</html>
