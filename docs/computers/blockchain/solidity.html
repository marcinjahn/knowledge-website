<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Solidity | Marcin Jahn | Technology Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZSM2N36X8P"></script>
    <script>(function() { if (window.location.href.startsWith('http://localhost')) { return; } window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ZSM2N36X8P'); })();</script>
    <meta name="description" content="Programming Smart Contracts with the Solidity programming language">
    <meta property="og:url" content="/computers/blockchain/solidity.html">
    <meta property="og:site_name" content="Marcin Jahn | Technology Notebook">
    <meta property="og:title" content="Solidity">
    <meta property="og:description" content="Programming Smart Contracts with the Solidity programming language">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Marcin Jahn | Technology Notebook">
    <meta property="article:author" content="Marcin Jahn">
    <meta name="theme-color" content="white">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.03266277.css" as="style"><link rel="preload" href="/assets/js/app.eec426cc.js" as="script"><link rel="preload" href="/assets/js/2.2f4ad232.js" as="script"><link rel="preload" href="/assets/js/20.74dc1fd0.js" as="script"><link rel="prefetch" href="/assets/js/10.80cb4d17.js"><link rel="prefetch" href="/assets/js/100.656bb70b.js"><link rel="prefetch" href="/assets/js/101.8e1294db.js"><link rel="prefetch" href="/assets/js/102.7551282e.js"><link rel="prefetch" href="/assets/js/103.2e78a085.js"><link rel="prefetch" href="/assets/js/11.266c809c.js"><link rel="prefetch" href="/assets/js/12.77dd8a0f.js"><link rel="prefetch" href="/assets/js/13.0f97ba18.js"><link rel="prefetch" href="/assets/js/14.6f44a320.js"><link rel="prefetch" href="/assets/js/15.34f5fc58.js"><link rel="prefetch" href="/assets/js/16.a7628891.js"><link rel="prefetch" href="/assets/js/17.7b23e9f5.js"><link rel="prefetch" href="/assets/js/18.a7333357.js"><link rel="prefetch" href="/assets/js/19.83a072a2.js"><link rel="prefetch" href="/assets/js/21.ceb9a91d.js"><link rel="prefetch" href="/assets/js/22.abcda1be.js"><link rel="prefetch" href="/assets/js/23.7c73e437.js"><link rel="prefetch" href="/assets/js/24.59e61c86.js"><link rel="prefetch" href="/assets/js/25.3b9aedea.js"><link rel="prefetch" href="/assets/js/26.3eed6e26.js"><link rel="prefetch" href="/assets/js/27.bbc4b809.js"><link rel="prefetch" href="/assets/js/28.25473314.js"><link rel="prefetch" href="/assets/js/29.6ca56d45.js"><link rel="prefetch" href="/assets/js/3.f1f649da.js"><link rel="prefetch" href="/assets/js/30.27dc45e9.js"><link rel="prefetch" href="/assets/js/31.bab1e370.js"><link rel="prefetch" href="/assets/js/32.e35d4351.js"><link rel="prefetch" href="/assets/js/33.56a7b7b9.js"><link rel="prefetch" href="/assets/js/34.8e3e97ca.js"><link rel="prefetch" href="/assets/js/35.c3eabefc.js"><link rel="prefetch" href="/assets/js/36.2d335cc8.js"><link rel="prefetch" href="/assets/js/37.cc822b70.js"><link rel="prefetch" href="/assets/js/38.54344b78.js"><link rel="prefetch" href="/assets/js/39.309c9cd5.js"><link rel="prefetch" href="/assets/js/4.9146e6c1.js"><link rel="prefetch" href="/assets/js/40.23cb0478.js"><link rel="prefetch" href="/assets/js/41.bdea6c72.js"><link rel="prefetch" href="/assets/js/42.50fb9ed6.js"><link rel="prefetch" href="/assets/js/43.a6109371.js"><link rel="prefetch" href="/assets/js/44.520e05c0.js"><link rel="prefetch" href="/assets/js/45.71c3f53a.js"><link rel="prefetch" href="/assets/js/46.82bcec7a.js"><link rel="prefetch" href="/assets/js/47.c582ff8d.js"><link rel="prefetch" href="/assets/js/48.a9d73ccb.js"><link rel="prefetch" href="/assets/js/49.e91003b9.js"><link rel="prefetch" href="/assets/js/5.7b50d30c.js"><link rel="prefetch" href="/assets/js/50.96f927e5.js"><link rel="prefetch" href="/assets/js/51.52ad26a5.js"><link rel="prefetch" href="/assets/js/52.a7616d15.js"><link rel="prefetch" href="/assets/js/53.9df57f43.js"><link rel="prefetch" href="/assets/js/54.0e44d270.js"><link rel="prefetch" href="/assets/js/55.00201827.js"><link rel="prefetch" href="/assets/js/56.cd4a9288.js"><link rel="prefetch" href="/assets/js/57.e689a828.js"><link rel="prefetch" href="/assets/js/58.bcc71dff.js"><link rel="prefetch" href="/assets/js/59.a8f9de4d.js"><link rel="prefetch" href="/assets/js/6.9dc57ef0.js"><link rel="prefetch" href="/assets/js/60.a8e42b43.js"><link rel="prefetch" href="/assets/js/61.92c82f77.js"><link rel="prefetch" href="/assets/js/62.35075450.js"><link rel="prefetch" href="/assets/js/63.36cabda5.js"><link rel="prefetch" href="/assets/js/64.30215941.js"><link rel="prefetch" href="/assets/js/65.04efdb43.js"><link rel="prefetch" href="/assets/js/66.d7ab0181.js"><link rel="prefetch" href="/assets/js/67.c865875a.js"><link rel="prefetch" href="/assets/js/68.0c14c2f6.js"><link rel="prefetch" href="/assets/js/69.d26c643e.js"><link rel="prefetch" href="/assets/js/7.4a294bda.js"><link rel="prefetch" href="/assets/js/70.8eb62661.js"><link rel="prefetch" href="/assets/js/71.08db2046.js"><link rel="prefetch" href="/assets/js/72.1622de82.js"><link rel="prefetch" href="/assets/js/73.eaaf71e7.js"><link rel="prefetch" href="/assets/js/74.781f221a.js"><link rel="prefetch" href="/assets/js/75.70ad17b3.js"><link rel="prefetch" href="/assets/js/76.8f20d262.js"><link rel="prefetch" href="/assets/js/77.7a34650f.js"><link rel="prefetch" href="/assets/js/78.50b8148e.js"><link rel="prefetch" href="/assets/js/79.c5c82a49.js"><link rel="prefetch" href="/assets/js/8.f07d4e35.js"><link rel="prefetch" href="/assets/js/80.0a2f68cf.js"><link rel="prefetch" href="/assets/js/81.c290140e.js"><link rel="prefetch" href="/assets/js/82.03dad29a.js"><link rel="prefetch" href="/assets/js/83.5dd6e442.js"><link rel="prefetch" href="/assets/js/84.7b5d13ef.js"><link rel="prefetch" href="/assets/js/85.422e92cf.js"><link rel="prefetch" href="/assets/js/86.d4c474fa.js"><link rel="prefetch" href="/assets/js/87.3d386f3c.js"><link rel="prefetch" href="/assets/js/88.fe5b7fd1.js"><link rel="prefetch" href="/assets/js/89.dff33219.js"><link rel="prefetch" href="/assets/js/9.5d00270a.js"><link rel="prefetch" href="/assets/js/90.9b6655cc.js"><link rel="prefetch" href="/assets/js/91.ed2d42b4.js"><link rel="prefetch" href="/assets/js/92.085545ed.js"><link rel="prefetch" href="/assets/js/93.096fe484.js"><link rel="prefetch" href="/assets/js/94.6e20bff5.js"><link rel="prefetch" href="/assets/js/95.3fab2d52.js"><link rel="prefetch" href="/assets/js/96.c05fbc89.js"><link rel="prefetch" href="/assets/js/97.f693f068.js"><link rel="prefetch" href="/assets/js/98.16439492.js"><link rel="prefetch" href="/assets/js/99.57ce9b5c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.03266277.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar boxshadow"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marcin Jahn | Technology Notebook</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Dev Tools
</a></div><div class="nav-item"><a href="/computers/" class="nav-link router-link-active">
  Computers
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6c2342f8><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b" data-v-f9b87572 data-v-6c2342f8><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-6c2342f8><img src="/img/github.webp" data-v-f9b87572></a></span> <a href="https://github.com/marcinjahn/technology-notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    Code on GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/programming/" class="nav-link">
  Programming
</a></div><div class="nav-item"><a href="/dev-tools/" class="nav-link">
  Dev Tools
</a></div><div class="nav-item"><a href="/computers/" class="nav-link router-link-active">
  Computers
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  Projects
</a></div><div class="nav-item"><a href="/meta/" class="nav-link">
  Meta
</a></div> <span class="external-services" data-v-6c2342f8><a target="_blank" href="https://www.linkedin.com/in/marcin-jahn-63a9b915b" data-v-f9b87572 data-v-6c2342f8><img src="/img/linkedin.webp" data-v-f9b87572></a><a target="_blank" href="https://github.com/marcinjahn" data-v-f9b87572 data-v-6c2342f8><img src="/img/github.webp" data-v-f9b87572></a></span> <a href="https://github.com/marcinjahn/technology-notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    Code on GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/computers/" aria-current="page" class="sidebar-link">/computers/</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web Protocols</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Security</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Blockchain</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/computers/blockchain/intro.html" class="sidebar-link">Overview</a></li><li><a href="/computers/blockchain/smart-contracts.html" class="sidebar-link">Smart Contracts</a></li><li><a href="/computers/blockchain/solidity.html" aria-current="page" class="active sidebar-link">Solidity</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computers/blockchain/solidity.html#features" class="sidebar-link">Features</a></li><li class="sidebar-sub-header"><a href="/computers/blockchain/solidity.html#remix-ide" class="sidebar-link">Remix IDE</a></li></ul></li><li><a href="/computers/blockchain/dapps.html" class="sidebar-link">Dapps</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content"><div class="content__default"><h1 id="solidity"><a href="#solidity" class="header-anchor">#</a> Solidity</h1> <p>One of the languages supported by Ethereum is <strong>Solidity</strong>. It is updated quite
frequently, breaking changes should be expected.</p> <p>Solidity is used for the creation of <strong>smart contracts</strong>.</p> <p>A simple program:</p> <div class="language-sol extra-class"><pre class="language-sol"><code><span class="token keyword">pragma</span> <span class="token keyword">solidity</span> <span class="token operator">^</span><span class="token version number">0.8.11</span><span class="token punctuation">;</span>
<span class="token keyword">contract</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
    <span class="token builtin">uint</span> value<span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token builtin">uint</span> x<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">view</span> <span class="token keyword">public</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">uint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token builtin">uint</span> n<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> value <span class="token operator">+</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token builtin">uint</span> n<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> value <span class="token operator">-</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>A deployed smart contract is accessible to anyone who has an identity on the
blockchain (human or a program).</p> <h2 id="features"><a href="#features" class="header-anchor">#</a> Features</h2> <h3 id="data-types"><a href="#data-types" class="header-anchor">#</a> Data types</h3> <ul><li><code>address</code> - refers to identity of participants</li> <li><code>struct</code> - allows creation of structures of data</li> <li><code>mapping</code> - defines a dictionary/map/hashtable</li> <li><code>enum</code> - enumeration</li> <li><code>array</code> - e.g. <code>Proposal[] proposals;</code></li></ul> <h4 id="structs"><a href="#structs" class="header-anchor">#</a> Structs</h4> <p>Example</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">struct</span> <span class="token class-name">Voter</span> <span class="token punctuation">{</span>
    <span class="token builtin">uint</span> weight<span class="token punctuation">;</span>
    <span class="token builtin">bool</span> voted<span class="token punctuation">;</span>
    <span class="token builtin">uint</span> vote<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="enums"><a href="#enums" class="header-anchor">#</a> Enums</h4> <p>Example:</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">enum</span> <span class="token class-name">Phase</span> <span class="token punctuation">{</span>Init<span class="token punctuation">,</span> Regs<span class="token punctuation">,</span> Vote<span class="token punctuation">,</span> Done<span class="token punctuation">}</span>
Phase <span class="token keyword">public</span> state <span class="token operator">=</span> Phase<span class="token punctuation">.</span>Init<span class="token punctuation">;</span>
</code></pre></div><h3 id="loops"><a href="#loops" class="header-anchor">#</a> Loops</h3> <p>Loops looks like in C. If the content is just one-line ling, curly brackets may
be skipped.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token builtin">uint</span> prop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> prop <span class="token operator">&lt;</span> numProposals<span class="token punctuation">;</span> prop<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    proposals<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">Proposal</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="functions"><a href="#functions" class="header-anchor">#</a> Functions</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">changeState</span><span class="token punctuation">(</span>Phase x<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token punctuation">{</span>
    <span class="token comment">// content...</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="storage"><a href="#storage" class="header-anchor">#</a> Storage</h4> <p>Variables within functions may either end up in the blockchain or not. Simple
variables, by default, are not recorded on the blockchain. Structs are recorded
(by default). We can change that behavior with keywords:</p> <ul><li><code>memory</code> - variable is not stored</li> <li><code>storage</code> - variable is stored</li></ul> <p>Example:</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code>Voter <span class="token keyword">memory</span> sender <span class="token operator">=</span> voters<span class="token punctuation">[</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Voter</code> is a struct. By adding the <code>memory</code> keyword, we made the variable
temporary. It will not be stored on the blockchain.</p> <h4 id="view-functions"><a href="#view-functions" class="header-anchor">#</a> View Functions</h4> <p>If a function is marked with a <code>view</code> keyword, it is not allowed to modify the
state and its execution is not recorded on the blockchain.</p> <p>If <code>view</code> is missing, every invocation is recorded in the ledger.</p> <h4 id="returning-data"><a href="#returning-data" class="header-anchor">#</a> Returning data</h4> <p>Functions may return data. In such a case, we may define a variable that will
be returned and write some data into it.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">uint</span> someData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    someData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="constructor"><a href="#constructor" class="header-anchor">#</a> Constructor</h3> <p>A contract might have a constructor. It is run during the deployment of the contract
to the blockchain. The deployment is done by some participant of the blockchain.
The deployment may be performed with some ethers attached. These ethers are added
to the contact's funds. It's no different from other functions' execution. These can
also accept funds.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">constructor</span> <span class="token punctuation">(</span><span class="token builtin">uint</span> numProposals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    chairperson <span class="token operator">=</span> msg<span class="token punctuation">.</span>sender<span class="token punctuation">;</span>
    voters<span class="token punctuation">[</span>chairperson<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token builtin">uint</span> prop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> prop <span class="token operator">&lt;</span> numProposals<span class="token punctuation">;</span> prop<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        proposals<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">Proposal</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="visiblity-modifiers"><a href="#visiblity-modifiers" class="header-anchor">#</a> Visiblity Modifiers</h3> <p>Dat and functions may be defined as <code>public</code>, making them reachable by the
public. Without that keyword, the data/function is internal to the contract and
may be called only within that contract.</p> <p>It's analogical to encapsulation in the OOP.</p> <h3 id="access-modifiers"><a href="#access-modifiers" class="header-anchor">#</a> Access Modifiers</h3> <p>They are used to guard access to data/functions. They are similar to functions.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">modifier</span> <span class="token function">validPhase</span><span class="token punctuation">(</span>Phase reqPhase<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">require</span><span class="token punctuation">(</span>state <span class="token operator">==</span> reqPhase<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">_</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Parameters</p> <p>The modifier above accepts a parameter. A modifier might be defined without any
parameters.</p></div> <p>The <code>_;</code> invokes the actual function that is guarded by the modifier.
(can we do some actions in the modifier post function execution?)</p> <p>To use a modifier, we need to state it in the &quot;header&quot; of a function, like this:</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token builtin">address</span> voter<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token function">validPhase</span><span class="token punctuation">(</span>Phase<span class="token punctuation">.</span>Regs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The function above will invoke the modifier with the value <code>Phase.Regs</code> (it's an
enum) passed to it. Only if that modifier succeeds, the transaction may be
registered.</p> <div class="custom-block tip"><p class="custom-block-title">Multiple modifiers</p> <p>Multiple modifiers may be applied to a single function. They are executed in the
same sequence as they are listed on a function.</p> <p>If any of the modifiers in a chain fails, the rest will not be executed.</p></div> <h3 id="payable"><a href="#payable" class="header-anchor">#</a> Payable</h3> <p>A function with the <code>payable</code> keyword accepts payments (in <code>msg.value</code>).</p> <h3 id="sender"><a href="#sender" class="header-anchor">#</a> Sender</h3> <p>Every function invocation has access to the <code>msg.sender</code> field that reveals the
address of the caller.</p> <h3 id="built-in-functions"><a href="#built-in-functions" class="header-anchor">#</a> Built-in functions</h3> <h4 id="revert"><a href="#revert" class="header-anchor">#</a> Revert</h4> <p>If something is wrong in the execution (e.g., some validation failed),
<code>revert()</code> reverts the transaction. Revert is called automatically by the Smart
Contract in case of runtime error.</p> <p>In case of a revert, all changes done during the execution are reverted.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>A reverted transaction is not recorded on the blockchain.</p></div> <h4 id="require"><a href="#require" class="header-anchor">#</a> Require</h4> <p><code>require(condition)</code> is a basic assert operation used for validation. If the
provided condition if false, <code>revert()</code> will be called.</p> <p><code>require</code> does not consume all the remaining gas offered to pay (like <code>assert</code>
does). It should be used in cases where the condition being false is a normal
situation that is expected to happen (e.g., when validating user inputs).</p> <p>It's useful in access modifiers.</p> <h4 id="assert"><a href="#assert" class="header-anchor">#</a> Assert</h4> <p><code>assert(condition)</code> works basically the same as <code>require</code>, but it uses up all
the remaining <em>gas</em>.</p> <p>It should be used when checking conditions that are crucial and are not expected
to ever be false.</p> <h3 id="events"><a href="#events" class="header-anchor">#</a> Events</h3> <p>Smart contracts may define and emit events.</p> <p>A definition example:</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">AuctionEnded</span><span class="token punctuation">(</span><span class="token builtin">address</span> winner<span class="token punctuation">,</span> <span class="token builtin">uint</span> highestBid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Emitting example:</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">emit</span> <span class="token function">AuctionEnded</span><span class="token punctuation">(</span>highestBidder<span class="token punctuation">,</span> highestBid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Parameters limit</p> <p>Maximum three parameters may be used in an event.</p></div> <p>Events are stored on the blockchain in the block's receipt tree.
These events can be retrieved by dapps.</p> <h2 id="remix-ide"><a href="#remix-ide" class="header-anchor">#</a> Remix IDE</h2> <p>It's a web-based IDE for Solidity. It can be found at
<a href="https://remix.ethereum.org/" target="_blank" rel="noopener noreferrer">https://remix.ethereum.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. It's suitable for
playground/learning scenarios. Production apps should use something like
Truffle.</p></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/computers/blockchain/smart-contracts.html" class="prev">
        Smart Contracts
      </a></span> <span class="next"><a href="/computers/blockchain/dapps.html">
        Dapps
      </a>
      →
    </span></p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/marcinjahn/technology-notebook/edit/main/src/docs/computers/blockchain/solidity.md" target="_blank" rel="noopener noreferrer">Feel free to contribute to this article!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/11/2022, 10:39:43 PM</span></div></footer> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.eec426cc.js" defer></script><script src="/assets/js/2.2f4ad232.js" defer></script><script src="/assets/js/20.74dc1fd0.js" defer></script>
  </body>
</html>
