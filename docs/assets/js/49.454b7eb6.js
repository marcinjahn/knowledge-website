(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{520:function(t,e,o){"use strict";o.r(e);var s=o(22),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"modules-in-angular"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#modules-in-angular"}},[t._v("#")]),t._v(" Modules in Angular")]),t._v(" "),o("p",[t._v("Modules are a way of bundling various Angular entities together:")]),t._v(" "),o("ul",[o("li",[t._v("components,")]),t._v(" "),o("li",[t._v("directives,")]),t._v(" "),o("li",[t._v("services,")]),t._v(" "),o("li",[t._v("pipes.")])]),t._v(" "),o("p",[t._v("A proper organization of code between modules results in:")]),t._v(" "),o("ul",[o("li",[t._v("feature separation")]),t._v(" "),o("li",[t._v("better performance")])]),t._v(" "),o("p",[t._v("Angular itself bundles its various parts into modules. Here are some examples:")]),t._v(" "),o("ul",[o("li",[o("code",[t._v("RouterModule")])]),t._v(" "),o("li",[o("code",[t._v("FormsModule")])]),t._v(" "),o("li",[o("code",[t._v("BrowserModule")]),t._v(" and "),o("code",[t._v("CommonModule")]),t._v(" - things like "),o("code",[t._v("ngFor")]),t._v(" or "),o("code",[t._v("ngIf")]),t._v(" directives\nare there!")]),t._v(" "),o("li",[o("code",[t._v("HttpClientModule")]),t._v(" - it only provides services")])]),t._v(" "),o("h2",{attrs:{id:"module-decorator"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#module-decorator"}},[t._v("#")]),t._v(" Module Decorator")]),t._v(" "),o("p",[t._v("The "),o("code",[t._v("NgModule")]),t._v(" decorator has the following options:")]),t._v(" "),o("ul",[o("li",[o("code",[t._v("declarations")]),t._v(" - here, we register all the "),o("strong",[t._v("components")]),t._v(", "),o("strong",[t._v("directives")]),t._v(", and\n"),o("strong",[t._v("pipes")]),t._v(".")]),t._v(" "),o("li",[o("code",[t._v("imports")]),t._v(" - here, we pull in other modules, either provided by external\nparties (e.g. Angular itself) or our own modules.")]),t._v(" "),o("li",[o("code",[t._v("exports")]),t._v(" - a way to expose some entities to the other modules (those that\nwill "),o("code",[t._v("import")]),t._v(" the current module). E.g., if I export "),o("code",[t._v("RouterModule")]),t._v(" from\n"),o("code",[t._v("SomeModule")]),t._v(", any module that imports "),o("code",[t._v("SomeModule")]),t._v(" may use "),o("code",[t._v("RouterModule")]),t._v("'s\nfeatures (its services, directives, etc.). We can export modules, components,\ndirectives, pipes. Export only those entities that you want to be usable in\nentities (like components) declared in other modules.")]),t._v(" "),o("li",[o("code",[t._v("providers")]),t._v(" - Dependency Injection setup. Alternatively, services can\nconfigure their injection via the "),o("code",[t._v("Injectable")]),t._v(" decorator and its "),o("code",[t._v("providedIn")]),t._v("\nproperty.")]),t._v(" "),o("li",[o("code",[t._v("bootstrap")]),t._v(" - defines the starting component(s) (usually "),o("code",[t._v("AppComponent")]),t._v(")")]),t._v(" "),o("li",[o("code",[t._v("entryComponents")]),t._v(" - "),o("em",[t._v("deprecated")]),t._v(", it was used for "),o("RouterLink",{attrs:{to:"/programming/angular/components.html#instantiating-components-from-typescript"}},[t._v("dynamic\nmodules")]),t._v(" in the\npast.")],1)]),t._v(" "),o("h2",{attrs:{id:"organizing-code-into-modules"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#organizing-code-into-modules"}},[t._v("#")]),t._v(" Organizing Code into Modules")]),t._v(" "),o("p",[t._v("A recommended way of organizing code in larger applications is to split code\ninto modules by feature. E.g., we could have a set of components that are all\nabout the products domain. Also, we could have another set of components that\nare all about managing orders. In this idealized scenario, we'd put\nproducts-related components into one module, and the orders-related stuff into\nanother module.")]),t._v(" "),o("h3",{attrs:{id:"scope"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#scope"}},[t._v("#")]),t._v(" Scope")]),t._v(" "),o("p",[t._v("The entities declared in a module (e.g. components) have access ONLY to entities\nthat this module declares or imports (services are an exception, more on that\nlater). For example, if I create a "),o("code",[t._v("MyModule")]),t._v(" module with some declared\ncomponent, I can use "),o("code",[t._v("routerLink")]),t._v(" in that component only if I import\n"),o("code",[t._v("RouterModule")]),t._v(" into "),o("code",[t._v("MyModule")]),t._v(" first. "),o("strong",[t._v("I think this rule applies only to\ntemplates and the components, directives or pipes that we use within them (?)")])]),t._v(" "),o("p",[t._v("It's important to note that we can import the same module multiple times into\ndifferent components. For example, if both "),o("code",[t._v("AppModule")]),t._v(" and "),o("code",[t._v("MyModule")]),t._v(" have\nsome declared components that make use of "),o("code",[t._v("<ng-outlet>")]),t._v(", we should import\n"),o("code",[t._v("RouterModule")]),t._v(" into both of them.")]),t._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[t._v("Services")]),t._v(" "),o("p",[t._v("The "),o("code",[t._v("HttpClientModule")]),t._v(' is a bit "special". Since it does not expose anything\nother than services (provides them), it does not need to be imported into every\nmodule that needs '),o("code",[t._v("HttpClient")]),t._v(". Services can be injected without that.")])]),t._v(" "),o("div",{staticClass:"custom-block warning"},[o("p",{staticClass:"custom-block-title"},[t._v("BrowserModule")]),t._v(" "),o("p",[t._v("The "),o("code",[t._v("BrowserModule")]),t._v(' is even more "special". It should be imported only once into\nthe '),o("code",[t._v("AppModule")]),t._v(" and nowhere else. Since features like "),o("code",[t._v("ngIf")]),t._v(" and "),o("code",[t._v("ngFor")]),t._v(" come\nfrom that module, that would be a bit limiting. Because of that, the other\nmodules that want to make use of these features, should import the\n"),o("code",[t._v("CommonModule")]),t._v(". "),o("code",[t._v("ngIf")]),t._v(" and other stuff will become available.")])]),t._v(" "),o("h2",{attrs:{id:"routes"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#routes"}},[t._v("#")]),t._v(" Routes")]),t._v(" "),o("p",[t._v("Our feature modules representing different sections of the app could also handle\nits routes. We could go even further and create separate routes modules per\nfeature. Each feature would have such a module with its specific routes.")]),t._v(" "),o("p",[t._v("Here's an example of such a module:")]),t._v(" "),o("div",{staticClass:"language-ts extra-class"},[o("pre",{pre:!0,attrs:{class:"language-ts"}},[o("code",[o("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" routes"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Routes "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("'products'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    component"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ProductsComponent"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    canActivate"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" AuthorizationGuard "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    children"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ProductsListComponent"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pathMatch"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("'full'")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("'new'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" NewProductComponent"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[t._v("':id'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ProductInfoComponent"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resolve"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" PoductResolverService "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),o("span",{pre:!0,attrs:{class:"token decorator"}},[o("span",{pre:!0,attrs:{class:"token at operator"}},[t._v("@")]),o("span",{pre:!0,attrs:{class:"token function"}},[t._v("NgModule")])]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  imports"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("RouterModule"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),o("span",{pre:!0,attrs:{class:"token function"}},[t._v("forChild")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("routes"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exports"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("RouterModule"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),o("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProductsRoutingModule")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[t._v("forChild")]),t._v(" "),o("p",[t._v("In the main "),o("code",[t._v("RouterModule")]),t._v(" we usually use "),o("code",[t._v("RouterModule.forRoot()")]),t._v(" method. In\nthese feature-specific route modules, we use "),o("code",[t._v("RouterModule.forChild")]),t._v(". In the\nend, all these routes will be merged together.")])]),t._v(" "),o("p",[t._v("Note that even though in this routing module we reference some components, we\ndon't need to import them via the "),o("code",[t._v("imports")]),t._v(" array. We need to import stuff only\nif we plan to use it in the templates.")])])}),[],!1,null,null,null);e.default=n.exports}}]);