(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{543:function(t,e,a){"use strict";a.r(e);var s=a(22),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"enumerables-in-net"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enumerables-in-net"}},[t._v("#")]),t._v(" Enumerables in .NET")]),t._v(" "),a("h2",{attrs:{id:"ienumerable-and-ienumerator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ienumerable-and-ienumerator"}},[t._v("#")]),t._v(" IEnumerable and IEnumerator")]),t._v(" "),a("p",[t._v("Collections in .NET implement "),a("code",[t._v("IEnumerable")]),t._v(". This interface has just one method:\n"),a("code",[t._v("GetEnumerator()")]),t._v(". It returns an implementation of "),a("code",[t._v("IEnumerator()")]),t._v(".")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Generics")]),t._v(" "),a("p",[t._v("Normally, we don't use non-generic "),a("code",[t._v("IEnurable")]),t._v("/"),a("code",[t._v("IEnumerator")]),t._v(" nowadays, but I'll\nbe using these shorter interface names here for simplicity.")])]),t._v(" "),a("p",[a("code",[t._v("IEnumerator")]),t._v(" allows to\n("),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerator?view=net-6.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("MSDN"),a("OutboundLink")],1),t._v("):")]),t._v(" "),a("ul",[a("li",[t._v("move between elements in the collection")]),t._v(" "),a("li",[t._v("read the current element")]),t._v(" "),a("li",[t._v("reset state")])]),t._v(" "),a("p",[t._v("Why do we even need "),a("code",[t._v("IEnumerable")]),t._v(" and don't just implement "),a("code",[t._v("IEnumerator")]),t._v(" in\nevery collection type? That's because we want to be able to enumerate a single\ncollection by multiple actors. "),a("code",[t._v("IEnumerator")]),t._v(" has a state. We can't use the same\ninstance of it from two different services, because none of these services would\nget a full picture of the collection. Instead, each service should retrieve its\nown copy of "),a("code",[t._v("IEnumerator")]),t._v(" (via "),a("code",[t._v("IEnumerable")]),t._v(") and use it.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Length")]),t._v(" "),a("p",[t._v("An important characteristic of the "),a("code",[t._v("IEnumerable")]),t._v(" is that its length is unknown.\nThis is quite useful in scenarios where the data source is huge and counting its\nlength would be a huge overhead.")]),t._v(" "),a("p",[t._v("The source of data could be actually infinite, for example it could be a source\nof random numbers. In such a case, the "),a("code",[t._v("IEnumerator")]),t._v(" implementation would\nprobably not need to keep the reference to its source "),a("code",[t._v("IEnumerable")]),t._v(", as it\nusually happens with typical collections, like the "),a("code",[t._v("Array")]),t._v(". You will find a\nsimilar example below.")])]),t._v(" "),a("h3",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),a("h4",{attrs:{id:"array"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#array"}},[t._v("#")]),t._v(" Array")]),t._v(" "),a("p",[t._v("An example of an "),a("code",[t._v("IEnumerable")]),t._v(" is an "),a("code",[t._v("Array")]),t._v(".\n"),a("a",{attrs:{href:"https://github.com/microsoft/referencesource/blob/master/mscorlib/system/array.cs#L1268",target:"_blank",rel:"noopener noreferrer"}},[t._v("Here"),a("OutboundLink")],1),t._v("\nwe can see that it implements "),a("code",[t._v("IEnumerable.GetEnumerator()")]),t._v(". The enumerator\nitself can be found\n"),a("a",{attrs:{href:"https://github.com/microsoft/referencesource/blob/5697c29004a34d80acdaf5742d7e699022c64ecd/mscorlib/system/array.cs#L2597",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".\nIt keeps reference to the "),a("code",[t._v("Array")]),t._v(". One of its components is the "),a("code",[t._v("Current")]),t._v("\nproperty. All it does is it returns the element at the current "),a("code",[t._v("_index")]),t._v(". The\n"),a("a",{attrs:{href:"https://github.com/microsoft/referencesource/blob/5697c29004a34d80acdaf5742d7e699022c64ecd/mscorlib/system/array.cs#L2665",target:"_blank",rel:"noopener noreferrer"}},[t._v("MoveNext()"),a("OutboundLink")],1),t._v("\nis also there. It basically increments the "),a("code",[t._v("_index")]),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"infinite-enumerator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#infinite-enumerator"}},[t._v("#")]),t._v(" Infinite Enumerator")]),t._v(" "),a("p",[t._v("This is a simple enumartor that just returns consecutive numbers, forever (well,\nuntil it overflows):")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InfiniteEnumerable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token type-list"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IEnumerable")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("IEnumerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetEnumerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("InfiniteEnumerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InfiniteEnumerator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token type-list"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IEnumerator")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")])]),t._v(" _current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("object")])]),t._v(" Current "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" _current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bool")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("MoveNext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        _current"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Here's how we'd use it:")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("InfiniteEnumerable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Consol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WriteLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("It would just print numbers forever.")]),t._v(" "),a("h3",{attrs:{id:"foreach"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#foreach"}},[t._v("#")]),t._v(" foreach")]),t._v(" "),a("p",[a("code",[t._v("foreach")]),t._v(" keyword is basically a syntax sugar that relies on the "),a("code",[t._v("IEnumerable")]),t._v("\nand "),a("code",[t._v("IEnumerator")]),t._v(":")]),t._v(" "),a("p",[t._v("Syntax sugar:")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("foreach")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" element "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" collection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WriteLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Behind the scenes:")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" enumerator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" collection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetEnumerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("enumerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("MoveNext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("WriteLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("enumerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Simplification!")]),t._v(" "),a("p",[t._v("In reality the generated code is more convoluted, for example it calls\n"),a("code",[t._v("Dispose()")]),t._v(" in the "),a("code",[t._v("finally")]),t._v(" block.")])]),t._v(" "),a("h3",{attrs:{id:"yield"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yield"}},[t._v("#")]),t._v(" yield")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("yield")]),t._v(" keyword is a shortcut that allows us to create our own\n"),a("code",[t._v("IEnumerable")]),t._v("/"),a("code",[t._v("IEnumerator")]),t._v("s. For example, to create an infinite enumerator, we\ndon't have to create new implementations of "),a("code",[t._v("IEnumerable")]),t._v(" and "),a("code",[t._v("IEnumerator")]),t._v(". All\nwe have to do is this:")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("IEnumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetNumbersForEver")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("It's a method that uses the "),a("code",[t._v("yield")]),t._v(" keyword. It works in a way that each time we\nask for the next value from the returned "),a("code",[t._v("IEnumerable")]),t._v(", it is going to execute\nthe loop iteration, until it finds the next "),a("code",[t._v("yield")]),t._v(". In our case, there's just 1\nline of code in the loop, but there could be more.")]),t._v(" "),a("p",[t._v("So, basically, "),a("code",[t._v("yield")]),t._v(" creates a custom "),a("code",[t._v("IEnumerator")]),t._v(" (behind the scenes) that\nreturns values only when we ask for them. The code in the method using "),a("code",[t._v("yield")]),t._v("\nruns ONLY when we ask for the next element.")]),t._v(" "),a("p",[t._v("It is very similar to how LINQ works.")]),t._v(" "),a("h2",{attrs:{id:"iqueryable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iqueryable"}},[t._v("#")]),t._v(" IQueryable")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("IQueryable")]),t._v(" interface is a bit similar to "),a("code",[t._v("IEnumerable")]),t._v(". In fact, it\ninherits from "),a("code",[t._v("IEnumerable")]),t._v(". "),a("code",[t._v("IQueryable")]),t._v(" is mostly used with LINQ and data\nproviders. The advantage of it is that is allows to construct a query before\nexecuting it against a data source (e.g., a database). "),a("code",[t._v("IQueryable")]),t._v(" has a\nproperty called "),a("code",[t._v("Expression")]),t._v(". This is the expression tree that a given instance\nof "),a("code",[t._v("IQueryable")]),t._v(" represents. For example (using Entity Framework):")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" people "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("People"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("StartsWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"B"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("This is turned into an expression tree, stored in the "),a("code",[t._v("IQueryable.Expression")]),t._v(".")]),t._v(" "),a("p",[t._v("Let's say I add another line of code to what I had:")]),t._v(" "),a("div",{staticClass:"language-cs extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cs"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" threePeople "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" people"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Take")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("If we were using "),a("code",[t._v("IEnumerable")]),t._v(", we'd request all the people from the database\nfirst, and then (locally) extract three entities from that. It's obviously\ninefficient. However, thanks to the use of "),a("code",[t._v("IQueryable")]),t._v(", when the "),a("code",[t._v("Take(3)")]),t._v(" was\nadded, the expression tree got modified and the constructed SQL query could make\nuse of something like "),a("code",[t._v("TOP")]),t._v(" to deliver just 3 people instances.")]),t._v(" "),a("h2",{attrs:{id:"references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" References")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable?view=net-6.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("IEnumerable (MSDN)"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerator?view=net-6.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("IEnumerator (MSDN)"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.youtube.com/watch?v=UfT-st9dl8Q",target:"_blank",rel:"noopener noreferrer"}},[t._v("YouTube (IEnumerable)"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://csharpindepth.com/Articles/IteratorBlockImplementation",target:"_blank",rel:"noopener noreferrer"}},[t._v("Iterator Block Implementation"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);