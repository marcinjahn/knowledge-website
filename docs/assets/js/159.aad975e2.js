(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{645:function(e,t,n){"use strict";n.r(t);var a=n(22),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"frontmatter-title"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[e._v("#")]),e._v(" "+e._s(e.$frontmatter.title))]),e._v(" "),n("p",[e._v("WebSocket surfaced in the era of HTTP/1.1. The basic idea is to enable\nbi-directional communication between the client and the server under a single\nTCP connection. Instead of relying on the traditional request-response model,\nunder WebSocket both parties can send messages freely.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("SignalR")]),e._v(" "),n("p",[e._v("WebSocket is one of the ways how SignalR transfers data. There are also other\ntransport protocols supported, but WebSocket is the preferred one.")])]),e._v(" "),n("p",[e._v("Use cases:")]),e._v(" "),n("ul",[n("li",[e._v("chatting")]),e._v(" "),n("li",[e._v("currencies exchange")]),e._v(" "),n("li",[e._v("live feed of a sports event")]),e._v(" "),n("li",[e._v("gaming")])]),e._v(" "),n("h2",{attrs:{id:"establishing-connection"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#establishing-connection"}},[e._v("#")]),e._v(" Establishing Connection")]),e._v(" "),n("p",[e._v('After the "normal" TCP connection gets established, the client has to send a\n'),n("strong",[e._v("GET (UPGRADE)")]),e._v(" request that asks the server to switch to WebSocket. The\nserver responds with "),n("strong",[e._v("101 (Switching Protocols)")]),e._v(". After that, both parties can\ncommunicate via WebSocket.")]),e._v(" "),n("p",[e._v("Here's an example of how the upgrade looks like in the HTTP protocol (taken from\nthe "),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/WebSocket",target:"_blank",rel:"noopener noreferrer"}},[e._v("Wikipedia"),n("OutboundLink")],1),e._v("):")]),e._v(" "),n("p",[e._v("Client request (just like in HTTP, each line ends with "),n("code",[e._v("\\r\\n")]),e._v(" and there must be\nan extra blank line at the end):")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("GET /chat HTTP/1.1\nHost: server.example.com\nUpgrade: websocket\nConnection: Upgrade\nSec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==\nSec-WebSocket-Protocol: chat, superchat\nSec-WebSocket-Version: 13\nOrigin: http://example.com\n")])])]),n("p",[e._v("Server response:")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("HTTP/1.1 101 Switching Protocols\nUpgrade: websocket\nConnection: Upgrade\nSec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=\nSec-WebSocket-Protocol: chat\n")])])]),n("h2",{attrs:{id:"sources"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sources"}},[e._v("#")]),e._v(" Sources")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://en.wikipedia.org/wiki/WebSocket",target:"_blank",rel:"noopener noreferrer"}},[e._v("Wikipedia"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);