(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{499:function(t,s,a){"use strict";a.r(s);var n=a(31),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"error-handling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-handling"}},[t._v("#")]),t._v(" Error Handling")]),t._v(" "),a("p",[t._v("In imperative programs, it's normal to see "),a("code",[t._v("throw")]),t._v(" statements or "),a("code",[t._v("try/catch")]),t._v(".\nExceptions are discouraged in FP. Instead, the return value of a function should\ncontain information about the possible error. It's very similar to Rust's\n"),a("code",[t._v("Result<T,E>")]),t._v(".")]),t._v(" "),a("p",[t._v("In FP, the "),a("code",[t._v("Either")]),t._v(" type is used to signal that an operation can potentially\nfail. It's quite similar to "),a("code",[t._v("Option<T>")]),t._v('. The difference is that the "bad" case\nmay return an additional payload, unlike '),a("code",[t._v("None")]),t._v(" that doesn't bear any additional\ninformation on why "),a("code",[t._v("None")]),t._v(" was returned.")]),t._v(" "),a("p",[a("code",[t._v("Either")]),t._v(" has two possible variants:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Left<L>")]),t._v(" - failure")]),t._v(" "),a("li",[a("code",[t._v("Right<R>")]),t._v(" - success")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Where")]),t._v(" "),a("p",[t._v("Among the typical FP functions ("),a("code",[t._v("Map")]),t._v(", "),a("code",[t._v("Bind")]),t._v(", "),a("code",[t._v("Where")]),t._v(", etc.), the "),a("code",[t._v("Where")]),t._v("\nfunction is not applicable to "),a("code",[t._v("Either")]),t._v(". That's because "),a("code",[t._v("Where")]),t._v(" only accepts a\npredicate that returns a boolean. It is unable to create a proper "),a("code",[t._v("Left<L>")]),t._v(". A\nworkaround is to use "),a("code",[t._v("Bind")]),t._v(" with a function that either returns "),a("code",[t._v("Right<R>")]),t._v(" or\n"),a("code",[t._v("Left<L>")])]),t._v(" "),a("div",{staticClass:"language-csharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CheckAge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// with Option<T> it'd be .Where(HasRightAge)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Greet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LetIn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("Either"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Rejection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("CheckAge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Age "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[t._v("Rejection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Age less than 18"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("h2",{attrs:{id:"checking-for-errors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checking-for-errors"}},[t._v("#")]),t._v(" Checking For Errors")]),t._v(" "),a("p",[t._v("Typically, "),a("code",[t._v("Either")]),t._v("-based flows follow a track where each function may either\nsucceed or fail. At the end of the flow, the failure scenario should be checked.")]),t._v(" "),a("div",{staticClass:"language-csharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CheckAge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// with Option<T> it'd be .Where(HasRightAge)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Greet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LetIn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token named-parameter punctuation"}},[t._v("Right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" _ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token named-parameter punctuation"}},[t._v("Left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rejection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("LogRejection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rejection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// impure function")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Left track")]),t._v(" "),a("p",[t._v("Once any of the functions returns "),a("code",[t._v("Left<T>")]),t._v(' there is no way back to the "right"\ntrack.')])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Left track")]),t._v(" "),a("p",[t._v("Once any of the functions returns "),a("code",[t._v("Left<T>")]),t._v(' there is no way back to the "right"\ntrack.')])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("Left track")]),t._v(" "),a("p",[t._v("Once any of the functions returns "),a("code",[t._v("Left<T>")]),t._v(' there is no way back to the "right"\ntrack.')])]),t._v(" "),a("h2",{attrs:{id:"error-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-types"}},[t._v("#")]),t._v(" Error Types")]),t._v(" "),a("p",[t._v('There should be a special type for the "left" (error) scenario. We could have a\nsimple base '),a("code",[t._v("Error")]),t._v(" with all necessary properties (like "),a("code",[t._v("string Message")]),t._v(") and,\nwhen needed, we could create derived error types. Such error types could contain\npredefined error messages for convenience.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Custom error types help to establish a domain, they give a good overview of\npossible errors.")])])])}),[],!1,null,null,null);s.default=e.exports}}]);