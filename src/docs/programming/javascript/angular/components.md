---
title: Components
description: Components in Angular SPA framework
tags: angular, spa, js, ts, component
lang: en-US
---

# Components

Usually we have the `AppComponent`, which is the root of the app. Each component
is split into 4 files:

-   HTML
-   CSS
-   TypeScript
-   spec.ts

Usually, each component has its own folder. We store them in the `app` folder
(that is pregenerated by `ng new`) or some subfolders of it.

Here's the simplest component:

```ts
import { Component } from "@angular/core";

@Component({
    selector: "app-root",
    templateUrl: "./app.component.html",
    styleUrls: ["./app.component.css"],
})
export class AppComponent {}
```

Angular promotes the s;eparation of things into different files, opposed to
frameworks like Vue.js. However, we are able to have HTML/CSS in the `ts` file
simply by replacing `templateUrl`/`styleUrls` with `template`/`styles` and
providing the HTML there as a string.

## selector

The selector is usually prefixed with `app-` to keep us from overwriting HTML
tags.

The `selector` does not have to be an HTML tag. It can also be an attribute or a
class:

-   `selector: 'app-root'` - it will match HTML elements `<app-root></app-root>`.
-   `selector: '[app-root]'` - it will match any HTML element with that attribue,
    e.g. `<div app-root></div>`.
-   `selector: '.app-root'` - it will match any HTML element that has the
    `app-root` class on it, e.g. `<div class="app-root"></div>`.

The `selector` property is actually not just the way to name the component. It
is a specifier of where to render it. It's kind of similar to Kubernetes'
Service object and its `selector`, which specifies where to send the traffic. I
know that this analogy is a bit of a stretch.

Most often we just specify our own tag for the component.

## Data Binding

### Output

We can output data with:

```html
{{ something }}
```

The variable to output needs to exist on the component:

```ts
@Component({
    selector: "app-component",
    templateUrl: "./app.component.html",
})
export class AppComponent {
    something = 10;
}
s;
```

::: tip
Inside of `{{}}` you can actually have any JS/TS expression, like a call to some
method.

It can't contain `if` condition though.
:::

### Property Binding

```html
<button [disabled]="!allowNewServer">Add Server</button>
```

The `disabled` property of a button is controlled by the `allowNewServer`
property on our component:

```ts
@Component({
    selector: "app-servers",
    templateUrl: "./servers.component.html",
    styleUrls: ["./servers.component.css"],
})
export class ServersComponent implements OnInit {
    allowNewServer = false;
}
```

::: tip innerText
Every tag has `innerText` property, which sets the content of the tag, e.g.:

```html
<p [innerText]="Content"></p>
```

produces

```html
<p>Content</p>
```

The `{{}}` would also work.
:::

#### Two-way Binding

In forms it is useful to bind in two-ways, so that we can control the contents
of the input and also read that content.

Here's an example:

```html
<input type="text" [(ngModel)]="username" />
```

I am able to access `username` in the TS code and I am also able to modify it.

## Events

We can bind to "native" events with `(event)="expression"`. For example:

```html
<button (click)="onButtonClick()">Add</button>
```

The `onButtonClick` method would have to exist on our component. We could also
put some expression directly in the HTML instead of invoking a method.

### Event Details

We can pass an object with event details by including `$event`:

```html
<button (click)="onButtonClick($event)">Add</button>
```

### Custom Events

Our comonents can emit custom events that the parent of the component can
handle:

```ts{3}
@Component(...)
export class MyComponent {
    @Output() userCreated = new EventEmitter<User>();

    someMethod() {
        this.userCreated.emit({name: 'Greg', age: 22});
    }
}
```

The parent comonent would attach to that event like this:

```html
<app-my-component (userCreated)="onUserCreated($event)"></ap-my-component>
```

The `onUserCreated` would be some method defined on that parent. The `$event`
would be the instance of `User` the `MyComponent` passed to the event.

::: tip
`EventEmitter<>` and `Output` must be imported from `@angular/core`.
:::

We can alias the name of the event similarly to how we can do that in **Inuts**
that I will describe next.

## Inputs

In order to allow our components to accept "arguments", we need to define them,
like this:

```ts{3}
@Component(...)
export class MyComponent {
    @Input() name: string;
}
```

The parent component would pass data into `MyComponent` like this:

```html
<app-my-component [name]="Steve"></app-my-component>
```

::: tip Aliasing
We can change the property's name that the parent sees with:

```ts
@Input('username') name: string;
```

Now, the parent has to bind to `username`, not `name`:

```html
<app-my-component [username]="Steve"></app-my-component>
```
:::
